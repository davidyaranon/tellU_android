import{_ as oe,W as ie}from"./index-19dbe8d9.js";const le="jeep-photoviewer";let T,D,u=!1,x=!1;const g=(e,t="")=>()=>{},re=(e,t)=>()=>{},ce="{visibility:hidden}.hydrated{visibility:inherit}",A={},ae="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml",de=e=>e!=null,k=e=>(e=typeof e,e==="object"||e==="function"),fe=(e,t,...n)=>{let s=null,o=!1,i=!1;const l=[],c=a=>{for(let $=0;$<a.length;$++)s=a[$],Array.isArray(s)?c(s):s!=null&&typeof s!="boolean"&&((o=typeof e!="function"&&!k(s))&&(s=String(s)),o&&i?l[l.length-1].$text$+=s:l.push(o?O(null,s):s),i=o)};if(c(n),t){const a=t.className||t.class;a&&(t.class=typeof a!="object"?a:Object.keys(a).filter($=>a[$]).join(" "))}const r=O(e,null);return r.$attrs$=t,l.length>0&&(r.$children$=l),r},O=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},ue={},he=e=>e&&e.$tag$===ue,pe=(e,t)=>e!=null&&!k(e)?t&2?parseFloat(e):t&1?String(e):e:e,ge=(e,t,n)=>{const s=f.ce(t,n);return e.dispatchEvent(s),s},q=new WeakMap,me=(e,t,n)=>{let s=b.get(e);Ue&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=t:s.replaceSync(t)):s=t,b.set(e,s)},ye=(e,t,n,s)=>{let o=R(t);const i=b.get(o);if(e=e.nodeType===11?e:y,i)if(typeof i=="string"){e=e.head||e;let l=q.get(e),c;l||q.set(e,l=new Set),l.has(o)||(c=y.createElement("style"),c.innerHTML=i,e.insertBefore(c,e.querySelector("link")),l&&l.add(o))}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return o},Se=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,s=t.$flags$,o=g("attachStyles",t.$tagName$),i=ye(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);s&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),o()},R=(e,t)=>"sc-"+e.$tagName$,z=(e,t,n,s,o,i)=>{if(n!==s){let l=F(e,t),c=t.toLowerCase();if(t==="class"){const r=e.classList,a=U(n),$=U(s);r.remove(...a.filter(d=>d&&!$.includes(d))),r.add(...$.filter(d=>d&&!a.includes(d)))}else if(t==="style"){for(const r in n)(!s||s[r]==null)&&(r.includes("-")?e.style.removeProperty(r):e.style[r]="");for(const r in s)(!n||s[r]!==n[r])&&(r.includes("-")?e.style.setProperty(r,s[r]):e.style[r]=s[r])}else if(!l&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):F(L,c)?t=c.slice(2):t=c[2]+t.slice(3),n&&f.rel(e,t,n,!1),s&&f.ael(e,t,s,!1);else{const r=k(s);if((l||r&&s!==null)&&!o)try{if(e.tagName.includes("-"))e[t]=s;else{const a=s==null?"":s;t==="list"?l=!1:(n==null||e[t]!=a)&&(e[t]=a)}}catch(a){}s==null||s===!1?(s!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!l||i&4||o)&&!r&&(s=s===!0?"":s,e.setAttribute(t,s))}}},Pe=/\s/,U=e=>e?e.split(Pe):[],Z=(e,t,n,s)=>{const o=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||A,l=t.$attrs$||A;for(s in i)s in l||z(o,s,i[s],void 0,n,t.$flags$);for(s in l)z(o,s,i[s],l[s],n,t.$flags$)},I=(e,t,n,s)=>{const o=t.$children$[n];let i=0,l,c;if(o.$text$!==null)l=o.$elm$=y.createTextNode(o.$text$);else{if(u||(u=o.$tag$==="svg"),l=o.$elm$=y.createElementNS(u?ae:$e,o.$tag$),u&&o.$tag$==="foreignObject"&&(u=!1),Z(null,o,u),de(T)&&l["s-si"]!==T&&l.classList.add(l["s-si"]=T),o.$children$)for(i=0;i<o.$children$.length;++i)c=I(e,o,i),c&&l.appendChild(c);o.$tag$==="svg"?u=!1:l.tagName==="foreignObject"&&(u=!0)}return l},Y=(e,t,n,s,o,i)=>{let l=e,c;for(l.shadowRoot&&l.tagName===D&&(l=l.shadowRoot);o<=i;++o)s[o]&&(c=I(null,n,o),c&&(s[o].$elm$=c,l.insertBefore(c,t)))},X=(e,t,n,s,o)=>{for(;t<=n;++t)(s=e[t])&&(o=s.$elm$,o.remove())},ve=(e,t,n,s)=>{let o=0,i=0,l=t.length-1,c=t[0],r=t[l],a=s.length-1,$=s[0],d=s[a],h;for(;o<=l&&i<=a;)c==null?c=t[++o]:r==null?r=t[--l]:$==null?$=s[++i]:d==null?d=s[--a]:j(c,$)?(v(c,$),c=t[++o],$=s[++i]):j(r,d)?(v(r,d),r=t[--l],d=s[--a]):j(c,d)?(v(c,d),e.insertBefore(c.$elm$,r.$elm$.nextSibling),c=t[++o],d=s[--a]):j(r,$)?(v(r,$),e.insertBefore(r.$elm$,c.$elm$),r=t[--l],$=s[++i]):(h=I(t&&t[i],n,i),$=s[++i],h&&c.$elm$.parentNode.insertBefore(h,c.$elm$));o>l?Y(e,s[a+1]==null?null:s[a+1].$elm$,n,s,i,a):i>a&&X(t,o,l)},j=(e,t)=>e.$tag$===t.$tag$,v=(e,t)=>{const n=t.$elm$=e.$elm$,s=e.$children$,o=t.$children$,i=t.$tag$,l=t.$text$;l===null?(u=i==="svg"?!0:i==="foreignObject"?!1:u,i==="slot"||Z(e,t,u),s!==null&&o!==null?ve(n,s,t,o):o!==null?(e.$text$!==null&&(n.textContent=""),Y(n,null,t,o,0,o.length-1)):s!==null&&X(s,0,s.length-1),u&&i==="svg"&&(u=!1)):e.$text$!==l&&(n.data=l)},Le=(e,t)=>{const n=e.$hostElement$,s=e.$cmpMeta$,o=e.$vnode$||O(null,null),i=he(t)?t:fe(null,null,t);D=n.tagName,s.$attrsToReflect$&&(i.$attrs$=i.$attrs$||{},s.$attrsToReflect$.map(([l,c])=>i.$attrs$[c]=n[l])),i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=o.$elm$=n.shadowRoot||n,T=n["s-sc"],v(o,i)},G=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(n=>e.$onRenderResolve$=n))},M=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return G(e,e.$ancestorComponent$),Je(()=>Ee(e,t))},Ee=(e,t)=>{const n=g("scheduleUpdate",e.$cmpMeta$.$tagName$),s=e.$lazyInstance$;let o;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([i,l])=>_(s,i,l)),e.$queuedListeners$=null),o=_(s,"componentWillLoad")),n(),_e(o,()=>we(e,s,t))},we=async(e,t,n)=>{const s=e.$hostElement$,o=g("update",e.$cmpMeta$.$tagName$),i=s["s-rc"];n&&Se(e);const l=g("render",e.$cmpMeta$.$tagName$);je(e,t),i&&(i.map(c=>c()),s["s-rc"]=void 0),l(),o();{const c=s["s-p"],r=()=>Te(e);c.length===0?r():(Promise.all(c).then(r),e.$flags$|=4,c.length=0)}},je=(e,t,n)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,Le(e,t)}catch(s){S(s,e.$hostElement$)}return null},Te=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,s=g("postUpdate",t),o=e.$lazyInstance$,i=e.$ancestorComponent$;_(o,"componentDidRender"),e.$flags$&64?s():(e.$flags$|=64,Q(n),_(o,"componentDidLoad"),s(),e.$onReadyResolve$(n),i||K()),e.$onInstanceResolve$(n),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&B(()=>M(e,!1)),e.$flags$&=-517},K=e=>{Q(y.documentElement),B(()=>ge(L,"appload",{detail:{namespace:le}}))},_=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(s){S(s)}},_e=(e,t)=>e&&e.then?e.then(t):t(),Q=e=>e.classList.add("hydrated"),be=(e,t)=>P(e).$instanceValues$.get(t),xe=(e,t,n,s)=>{const o=P(e),i=o.$hostElement$,l=o.$instanceValues$.get(t),c=o.$flags$,r=o.$lazyInstance$;n=pe(n,s.$members$[t][0]);const a=Number.isNaN(l)&&Number.isNaN(n),$=n!==l&&!a;if((!(c&8)||l===void 0)&&$&&(o.$instanceValues$.set(t,n),r)){if(s.$watchers$&&c&128){const d=s.$watchers$[t];d&&d.map(h=>{try{r[h](n,l,t)}catch(m){S(m,i)}})}(c&18)===2&&M(o,!1)}},N=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const s=Object.entries(t.$members$),o=e.prototype;if(s.map(([i,[l]])=>{l&31||n&2&&l&32?Object.defineProperty(o,i,{get(){return be(this,i)},set(c){xe(this,i,c,t)},configurable:!0,enumerable:!0}):n&1&&l&64&&Object.defineProperty(o,i,{value(...c){const r=P(this);return r.$onInstancePromise$.then(()=>r.$lazyInstance$[i](...c))}})}),n&1){const i=new Map;o.attributeChangedCallback=function(l,c,r){f.jmp(()=>{const a=i.get(l);if(this.hasOwnProperty(a))r=this[a],delete this[a];else if(o.hasOwnProperty(a)&&typeof this[a]=="number"&&this[a]==r)return;this[a]=r===null&&typeof this[a]=="boolean"?!1:r})},e.observedAttributes=s.filter(([l,c])=>c[0]&15).map(([l,c])=>{const r=c[1]||l;return i.set(r,l),c[0]&512&&t.$attrsToReflect$.push([l,r]),r})}}return e},Oe=async(e,t,n,s,o)=>{if(!(t.$flags$&32)){{if(t.$flags$|=32,o=ze(n),o.then){const r=re();o=await o,r()}o.isProxied||(n.$watchers$=o.watchers,N(o,n,2),o.isProxied=!0);const c=g("createInstance",n.$tagName$);t.$flags$|=8;try{new o(t)}catch(r){S(r)}t.$flags$&=-9,t.$flags$|=128,c()}if(o.style){let c=o.style;const r=R(n);if(!b.has(r)){const a=g("registerStyles",n.$tagName$);me(r,c,!!(n.$flags$&1)),a()}}}const i=t.$ancestorComponent$,l=()=>M(t,!0);i&&i["s-rc"]?i["s-rc"].push(l):l()},He=e=>{if(!(f.$flags$&1)){const t=P(e),n=t.$cmpMeta$,s=g("connectedCallback",n.$tagName$);if(t.$flags$&1)V(e,t,n.$listeners$);else{t.$flags$|=1;{let o=e;for(;o=o.parentNode||o.host;)if(o["s-p"]){G(t,t.$ancestorComponent$=o);break}}n.$members$&&Object.entries(n.$members$).map(([o,[i]])=>{if(i&31&&e.hasOwnProperty(o)){const l=e[o];delete e[o],e[o]=l}}),Oe(e,t,n)}s()}},ke=e=>{if(!(f.$flags$&1)){const t=P(e);t.$rmListeners$&&(t.$rmListeners$.map(n=>n()),t.$rmListeners$=void 0)}},Ie=(e,t={})=>{const n=g(),s=[],o=t.exclude||[],i=L.customElements,l=y.head,c=l.querySelector("meta[charset]"),r=y.createElement("style"),a=[];let $,d=!0;Object.assign(f,t),f.$resourcesUrl$=new URL(t.resourcesUrl||"./",y.baseURI).href,e.map(h=>{h[1].map(m=>{const p={$flags$:m[0],$tagName$:m[1],$members$:m[2],$listeners$:m[3]};p.$members$=m[2],p.$listeners$=m[3],p.$attrsToReflect$=[],p.$watchers$={};const E=p.$tagName$,ne=class extends HTMLElement{constructor(w){super(w),w=this,qe(w,p),p.$flags$&1&&w.attachShadow({mode:"open"})}connectedCallback(){$&&(clearTimeout($),$=null),d?a.push(this):f.jmp(()=>He(this))}disconnectedCallback(){f.jmp(()=>ke(this))}componentOnReady(){return P(this).$onReadyPromise$}};p.$lazyBundleId$=h[0],!o.includes(E)&&!i.get(E)&&(s.push(E),i.define(E,N(ne,p,1)))})}),r.innerHTML=s+ce,r.setAttribute("data-styles",""),l.insertBefore(r,c?c.nextSibling:l.firstChild),d=!1,a.length?a.map(h=>h.connectedCallback()):f.jmp(()=>$=setTimeout(K,30)),n()},V=(e,t,n,s)=>{n&&n.map(([o,i,l])=>{const c=Be(e,o),r=Me(t,l),a=Ae(o);f.ael(c,i,r,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>f.rel(c,i,r,a))})},Me=(e,t)=>n=>{try{e.$flags$&256?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(s){S(s)}},Be=(e,t)=>t&8?L:e,Ae=e=>(e&2)!==0,ee=new WeakMap,P=e=>ee.get(e),qe=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(s=>n.$onInstanceResolve$=s),n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),e["s-p"]=[],e["s-rc"]=[],V(e,n,t.$listeners$),ee.set(e,n)},F=(e,t)=>t in e,S=(e,t)=>(0,console.error)(e,t),J=new Map,ze=(e,t,n)=>{const s=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,i=J.get(o);if(i)return i[s];/*!__STENCIL_STATIC_IMPORT_SWITCH__*/return oe(()=>import(`./${o}.entry.js`),[]).then(l=>(J.set(o,l),l[s]),S)},b=new Map,L=typeof window<"u"?window:{},y=L.document||{head:{}},f={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,s)=>e.addEventListener(t,n,s),rel:(e,t,n,s)=>e.removeEventListener(t,n,s),ce:(e,t)=>new CustomEvent(e,t)},te=e=>Promise.resolve(e),Ue=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(e){}return!1})(),C=[],se=[],Fe=(e,t)=>n=>{e.push(n),x||(x=!0,t&&f.$flags$&4?B(H):f.raf(H))},W=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){S(n)}e.length=0},H=()=>{W(C),W(se),(x=C.length>0)&&f.raf(H)},B=e=>te().then(e),Je=Fe(se,!0),Ce=()=>te(),We=(e,t)=>typeof window>"u"?Promise.resolve():Ce().then(()=>Ie([["jeep-photo-buttons_6",[[1,"jeep-photoviewer",{imageList:[16],options:[16],mode:[513,"pvmode"],startFrom:[514,"pvstartfrom"],innerImageList:[32],innerOptions:[32],innerMode:[32],innerStartFrom:[32],showHScroll:[32],close:[32],init:[64],closePhotoHScroll:[64]},[[9,"resize","handleWindowResize"],[0,"jeepPhotoHscrollClose","handleJeepPhotoHscrollClose"],[0,"jeepPhotoButtonsClose","handleJeepPhotoButtonsClose"],[0,"jeepPhotoHscrollResult","handleJeepPhotoHscrollResult"]]],[1,"jeep-photo-hscroll",{position:[514,"selposition"],imageList:[16],options:[16],mode:[513,"pvmode"],innerImageList:[32],innerOptions:[32],innerPosition:[32],innerMode:[32],buttonsVisibility:[32],isFullscreen:[32],photoZoom:[32],share:[32],shareShow:[32],titleShow:[32],maxZoomScale:[32],currentIndex:[32],init:[64],setCarousel:[64]},[[9,"resize","handleWindowResize"],[0,"jeepPhotoButtonsClose","handleJeepPhotoButtonsClose"],[0,"jeepPhotoButtonsShare","handleJeepPhotoButtonsShare"],[0,"jeepPhotoShareCompleted","handleJeepPhotoShareCompleted"],[0,"jeepPhotoRequestFullscreen","handleJeepPhotoFullscreenRequest"],[0,"jeepPhotoRequestMinimize","handleJeepPhotoMinimizeRequest"],[0,"jeepPhotoZoomOneTap","handleJeepPhotoZoomOneTap"],[0,"jeepPhotoSwipe","handleJeepPhotoSwipe"]]],[1,"jeep-photo-buttons",{share:[513,"sharevisible"],viewmode:[513],closebutton:[513],fromcomponent:[513],innerShare:[32],innerViewmode:[32],innerCloseButton:[32],innerFromComponent:[32],visible:[32],mode:[32],init:[64],setPhotoButtons:[64],setJeepPhotoButtonsVisibility:[64]}],[1,"jeep-photo-share",{surl:[513],stitle:[513],stext:[513],innerUrl:[32],innerTitle:[32],innerText:[32],init:[64],setShare:[64]}],[1,"jeep-photo-swipe",{timeThreshold:[514,"timethreshold"],thresholdX:[514,"thresholdx"],thresholdY:[514,"thresholdy"],innerTimeThreshold:[32],innerThresholdX:[32],innerThresholdY:[32],init:[64],handleTouchStart:[64],handleTouchEnd:[64],handleMouseDown:[64],handleMouseUp:[64]}],[1,"jeep-photo-zoom",{url:[513],maxzoomscale:[514],innerUrl:[32],innerMaxZoomScale:[32],init:[64],setPhoto:[64]}]]]],t));(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();class Re extends ie{constructor(){super(...arguments),this._imageList=[],this._options={},this._mode="one",this._startFrom=0,this._modeList=["one","gallery","slider"]}async echo(t){return t}async show(t){return new Promise((n,s)=>{var o;if(We(),Object.keys(t).includes("images")&&(this._imageList=t.images),Object.keys(t).includes("options")&&(this._options=(o=t.options)!==null&&o!==void 0?o:{}),Object.keys(t).includes("mode")){const r=t.mode;this._modeList.includes(r)&&(this._mode=r!=null?r:"one")}if(Object.keys(t).includes("startFrom")){const r=t.startFrom;this._startFrom=r!=null?r:0}const i=document.createElement("jeep-photoviewer");i.imageList=this._imageList,i.mode=this._mode,(this._mode==="one"||this._mode==="slider")&&(i.startFrom=this._startFrom);const l=Object.keys(this._options);let c;if(l.length>0?(i.options=this._options,l.includes("divid")?c=this._options.divid:c="photoviewer-container"):c="photoviewer-container",this._container=document.querySelector(`#${c}`),this._container!=null){const r=this._container.querySelector("jeep-photoviewer");r!=null&&this._container.removeChild(r),i.addEventListener("jeepPhotoViewerResult",async a=>{const $=a.detail;$===null?s("Error: event does not include detail "):(this.notifyListeners("jeepCapPhotoViewerExit",$),this._container.removeChild(i),n($))},!1),this._container.appendChild(i)}else s("Div id='photoviewer-container' not found")})}}export{Re as PhotoViewerWeb};
