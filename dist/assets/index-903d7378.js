function Cie(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function ql(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pT={exports:{}},hm={},mT={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=Symbol.for("react.element"),bM=Symbol.for("react.portal"),vM=Symbol.for("react.fragment"),yM=Symbol.for("react.strict_mode"),wM=Symbol.for("react.profiler"),xM=Symbol.for("react.provider"),kM=Symbol.for("react.context"),_M=Symbol.for("react.forward_ref"),EM=Symbol.for("react.suspense"),CM=Symbol.for("react.memo"),SM=Symbol.for("react.lazy"),Qk=Symbol.iterator;function IM(t){return t===null||typeof t!="object"?null:(t=Qk&&t[Qk]||t["@@iterator"],typeof t=="function"?t:null)}var gT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bT=Object.assign,vT={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=vT,this.updater=n||gT}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yT(){}yT.prototype=Wl.prototype;function J0(t,e,n){this.props=t,this.context=e,this.refs=vT,this.updater=n||gT}var Z0=J0.prototype=new yT;Z0.constructor=J0;bT(Z0,Wl.prototype);Z0.isPureReactComponent=!0;var Xk=Array.isArray,wT=Object.prototype.hasOwnProperty,ew={current:null},xT={key:!0,ref:!0,__self:!0,__source:!0};function kT(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)wT.call(e,i)&&!xT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:xd,type:t,key:o,ref:s,props:r,_owner:ew.current}}function TM(t,e){return{$$typeof:xd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===xd}function AM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jk=/\/+/g;function lb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AM(""+t.key):e.toString(36)}function hf(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xd:case bM:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+lb(s,0):i,Xk(r)?(n="",t!=null&&(n=t.replace(Jk,"$&/")+"/"),hf(r,e,n,"",function(c){return c})):r!=null&&(tw(r)&&(r=TM(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Jk,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Xk(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+lb(o,a);s+=hf(o,e,n,l,r)}else if(l=IM(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+lb(o,a++),s+=hf(o,e,n,l,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wh(t,e,n){if(t==null)return t;var i=[],r=0;return hf(t,i,"","",function(o){return e.call(n,o,r++)}),i}function $M(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},ff={transition:null},DM={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:ff,ReactCurrentOwner:ew};fe.Children={map:wh,forEach:function(t,e,n){wh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wh(t,function(){e++}),e},toArray:function(t){return wh(t,function(e){return e})||[]},only:function(t){if(!tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Wl;fe.Fragment=vM;fe.Profiler=wM;fe.PureComponent=J0;fe.StrictMode=yM;fe.Suspense=EM;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DM;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=bT({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ew.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wT.call(e,l)&&!xT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:xd,type:t.type,key:r,ref:o,props:i,_owner:s}};fe.createContext=function(t){return t={$$typeof:kM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xM,_context:t},t.Consumer=t};fe.createElement=kT;fe.createFactory=function(t){var e=kT.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:_M,render:t}};fe.isValidElement=tw;fe.lazy=function(t){return{$$typeof:SM,_payload:{_status:-1,_result:t},_init:$M}};fe.memo=function(t,e){return{$$typeof:CM,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=ff.transition;ff.transition={};try{t()}finally{ff.transition=e}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(t,e){return vn.current.useCallback(t,e)};fe.useContext=function(t){return vn.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};fe.useEffect=function(t,e){return vn.current.useEffect(t,e)};fe.useId=function(){return vn.current.useId()};fe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return vn.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};fe.useRef=function(t){return vn.current.useRef(t)};fe.useState=function(t){return vn.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return vn.current.useTransition()};fe.version="18.2.0";mT.exports=fe;var ne=mT.exports;const E=ql(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM=ne,PM=Symbol.for("react.element"),OM=Symbol.for("react.fragment"),NM=Object.prototype.hasOwnProperty,LM=RM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MM={key:!0,ref:!0,__self:!0,__source:!0};function _T(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)NM.call(e,i)&&!MM.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:PM,type:t,key:o,ref:s,props:r,_owner:LM.current}}hm.Fragment=OM;hm.jsx=_T;hm.jsxs=_T;pT.exports=hm;var nw=pT.exports;const FM=nw.Fragment,C=nw.jsx,Ie=nw.jsxs;var ET={exports:{}},Hn={},CT={exports:{}},ST={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,N){var D=F.length;F.push(N);e:for(;0<D;){var V=D-1>>>1,W=F[V];if(0<r(W,N))F[V]=N,F[D]=W,D=V;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var N=F[0],D=F.pop();if(D!==N){F[0]=D;e:for(var V=0,W=F.length,ie=W>>>1;V<ie;){var ce=2*(V+1)-1,se=F[ce],Fe=ce+1,Ve=F[Fe];if(0>r(se,D))Fe<W&&0>r(Ve,se)?(F[V]=Ve,F[Fe]=D,V=Fe):(F[V]=se,F[ce]=D,V=ce);else if(Fe<W&&0>r(Ve,D))F[V]=Ve,F[Fe]=D,V=Fe;else break e}}return N}function r(F,N){var D=F.sortIndex-N.sortIndex;return D!==0?D:F.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var N=n(c);N!==null;){if(N.callback===null)i(c);else if(N.startTime<=F)i(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(c)}}function k(F){if(m=!1,v(F),!p)if(n(l)!==null)p=!0,Ee($);else{var N=n(c);N!==null&&ze(k,N.startTime-F)}}function $(F,N){p=!1,m&&(m=!1,g(S),S=-1),f=!0;var D=h;try{for(v(N),d=n(l);d!==null&&(!(d.expirationTime>N)||F&&!L());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var W=V(d.expirationTime<=N);N=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&i(l),v(N)}else i(l);d=n(l)}if(d!==null)var ie=!0;else{var ce=n(c);ce!==null&&ze(k,ce.startTime-N),ie=!1}return ie}finally{d=null,h=D,f=!1}}var _=!1,x=null,S=-1,G=5,M=-1;function L(){return!(t.unstable_now()-M<G)}function Q(){if(x!==null){var F=t.unstable_now();M=F;var N=!0;try{N=x(!0,F)}finally{N?Oe():(_=!1,x=null)}}else _=!1}var Oe;if(typeof b=="function")Oe=function(){b(Q)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ne=Ae.port2;Ae.port1.onmessage=Q,Oe=function(){Ne.postMessage(null)}}else Oe=function(){y(Q,0)};function Ee(F){x=F,_||(_=!0,Oe())}function ze(F,N){S=y(function(){F(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Ee($))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var D=h;h=N;try{return F()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,N){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var D=h;h=F;try{return N()}finally{h=D}},t.unstable_scheduleCallback=function(F,N,D){var V=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?V+D:V):D=V,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,F={id:u++,callback:N,priorityLevel:F,startTime:D,expirationTime:W,sortIndex:-1},D>V?(F.sortIndex=D,e(c,F),n(l)===null&&F===n(c)&&(m?(g(S),S=-1):m=!0,ze(k,D-V))):(F.sortIndex=W,e(l,F),p||f||(p=!0,Ee($))),F},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(F){var N=h;return function(){var D=h;h=N;try{return F.apply(this,arguments)}finally{h=D}}}})(ST);CT.exports=ST;var zM=CT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=ne,Un=zM;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TT=new Set,_u={};function Zs(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(_u[t]=e,t=0;t<e.length;t++)TT.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pv=Object.prototype.hasOwnProperty,BM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zk={},e_={};function UM(t){return Pv.call(e_,t)?!0:Pv.call(Zk,t)?!1:BM.test(t)?e_[t]=!0:(Zk[t]=!0,!1)}function VM(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jM(t,e,n,i){if(e===null||typeof e>"u"||VM(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iw=/[\-:]([a-z])/g;function rw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iw,rw);Xt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iw,rw);Xt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iw,rw);Xt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ow(t,e,n,i){var r=Xt.hasOwnProperty(e)?Xt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jM(e,n,r,i)&&(n=null),i||r===null?UM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Mr=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),Ra=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),$T=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),Lv=Symbol.for("react.suspense_list"),lw=Symbol.for("react.memo"),Kr=Symbol.for("react.lazy"),DT=Symbol.for("react.offscreen"),t_=Symbol.iterator;function wc(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,cb;function Vc(t){if(cb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cb=e&&e[1]||""}return`
`+cb+t}var ub=!1;function db(t,e){if(!t||ub)return"";ub=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ub=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vc(t):""}function HM(t){switch(t.tag){case 5:return Vc(t.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return t=db(t.type,!1),t;case 11:return t=db(t.type.render,!1),t;case 1:return t=db(t.type,!0),t;default:return""}}function Mv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pa:return"Fragment";case Ra:return"Portal";case Ov:return"Profiler";case sw:return"StrictMode";case Nv:return"Suspense";case Lv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $T:return(t.displayName||"Context")+".Consumer";case AT:return(t._context.displayName||"Context")+".Provider";case aw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lw:return e=t.displayName||null,e!==null?e:Mv(t.type)||"Memo";case Kr:e=t._payload,t=t._init;try{return Mv(t(e))}catch(n){}}return null}function qM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mv(e);case 8:return e===sw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WM(t){var e=RT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kh(t){t._valueTracker||(t._valueTracker=WM(t))}function PT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=RT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Fv(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function n_(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OT(t,e){e=e.checked,e!=null&&ow(t,"checked",e,!1)}function zv(t,e){OT(t,e);var n=yo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bv(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bv(t,e,n){(e!=="number"||Mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jc=Array.isArray;function Ya(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Uv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(jc(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function NT(t,e){var n=yo(e.value),i=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function o_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _h,MT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_h=_h||document.createElement("div"),_h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GM=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){GM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function FT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function zT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=FT(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var KM=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jv(t,e){if(e){if(KM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Hv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qv=null;function cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wv=null,Qa=null,Xa=null;function s_(t){if(t=Ed(t)){if(typeof Wv!="function")throw Error(O(280));var e=t.stateNode;e&&(e=bm(e),Wv(t.stateNode,t.type,e))}}function BT(t){Qa?Xa?Xa.push(t):Xa=[t]:Qa=t}function UT(){if(Qa){var t=Qa,e=Xa;if(Xa=Qa=null,s_(t),e)for(t=0;t<e.length;t++)s_(e[t])}}function VT(t,e){return t(e)}function jT(){}var hb=!1;function HT(t,e,n){if(hb)return t(e,n);hb=!0;try{return VT(t,e,n)}finally{hb=!1,(Qa!==null||Xa!==null)&&(jT(),UT())}}function Cu(t,e){var n=t.stateNode;if(n===null)return null;var i=bm(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Gv=!1;if(Tr)try{var xc={};Object.defineProperty(xc,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",xc,xc),window.removeEventListener("test",xc,xc)}catch(t){Gv=!1}function YM(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var tu=!1,Ff=null,zf=!1,Kv=null,QM={onError:function(t){tu=!0,Ff=t}};function XM(t,e,n,i,r,o,s,a,l){tu=!1,Ff=null,YM.apply(QM,arguments)}function JM(t,e,n,i,r,o,s,a,l){if(XM.apply(this,arguments),tu){if(tu){var c=Ff;tu=!1,Ff=null}else throw Error(O(198));zf||(zf=!0,Kv=c)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a_(t){if(ea(t)!==t)throw Error(O(188))}function ZM(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return a_(r),t;if(o===i)return a_(r),e;o=o.sibling}throw Error(O(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function WT(t){return t=ZM(t),t!==null?GT(t):null}function GT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GT(t);if(e!==null)return e;t=t.sibling}return null}var KT=Un.unstable_scheduleCallback,l_=Un.unstable_cancelCallback,e3=Un.unstable_shouldYield,t3=Un.unstable_requestPaint,ut=Un.unstable_now,n3=Un.unstable_getCurrentPriorityLevel,uw=Un.unstable_ImmediatePriority,YT=Un.unstable_UserBlockingPriority,Bf=Un.unstable_NormalPriority,i3=Un.unstable_LowPriority,QT=Un.unstable_IdlePriority,fm=null,Qi=null;function r3(t){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(fm,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Ei=Math.clz32?Math.clz32:a3,o3=Math.log,s3=Math.LN2;function a3(t){return t>>>=0,t===0?32:31-(o3(t)/s3|0)|0}var Eh=64,Ch=4194304;function Hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=Hc(a):(o&=s,o!==0&&(i=Hc(o)))}else s=n&~r,s!==0?i=Hc(s):o!==0&&(i=Hc(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ei(e),r=1<<n,i|=t[n],e&=~r;return i}function l3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c3(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ei(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=l3(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Yv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XT(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function fb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ei(e),t[e]=n}function u3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ei(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function dw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ei(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var De=0;function JT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZT,hw,e2,t2,n2,Qv=!1,Sh=[],lo=null,co=null,uo=null,Su=new Map,Iu=new Map,Qr=[],d3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c_(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function kc(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Ed(e),e!==null&&hw(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function h3(t,e,n,i,r){switch(e){case"focusin":return lo=kc(lo,t,e,n,i,r),!0;case"dragenter":return co=kc(co,t,e,n,i,r),!0;case"mouseover":return uo=kc(uo,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Su.set(o,kc(Su.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Iu.set(o,kc(Iu.get(o)||null,t,e,n,i,r)),!0}return!1}function i2(t){var e=ls(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=qT(n),e!==null){t.blockedOn=e,n2(t.priority,function(){e2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);qv=i,n.target.dispatchEvent(i),qv=null}else return e=Ed(n),e!==null&&hw(e),t.blockedOn=n,!1;e.shift()}return!0}function u_(t,e,n){pf(t)&&n.delete(e)}function f3(){Qv=!1,lo!==null&&pf(lo)&&(lo=null),co!==null&&pf(co)&&(co=null),uo!==null&&pf(uo)&&(uo=null),Su.forEach(u_),Iu.forEach(u_)}function _c(t,e){t.blockedOn===e&&(t.blockedOn=null,Qv||(Qv=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,f3)))}function Tu(t){function e(r){return _c(r,t)}if(0<Sh.length){_c(Sh[0],t);for(var n=1;n<Sh.length;n++){var i=Sh[n];i.blockedOn===t&&(i.blockedOn=null)}}for(lo!==null&&_c(lo,t),co!==null&&_c(co,t),uo!==null&&_c(uo,t),Su.forEach(e),Iu.forEach(e),n=0;n<Qr.length;n++)i=Qr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)i2(n),n.blockedOn===null&&Qr.shift()}var Ja=Mr.ReactCurrentBatchConfig,Vf=!0;function p3(t,e,n,i){var r=De,o=Ja.transition;Ja.transition=null;try{De=1,fw(t,e,n,i)}finally{De=r,Ja.transition=o}}function m3(t,e,n,i){var r=De,o=Ja.transition;Ja.transition=null;try{De=4,fw(t,e,n,i)}finally{De=r,Ja.transition=o}}function fw(t,e,n,i){if(Vf){var r=Xv(t,e,n,i);if(r===null)_b(t,e,i,jf,n),c_(t,i);else if(h3(r,t,e,n,i))i.stopPropagation();else if(c_(t,i),e&4&&-1<d3.indexOf(t)){for(;r!==null;){var o=Ed(r);if(o!==null&&ZT(o),o=Xv(t,e,n,i),o===null&&_b(t,e,i,jf,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else _b(t,e,i,null,n)}}var jf=null;function Xv(t,e,n,i){if(jf=null,t=cw(i),t=ls(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function r2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n3()){case uw:return 1;case YT:return 4;case Bf:case i3:return 16;case QT:return 536870912;default:return 16}default:return 16}}var oo=null,pw=null,mf=null;function o2(){if(mf)return mf;var t,e=pw,n=e.length,i,r="value"in oo?oo.value:oo.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return mf=r.slice(t,1<i?1-i:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function d_(){return!1}function qn(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ih:d_,this.isPropagationStopped=d_,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mw=qn(Gl),_d=ot({},Gl,{view:0,detail:0}),g3=qn(_d),pb,mb,Ec,pm=ot({},_d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ec&&(Ec&&t.type==="mousemove"?(pb=t.screenX-Ec.screenX,mb=t.screenY-Ec.screenY):mb=pb=0,Ec=t),pb)},movementY:function(t){return"movementY"in t?t.movementY:mb}}),h_=qn(pm),b3=ot({},pm,{dataTransfer:0}),v3=qn(b3),y3=ot({},_d,{relatedTarget:0}),gb=qn(y3),w3=ot({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),x3=qn(w3),k3=ot({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_3=qn(k3),E3=ot({},Gl,{data:0}),f_=qn(E3),C3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I3[t])?!!e[t]:!1}function gw(){return T3}var A3=ot({},_d,{key:function(t){if(t.key){var e=C3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gw,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$3=qn(A3),D3=ot({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p_=qn(D3),R3=ot({},_d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gw}),P3=qn(R3),O3=ot({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),N3=qn(O3),L3=ot({},pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M3=qn(L3),F3=[9,13,27,32],bw=Tr&&"CompositionEvent"in window,nu=null;Tr&&"documentMode"in document&&(nu=document.documentMode);var z3=Tr&&"TextEvent"in window&&!nu,s2=Tr&&(!bw||nu&&8<nu&&11>=nu),m_=String.fromCharCode(32),g_=!1;function a2(t,e){switch(t){case"keyup":return F3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function B3(t,e){switch(t){case"compositionend":return l2(e);case"keypress":return e.which!==32?null:(g_=!0,m_);case"textInput":return t=e.data,t===m_&&g_?null:t;default:return null}}function U3(t,e){if(Oa)return t==="compositionend"||!bw&&a2(t,e)?(t=o2(),mf=pw=oo=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s2&&e.locale!=="ko"?null:e.data;default:return null}}var V3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!V3[t.type]:e==="textarea"}function c2(t,e,n,i){BT(i),e=Hf(e,"onChange"),0<e.length&&(n=new mw("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var iu=null,Au=null;function j3(t){w2(t,0)}function mm(t){var e=Ma(t);if(PT(e))return t}function H3(t,e){if(t==="change")return e}var u2=!1;if(Tr){var bb;if(Tr){var vb="oninput"in document;if(!vb){var v_=document.createElement("div");v_.setAttribute("oninput","return;"),vb=typeof v_.oninput=="function"}bb=vb}else bb=!1;u2=bb&&(!document.documentMode||9<document.documentMode)}function y_(){iu&&(iu.detachEvent("onpropertychange",d2),Au=iu=null)}function d2(t){if(t.propertyName==="value"&&mm(Au)){var e=[];c2(e,Au,t,cw(t)),HT(j3,e)}}function q3(t,e,n){t==="focusin"?(y_(),iu=e,Au=n,iu.attachEvent("onpropertychange",d2)):t==="focusout"&&y_()}function W3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mm(Au)}function G3(t,e){if(t==="click")return mm(e)}function K3(t,e){if(t==="input"||t==="change")return mm(e)}function Y3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $i=typeof Object.is=="function"?Object.is:Y3;function $u(t,e){if($i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Pv.call(e,r)||!$i(t[r],e[r]))return!1}return!0}function w_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x_(t,e){var n=w_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w_(n)}}function h2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f2(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Mf(t.document)}return e}function vw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q3(t){var e=f2(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h2(n.ownerDocument.documentElement,n)){if(i!==null&&vw(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=x_(n,o);var s=x_(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X3=Tr&&"documentMode"in document&&11>=document.documentMode,Na=null,Jv=null,ru=null,Zv=!1;function k_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zv||Na==null||Na!==Mf(i)||(i=Na,"selectionStart"in i&&vw(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ru&&$u(ru,i)||(ru=i,i=Hf(Jv,"onSelect"),0<i.length&&(e=new mw("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Na)))}function Th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},yb={},p2={};Tr&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function gm(t){if(yb[t])return yb[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p2)return yb[t]=e[n];return t}var m2=gm("animationend"),g2=gm("animationiteration"),b2=gm("animationstart"),v2=gm("transitionend"),y2=new Map,__="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){y2.set(t,e),Zs(e,[t])}for(var wb=0;wb<__.length;wb++){var xb=__[wb],J3=xb.toLowerCase(),Z3=xb[0].toUpperCase()+xb.slice(1);No(J3,"on"+Z3)}No(m2,"onAnimationEnd");No(g2,"onAnimationIteration");No(b2,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(v2,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eF=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function E_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,JM(i,e,void 0,t),t.currentTarget=null}function w2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;E_(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;E_(r,a,c),o=l}}}if(zf)throw t=Kv,zf=!1,Kv=null,t}function je(t,e){var n=e[ry];n===void 0&&(n=e[ry]=new Set);var i=t+"__bubble";n.has(i)||(x2(e,t,2,!1),n.add(i))}function kb(t,e,n){var i=0;e&&(i|=4),x2(n,t,i,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Ah]){t[Ah]=!0,TT.forEach(function(n){n!=="selectionchange"&&(eF.has(n)||kb(n,!1,t),kb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,kb("selectionchange",!1,e))}}function x2(t,e,n,i){switch(r2(e)){case 1:var r=p3;break;case 4:r=m3;break;default:r=fw}n=r.bind(null,e,n,t),r=void 0,!Gv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _b(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=ls(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}HT(function(){var c=o,u=cw(n),d=[];e:{var h=y2.get(t);if(h!==void 0){var f=mw,p=t;switch(t){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":f=$3;break;case"focusin":p="focus",f=gb;break;case"focusout":p="blur",f=gb;break;case"beforeblur":case"afterblur":f=gb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=h_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=v3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=P3;break;case m2:case g2:case b2:f=x3;break;case v2:f=N3;break;case"scroll":f=g3;break;case"wheel":f=M3;break;case"copy":case"cut":case"paste":f=_3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=p_}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,v;b!==null;){v=b;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,g!==null&&(k=Cu(b,g),k!=null&&m.push(Ru(b,k,v)))),y)break;b=b.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==qv&&(p=n.relatedTarget||n.fromElement)&&(ls(p)||p[Ar]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ls(p):null,p!==null&&(y=ea(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=h_,k="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=p_,k="onPointerLeave",g="onPointerEnter",b="pointer"),y=f==null?h:Ma(f),v=p==null?h:Ma(p),h=new m(k,b+"leave",f,n,u),h.target=y,h.relatedTarget=v,k=null,ls(u)===c&&(m=new m(g,b+"enter",p,n,u),m.target=v,m.relatedTarget=y,k=m),y=k,f&&p)t:{for(m=f,g=p,b=0,v=m;v;v=ba(v))b++;for(v=0,k=g;k;k=ba(k))v++;for(;0<b-v;)m=ba(m),b--;for(;0<v-b;)g=ba(g),v--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=ba(m),g=ba(g)}m=null}else m=null;f!==null&&C_(d,h,f,m,!1),p!==null&&y!==null&&C_(d,y,p,m,!0)}}e:{if(h=c?Ma(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var $=H3;else if(b_(h))if(u2)$=K3;else{$=W3;var _=q3}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=G3);if($&&($=$(t,c))){c2(d,$,n,u);break e}_&&_(t,h,c),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Bv(h,"number",h.value)}switch(_=c?Ma(c):window,t){case"focusin":(b_(_)||_.contentEditable==="true")&&(Na=_,Jv=c,ru=null);break;case"focusout":ru=Jv=Na=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,k_(d,n,u);break;case"selectionchange":if(X3)break;case"keydown":case"keyup":k_(d,n,u)}var x;if(bw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Oa?a2(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(s2&&n.locale!=="ko"&&(Oa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Oa&&(x=o2()):(oo=u,pw="value"in oo?oo.value:oo.textContent,Oa=!0)),_=Hf(c,S),0<_.length&&(S=new f_(S,t,null,n,u),d.push({event:S,listeners:_}),x?S.data=x:(x=l2(n),x!==null&&(S.data=x)))),(x=z3?B3(t,n):U3(t,n))&&(c=Hf(c,"onBeforeInput"),0<c.length&&(u=new f_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=x))}w2(d,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Cu(t,n),o!=null&&i.unshift(Ru(t,o,r)),o=Cu(t,e),o!=null&&i.push(Ru(t,o,r))),t=t.return}return i}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C_(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Cu(n,o),l!=null&&s.unshift(Ru(n,l,a))):r||(l=Cu(n,o),l!=null&&s.push(Ru(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tF=/\r\n?/g,nF=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(tF,`
`).replace(nF,"")}function $h(t,e,n){if(e=S_(e),S_(t)!==e&&n)throw Error(O(425))}function qf(){}var ey=null,ty=null;function ny(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,iF=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,rF=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(oF)}:iy;function oF(t){setTimeout(function(){throw t})}function Eb(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Tu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Tu(e)}function ho(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),ji="__reactFiber$"+Kl,Pu="__reactProps$"+Kl,Ar="__reactContainer$"+Kl,ry="__reactEvents$"+Kl,sF="__reactListeners$"+Kl,aF="__reactHandles$"+Kl;function ls(t){var e=t[ji];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[ji]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[ji])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[ji]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ma(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function bm(t){return t[Pu]||null}var oy=[],Fa=-1;function Lo(t){return{current:t}}function Ke(t){0>Fa||(t.current=oy[Fa],oy[Fa]=null,Fa--)}function Be(t,e){Fa++,oy[Fa]=t.current,t.current=e}var wo={},cn=Lo(wo),Tn=Lo(!1),Ss=wo;function gl(t,e){var n=t.type.contextTypes;if(!n)return wo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function An(t){return t=t.childContextTypes,t!=null}function Wf(){Ke(Tn),Ke(cn)}function A_(t,e,n){if(cn.current!==wo)throw Error(O(168));Be(cn,e),Be(Tn,n)}function k2(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(O(108,qM(t)||"Unknown",r));return ot({},n,i)}function Gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wo,Ss=cn.current,Be(cn,t),Be(Tn,Tn.current),!0}function $_(t,e,n){var i=t.stateNode;if(!i)throw Error(O(169));n?(t=k2(t,e,Ss),i.__reactInternalMemoizedMergedChildContext=t,Ke(Tn),Ke(cn),Be(cn,t)):Ke(Tn),Be(Tn,n)}var pr=null,vm=!1,Cb=!1;function _2(t){pr===null?pr=[t]:pr.push(t)}function lF(t){vm=!0,_2(t)}function Mo(){if(!Cb&&pr!==null){Cb=!0;var t=0,e=De;try{var n=pr;for(De=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}pr=null,vm=!1}catch(r){throw pr!==null&&(pr=pr.slice(t+1)),KT(uw,Mo),r}finally{De=e,Cb=!1}}return null}var za=[],Ba=0,Kf=null,Yf=0,Xn=[],Jn=0,Is=null,gr=1,br="";function Xo(t,e){za[Ba++]=Yf,za[Ba++]=Kf,Kf=t,Yf=e}function E2(t,e,n){Xn[Jn++]=gr,Xn[Jn++]=br,Xn[Jn++]=Is,Is=t;var i=gr;t=br;var r=32-Ei(i)-1;i&=~(1<<r),n+=1;var o=32-Ei(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,gr=1<<32-Ei(e)+r|n<<r|i,br=o+t}else gr=1<<o|n<<r|i,br=t}function yw(t){t.return!==null&&(Xo(t,1),E2(t,1,0))}function ww(t){for(;t===Kf;)Kf=za[--Ba],za[Ba]=null,Yf=za[--Ba],za[Ba]=null;for(;t===Is;)Is=Xn[--Jn],Xn[Jn]=null,br=Xn[--Jn],Xn[Jn]=null,gr=Xn[--Jn],Xn[Jn]=null}var zn=null,Fn=null,et=!1,bi=null;function C2(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Fn=ho(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Is!==null?{id:gr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Fn=null,!0):!1;default:return!1}}function sy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ay(t){if(et){var e=Fn;if(e){var n=e;if(!D_(t,e)){if(sy(t))throw Error(O(418));e=ho(n.nextSibling);var i=zn;e&&D_(t,e)?C2(i,n):(t.flags=t.flags&-4097|2,et=!1,zn=t)}}else{if(sy(t))throw Error(O(418));t.flags=t.flags&-4097|2,et=!1,zn=t}}}function R_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Dh(t){if(t!==zn)return!1;if(!et)return R_(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ny(t.type,t.memoizedProps)),e&&(e=Fn)){if(sy(t))throw S2(),Error(O(418));for(;e;)C2(t,e),e=ho(e.nextSibling)}if(R_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=ho(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=zn?ho(t.stateNode.nextSibling):null;return!0}function S2(){for(var t=Fn;t;)t=ho(t.nextSibling)}function bl(){Fn=zn=null,et=!1}function xw(t){bi===null?bi=[t]:bi.push(t)}var cF=Mr.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qf=Lo(null),Xf=null,Ua=null,kw=null;function _w(){kw=Ua=Xf=null}function Ew(t){var e=Qf.current;Ke(Qf),t._currentValue=e}function ly(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Za(t,e){Xf=t,kw=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(kw!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if(Xf===null)throw Error(O(308));Ua=t,Xf.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var cs=null;function Cw(t){cs===null?cs=[t]:cs.push(t)}function I2(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Cw(e)):(n.next=r.next,r.next=n),e.interleaved=n,$r(t,i)}function $r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Se&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$r(t,n)}return r=i.interleaved,r===null?(e.next=e,Cw(i)):(e.next=r.next,r.next=e),i.interleaved=e,$r(t,n)}function bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dw(t,n)}}function P_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jf(t,e,n,i){var r=t.updateQueue;Yr=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=r.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=ot({},d,h);break e;case 2:Yr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);As|=s,t.lanes=s,t.memoizedState=d}}function O_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(O(191,r));r.call(i)}}}var A2=new IT.Component().refs;function cy(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ym={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=gn(),r=mo(t),o=Er(i,r);o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,r),e!==null&&(Ci(e,t,r,i),bf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=gn(),r=mo(t),o=Er(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fo(t,o,r),e!==null&&(Ci(e,t,r,i),bf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),i=mo(t),r=Er(n,i);r.tag=2,e!=null&&(r.callback=e),e=fo(t,r,i),e!==null&&(Ci(e,t,i,n),bf(e,t,i))}};function N_(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!$u(n,i)||!$u(r,o):!0}function $2(t,e,n){var i=!1,r=wo,o=e.contextType;return typeof o=="object"&&o!==null?o=si(o):(r=An(e)?Ss:cn.current,i=e.contextTypes,o=(i=i!=null)?gl(t,r):wo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ym,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function L_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ym.enqueueReplaceState(e,e.state,null)}function uy(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=A2,Sw(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=si(o):(o=An(e)?Ss:cn.current,r.context=gl(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(cy(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ym.enqueueReplaceState(r,r.state,null),Jf(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Cc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var i=n.stateNode}if(!i)throw Error(O(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===A2&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function M_(t){var e=t._init;return e(t._payload)}function D2(t){function e(g,b){if(t){var v=g.deletions;v===null?(g.deletions=[b],g.flags|=16):v.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function i(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function r(g,b){return g=go(g,b),g.index=0,g.sibling=null,g}function o(g,b,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<b?(g.flags|=2,b):v):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,b,v,k){return b===null||b.tag!==6?(b=Rb(v,g.mode,k),b.return=g,b):(b=r(b,v),b.return=g,b)}function l(g,b,v,k){var $=v.type;return $===Pa?u(g,b,v.props.children,k,v.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kr&&M_($)===b.type)?(k=r(b,v.props),k.ref=Cc(g,b,v),k.return=g,k):(k=_f(v.type,v.key,v.props,null,g.mode,k),k.ref=Cc(g,b,v),k.return=g,k)}function c(g,b,v,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=Pb(v,g.mode,k),b.return=g,b):(b=r(b,v.children||[]),b.return=g,b)}function u(g,b,v,k,$){return b===null||b.tag!==7?(b=xs(v,g.mode,k,$),b.return=g,b):(b=r(b,v),b.return=g,b)}function d(g,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Rb(""+b,g.mode,v),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xh:return v=_f(b.type,b.key,b.props,null,g.mode,v),v.ref=Cc(g,null,b),v.return=g,v;case Ra:return b=Pb(b,g.mode,v),b.return=g,b;case Kr:var k=b._init;return d(g,k(b._payload),v)}if(jc(b)||wc(b))return b=xs(b,g.mode,v,null),b.return=g,b;Rh(g,b)}return null}function h(g,b,v,k){var $=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return $!==null?null:a(g,b,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xh:return v.key===$?l(g,b,v,k):null;case Ra:return v.key===$?c(g,b,v,k):null;case Kr:return $=v._init,h(g,b,$(v._payload),k)}if(jc(v)||wc(v))return $!==null?null:u(g,b,v,k,null);Rh(g,v)}return null}function f(g,b,v,k,$){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(v)||null,a(b,g,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case xh:return g=g.get(k.key===null?v:k.key)||null,l(b,g,k,$);case Ra:return g=g.get(k.key===null?v:k.key)||null,c(b,g,k,$);case Kr:var _=k._init;return f(g,b,v,_(k._payload),$)}if(jc(k)||wc(k))return g=g.get(v)||null,u(b,g,k,$,null);Rh(b,k)}return null}function p(g,b,v,k){for(var $=null,_=null,x=b,S=b=0,G=null;x!==null&&S<v.length;S++){x.index>S?(G=x,x=null):G=x.sibling;var M=h(g,x,v[S],k);if(M===null){x===null&&(x=G);break}t&&x&&M.alternate===null&&e(g,x),b=o(M,b,S),_===null?$=M:_.sibling=M,_=M,x=G}if(S===v.length)return n(g,x),et&&Xo(g,S),$;if(x===null){for(;S<v.length;S++)x=d(g,v[S],k),x!==null&&(b=o(x,b,S),_===null?$=x:_.sibling=x,_=x);return et&&Xo(g,S),$}for(x=i(g,x);S<v.length;S++)G=f(x,g,S,v[S],k),G!==null&&(t&&G.alternate!==null&&x.delete(G.key===null?S:G.key),b=o(G,b,S),_===null?$=G:_.sibling=G,_=G);return t&&x.forEach(function(L){return e(g,L)}),et&&Xo(g,S),$}function m(g,b,v,k){var $=wc(v);if(typeof $!="function")throw Error(O(150));if(v=$.call(v),v==null)throw Error(O(151));for(var _=$=null,x=b,S=b=0,G=null,M=v.next();x!==null&&!M.done;S++,M=v.next()){x.index>S?(G=x,x=null):G=x.sibling;var L=h(g,x,M.value,k);if(L===null){x===null&&(x=G);break}t&&x&&L.alternate===null&&e(g,x),b=o(L,b,S),_===null?$=L:_.sibling=L,_=L,x=G}if(M.done)return n(g,x),et&&Xo(g,S),$;if(x===null){for(;!M.done;S++,M=v.next())M=d(g,M.value,k),M!==null&&(b=o(M,b,S),_===null?$=M:_.sibling=M,_=M);return et&&Xo(g,S),$}for(x=i(g,x);!M.done;S++,M=v.next())M=f(x,g,S,M.value,k),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?S:M.key),b=o(M,b,S),_===null?$=M:_.sibling=M,_=M);return t&&x.forEach(function(Q){return e(g,Q)}),et&&Xo(g,S),$}function y(g,b,v,k){if(typeof v=="object"&&v!==null&&v.type===Pa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case xh:e:{for(var $=v.key,_=b;_!==null;){if(_.key===$){if($=v.type,$===Pa){if(_.tag===7){n(g,_.sibling),b=r(_,v.props.children),b.return=g,g=b;break e}}else if(_.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Kr&&M_($)===_.type){n(g,_.sibling),b=r(_,v.props),b.ref=Cc(g,_,v),b.return=g,g=b;break e}n(g,_);break}else e(g,_);_=_.sibling}v.type===Pa?(b=xs(v.props.children,g.mode,k,v.key),b.return=g,g=b):(k=_f(v.type,v.key,v.props,null,g.mode,k),k.ref=Cc(g,b,v),k.return=g,g=k)}return s(g);case Ra:e:{for(_=v.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){n(g,b.sibling),b=r(b,v.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=Pb(v,g.mode,k),b.return=g,g=b}return s(g);case Kr:return _=v._init,y(g,b,_(v._payload),k)}if(jc(v))return p(g,b,v,k);if(wc(v))return m(g,b,v,k);Rh(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(n(g,b.sibling),b=r(b,v),b.return=g,g=b):(n(g,b),b=Rb(v,g.mode,k),b.return=g,g=b),s(g)):n(g,b)}return y}var vl=D2(!0),R2=D2(!1),Cd={},Xi=Lo(Cd),Ou=Lo(Cd),Nu=Lo(Cd);function us(t){if(t===Cd)throw Error(O(174));return t}function Iw(t,e){switch(Be(Nu,e),Be(Ou,t),Be(Xi,Cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vv(e,t)}Ke(Xi),Be(Xi,e)}function yl(){Ke(Xi),Ke(Ou),Ke(Nu)}function P2(t){us(Nu.current);var e=us(Xi.current),n=Vv(e,t.type);e!==n&&(Be(Ou,t),Be(Xi,n))}function Tw(t){Ou.current===t&&(Ke(Xi),Ke(Ou))}var it=Lo(0);function Zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sb=[];function Aw(){for(var t=0;t<Sb.length;t++)Sb[t]._workInProgressVersionPrimary=null;Sb.length=0}var vf=Mr.ReactCurrentDispatcher,Ib=Mr.ReactCurrentBatchConfig,Ts=0,rt=null,xt=null,At=null,ep=!1,ou=!1,Lu=0,uF=0;function Zt(){throw Error(O(321))}function $w(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$i(t[n],e[n]))return!1;return!0}function Dw(t,e,n,i,r,o){if(Ts=o,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?pF:mF,t=n(i,r),ou){o=0;do{if(ou=!1,Lu=0,25<=o)throw Error(O(301));o+=1,At=xt=null,e.updateQueue=null,vf.current=gF,t=n(i,r)}while(ou)}if(vf.current=tp,e=xt!==null&&xt.next!==null,Ts=0,At=xt=rt=null,ep=!1,e)throw Error(O(300));return t}function Rw(){var t=Lu!==0;return Lu=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=t:At=At.next=t,At}function ai(){if(xt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=At===null?rt.memoizedState:At.next;if(e!==null)At=e,xt=t;else{if(t===null)throw Error(O(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},At===null?rt.memoizedState=At=t:At=At.next=t}return At}function Mu(t,e){return typeof e=="function"?e(t):e}function Tb(t){var e=ai(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=xt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ts&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,rt.lanes|=u,As|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,$i(i,e.memoizedState)||(_n=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,rt.lanes|=o,As|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ab(t){var e=ai(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);$i(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function O2(){}function N2(t,e){var n=rt,i=ai(),r=e(),o=!$i(i.memoizedState,r);if(o&&(i.memoizedState=r,_n=!0),i=i.queue,Pw(F2.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Fu(9,M2.bind(null,n,i,r,e),void 0,null),Ot===null)throw Error(O(349));Ts&30||L2(n,e,r)}return r}function L2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M2(t,e,n,i){e.value=n,e.getSnapshot=i,z2(e)&&B2(t)}function F2(t,e,n){return n(function(){z2(e)&&B2(t)})}function z2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$i(t,n)}catch(i){return!0}}function B2(t){var e=$r(t,1);e!==null&&Ci(e,t,1,-1)}function F_(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=fF.bind(null,rt,t),[e.memoizedState,t]}function Fu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function U2(){return ai().memoizedState}function yf(t,e,n,i){var r=Ui();rt.flags|=t,r.memoizedState=Fu(1|e,n,void 0,i===void 0?null:i)}function wm(t,e,n,i){var r=ai();i=i===void 0?null:i;var o=void 0;if(xt!==null){var s=xt.memoizedState;if(o=s.destroy,i!==null&&$w(i,s.deps)){r.memoizedState=Fu(e,n,o,i);return}}rt.flags|=t,r.memoizedState=Fu(1|e,n,o,i)}function z_(t,e){return yf(8390656,8,t,e)}function Pw(t,e){return wm(2048,8,t,e)}function V2(t,e){return wm(4,2,t,e)}function j2(t,e){return wm(4,4,t,e)}function H2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q2(t,e,n){return n=n!=null?n.concat([t]):null,wm(4,4,H2.bind(null,e,t),n)}function Ow(){}function W2(t,e){var n=ai();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&$w(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function G2(t,e){var n=ai();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&$w(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function K2(t,e,n){return Ts&21?($i(n,e)||(n=XT(),rt.lanes|=n,As|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function dF(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var i=Ib.transition;Ib.transition={};try{t(!1),e()}finally{De=n,Ib.transition=i}}function Y2(){return ai().memoizedState}function hF(t,e,n){var i=mo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Q2(t))X2(e,n);else if(n=I2(t,e,n,i),n!==null){var r=gn();Ci(n,t,i,r),J2(n,e,i)}}function fF(t,e,n){var i=mo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q2(t))X2(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,$i(a,s)){var l=e.interleaved;l===null?(r.next=r,Cw(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}n=I2(t,e,r,i),n!==null&&(r=gn(),Ci(n,t,i,r),J2(n,e,i))}}function Q2(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function X2(t,e){ou=ep=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J2(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dw(t,n)}}var tp={readContext:si,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},pF={readContext:si,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yf(4194308,4,H2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var n=Ui();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ui();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=hF.bind(null,rt,t),[i.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:F_,useDebugValue:Ow,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=F_(!1),e=t[0];return t=dF.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=rt,r=Ui();if(et){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Ot===null)throw Error(O(349));Ts&30||L2(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,z_(F2.bind(null,i,o,t),[t]),i.flags|=2048,Fu(9,M2.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Ui(),e=Ot.identifierPrefix;if(et){var n=br,i=gr;n=(i&~(1<<32-Ei(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mF={readContext:si,useCallback:W2,useContext:si,useEffect:Pw,useImperativeHandle:q2,useInsertionEffect:V2,useLayoutEffect:j2,useMemo:G2,useReducer:Tb,useRef:U2,useState:function(){return Tb(Mu)},useDebugValue:Ow,useDeferredValue:function(t){var e=ai();return K2(e,xt.memoizedState,t)},useTransition:function(){var t=Tb(Mu)[0],e=ai().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:N2,useId:Y2,unstable_isNewReconciler:!1},gF={readContext:si,useCallback:W2,useContext:si,useEffect:Pw,useImperativeHandle:q2,useInsertionEffect:V2,useLayoutEffect:j2,useMemo:G2,useReducer:Ab,useRef:U2,useState:function(){return Ab(Mu)},useDebugValue:Ow,useDeferredValue:function(t){var e=ai();return xt===null?e.memoizedState=t:K2(e,xt.memoizedState,t)},useTransition:function(){var t=Ab(Mu)[0],e=ai().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:N2,useId:Y2,unstable_isNewReconciler:!1};function wl(t,e){try{var n="",i=e;do n+=HM(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function $b(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function dy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bF=typeof WeakMap=="function"?WeakMap:Map;function Z2(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ip||(ip=!0,xy=i),dy(t,e)},n}function eA(t,e,n){n=Er(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){dy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){dy(t,e),typeof i!="function"&&(po===null?po=new Set([this]):po.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function B_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new bF;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=DF.bind(null,t,e,n),e.then(t,t))}function U_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,fo(n,e,1))),n.lanes|=1),t)}var vF=Mr.ReactCurrentOwner,_n=!1;function dn(t,e,n,i){e.child=t===null?R2(e,null,n,i):vl(e,t.child,n,i)}function j_(t,e,n,i,r){n=n.render;var o=e.ref;return Za(e,r),i=Dw(t,e,n,i,o,r),n=Rw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Dr(t,e,r)):(et&&n&&yw(e),e.flags|=1,dn(t,e,i,r),e.child)}function H_(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Vw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tA(t,e,o,i,r)):(t=_f(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:$u,n(s,i)&&t.ref===e.ref)return Dr(t,e,r)}return e.flags|=1,t=go(o,i),t.ref=e.ref,t.return=e,e.child=t}function tA(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if($u(o,i)&&t.ref===e.ref)if(_n=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Dr(t,e,r)}return hy(t,e,n,i,r)}function nA(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ja,On),On|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(ja,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Be(ja,On),On|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Be(ja,On),On|=i;return dn(t,e,r,n),e.child}function iA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hy(t,e,n,i,r){var o=An(n)?Ss:cn.current;return o=gl(e,o),Za(e,r),n=Dw(t,e,n,i,o,r),i=Rw(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Dr(t,e,r)):(et&&i&&yw(e),e.flags|=1,dn(t,e,n,r),e.child)}function q_(t,e,n,i,r){if(An(n)){var o=!0;Gf(e)}else o=!1;if(Za(e,r),e.stateNode===null)wf(t,e),$2(e,n,i),uy(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=si(c):(c=An(n)?Ss:cn.current,c=gl(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&L_(e,s,i,c),Yr=!1;var h=e.memoizedState;s.state=h,Jf(e,i,s,r),l=e.memoizedState,a!==i||h!==l||Tn.current||Yr?(typeof u=="function"&&(cy(e,n,u,i),l=e.memoizedState),(a=Yr||N_(e,n,a,i,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,T2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mi(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=si(l):(l=An(n)?Ss:cn.current,l=gl(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&L_(e,s,i,l),Yr=!1,h=e.memoizedState,s.state=h,Jf(e,i,s,r);var p=e.memoizedState;a!==d||h!==p||Tn.current||Yr?(typeof f=="function"&&(cy(e,n,f,i),p=e.memoizedState),(c=Yr||N_(e,n,c,i,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return fy(t,e,n,i,o,r)}function fy(t,e,n,i,r,o){iA(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&$_(e,n,!1),Dr(t,e,o);i=e.stateNode,vF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=vl(e,t.child,null,o),e.child=vl(e,null,a,o)):dn(t,e,a,o),e.memoizedState=i.state,r&&$_(e,n,!0),e.child}function rA(t){var e=t.stateNode;e.pendingContext?A_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A_(t,e.context,!1),Iw(t,e.containerInfo)}function W_(t,e,n,i,r){return bl(),xw(r),e.flags|=256,dn(t,e,n,i),e.child}var py={dehydrated:null,treeContext:null,retryLane:0};function my(t){return{baseLanes:t,cachePool:null,transitions:null}}function oA(t,e,n){var i=e.pendingProps,r=it.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Be(it,r&1),t===null)return ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_m(s,i,0,null),t=xs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=my(n),e.memoizedState=py,t):Nw(e,s));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return yF(t,e,s,i,a,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=go(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=go(a,o):(o=xs(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?my(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=py,i}return o=t.child,t=o.sibling,i=go(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Nw(t,e){return e=_m({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,i){return i!==null&&xw(i),vl(e,t.child,null,n),t=Nw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yF(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=$b(Error(O(422))),Ph(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=_m({mode:"visible",children:i.children},r,0,null),o=xs(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&vl(e,t.child,null,s),e.child.memoizedState=my(s),e.memoizedState=py,o);if(!(e.mode&1))return Ph(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(O(419)),i=$b(o,i,void 0),Ph(t,e,s,i)}if(a=(s&t.childLanes)!==0,_n||a){if(i=Ot,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,$r(t,r),Ci(i,t,r,-1))}return Uw(),i=$b(Error(O(421))),Ph(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=RF.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Fn=ho(r.nextSibling),zn=e,et=!0,bi=null,t!==null&&(Xn[Jn++]=gr,Xn[Jn++]=br,Xn[Jn++]=Is,gr=t.id,br=t.overflow,Is=e),e=Nw(e,i.children),e.flags|=4096,e)}function G_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ly(t.return,e,n)}function Db(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function sA(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(dn(t,e,i.children,n),i=it.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G_(t,n,e);else if(t.tag===19)G_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Be(it,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Zf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Db(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Zf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Db(e,!0,n,null,o);break;case"together":Db(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wF(t,e,n){switch(e.tag){case 3:rA(e),bl();break;case 5:P2(e);break;case 1:An(e.type)&&Gf(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Be(Qf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Be(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?oA(t,e,n):(Be(it,it.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);Be(it,it.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return sA(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Be(it,it.current),i)break;return null;case 22:case 23:return e.lanes=0,nA(t,e,n)}return Dr(t,e,n)}var aA,gy,lA,cA;aA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gy=function(){};lA=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,us(Xi.current);var o=null;switch(n){case"input":r=Fv(t,r),i=Fv(t,i),o=[];break;case"select":r=ot({},r,{value:void 0}),i=ot({},i,{value:void 0}),o=[];break;case"textarea":r=Uv(t,r),i=Uv(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=qf)}jv(n,i);var s;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_u.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};cA=function(t,e,n,i){n!==i&&(e.flags|=4)};function Sc(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function xF(t,e,n){var i=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return An(e.type)&&Wf(),en(e),null;case 3:return i=e.stateNode,yl(),Ke(Tn),Ke(cn),Aw(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(Ey(bi),bi=null))),gy(t,e),en(e),null;case 5:Tw(e);var r=us(Nu.current);if(n=e.type,t!==null&&e.stateNode!=null)lA(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(O(166));return en(e),null}if(t=us(Xi.current),Dh(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ji]=e,i[Pu]=o,t=(e.mode&1)!==0,n){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(r=0;r<qc.length;r++)je(qc[r],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":n_(i,o),je("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},je("invalid",i);break;case"textarea":r_(i,o),je("invalid",i)}jv(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&$h(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$h(i.textContent,a,t),r=["children",""+a]):_u.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&je("scroll",i)}switch(n){case"input":kh(i),i_(i,o,!0);break;case"textarea":kh(i),o_(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=qf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[ji]=e,t[Pu]=i,aA(t,e,!1,!1),e.stateNode=t;e:{switch(s=Hv(n,i),n){case"dialog":je("cancel",t),je("close",t),r=i;break;case"iframe":case"object":case"embed":je("load",t),r=i;break;case"video":case"audio":for(r=0;r<qc.length;r++)je(qc[r],t);r=i;break;case"source":je("error",t),r=i;break;case"img":case"image":case"link":je("error",t),je("load",t),r=i;break;case"details":je("toggle",t),r=i;break;case"input":n_(t,i),r=Fv(t,i),je("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=ot({},i,{value:void 0}),je("invalid",t);break;case"textarea":r_(t,i),r=Uv(t,i),je("invalid",t);break;default:r=i}jv(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?zT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_u.hasOwnProperty(o)?l!=null&&o==="onScroll"&&je("scroll",t):l!=null&&ow(t,o,l,s))}switch(n){case"input":kh(t),i_(t,i,!1);break;case"textarea":kh(t),o_(t);break;case"option":i.value!=null&&t.setAttribute("value",""+yo(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ya(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ya(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=qf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)cA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(O(166));if(n=us(Nu.current),us(Xi.current),Dh(e)){if(i=e.stateNode,n=e.memoizedProps,i[ji]=e,(o=i.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:$h(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$h(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ji]=e,e.stateNode=i}return en(e),null;case 13:if(Ke(it),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Fn!==null&&e.mode&1&&!(e.flags&128))S2(),bl(),e.flags|=98560,o=!1;else if(o=Dh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[ji]=e}else bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),o=!1}else bi!==null&&(Ey(bi),bi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?_t===0&&(_t=3):Uw())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return yl(),gy(t,e),t===null&&Du(e.stateNode.containerInfo),en(e),null;case 10:return Ew(e.type._context),en(e),null;case 17:return An(e.type)&&Wf(),en(e),null;case 19:if(Ke(it),o=e.memoizedState,o===null)return en(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Sc(o,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Zf(t),s!==null){for(e.flags|=128,Sc(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>xl&&(e.flags|=128,i=!0,Sc(o,!1),e.lanes=4194304)}else{if(!i)if(t=Zf(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!et)return en(e),null}else 2*ut()-o.renderingStartTime>xl&&n!==1073741824&&(e.flags|=128,i=!0,Sc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=it.current,Be(it,i?n&1|2:n&1),e):(en(e),null);case 22:case 23:return Bw(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?On&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function kF(t,e){switch(ww(e),e.tag){case 1:return An(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yl(),Ke(Tn),Ke(cn),Aw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tw(e),null;case 13:if(Ke(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(it),null;case 4:return yl(),null;case 10:return Ew(e.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var Oh=!1,nn=!1,_F=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){at(t,e,i)}else n.current=null}function by(t,e,n){try{n()}catch(i){at(t,e,i)}}var K_=!1;function EF(t,e){if(ey=Vf,t=f2(),vw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=s+r),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=s),h===o&&++u===i&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ty={focusedElem:t,selectionRange:n},Vf=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:mi(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){at(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return p=K_,K_=!1,p}function su(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&by(e,n,o)}r=r.next}while(r!==i)}}function xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uA(t){var e=t.alternate;e!==null&&(t.alternate=null,uA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ji],delete e[Pu],delete e[ry],delete e[sF],delete e[aF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dA(t){return t.tag===5||t.tag===3||t.tag===4}function Y_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qf));else if(i!==4&&(t=t.child,t!==null))for(yy(t,e,n),t=t.sibling;t!==null;)yy(t,e,n),t=t.sibling}function wy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(wy(t,e,n),t=t.sibling;t!==null;)wy(t,e,n),t=t.sibling}var jt=null,gi=!1;function Hr(t,e,n){for(n=n.child;n!==null;)hA(t,e,n),n=n.sibling}function hA(t,e,n){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(fm,n)}catch(a){}switch(n.tag){case 5:nn||Va(n,e);case 6:var i=jt,r=gi;jt=null,Hr(t,e,n),jt=i,gi=r,jt!==null&&(gi?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(gi?(t=jt,n=n.stateNode,t.nodeType===8?Eb(t.parentNode,n):t.nodeType===1&&Eb(t,n),Tu(t)):Eb(jt,n.stateNode));break;case 4:i=jt,r=gi,jt=n.stateNode.containerInfo,gi=!0,Hr(t,e,n),jt=i,gi=r;break;case 0:case 11:case 14:case 15:if(!nn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&by(n,e,s),r=r.next}while(r!==i)}Hr(t,e,n);break;case 1:if(!nn&&(Va(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){at(n,e,a)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(nn=(i=nn)||n.memoizedState!==null,Hr(t,e,n),nn=i):Hr(t,e,n);break;default:Hr(t,e,n)}}function Q_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _F),e.forEach(function(i){var r=PF.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function fi(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,gi=!1;break e;case 3:jt=a.stateNode.containerInfo,gi=!0;break e;case 4:jt=a.stateNode.containerInfo,gi=!0;break e}a=a.return}if(jt===null)throw Error(O(160));hA(o,s,r),jt=null,gi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){at(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fA(e,t),e=e.sibling}function fA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fi(e,t),Bi(t),i&4){try{su(3,t,t.return),xm(3,t)}catch(m){at(t,t.return,m)}try{su(5,t,t.return)}catch(m){at(t,t.return,m)}}break;case 1:fi(e,t),Bi(t),i&512&&n!==null&&Va(n,n.return);break;case 5:if(fi(e,t),Bi(t),i&512&&n!==null&&Va(n,n.return),t.flags&32){var r=t.stateNode;try{Eu(r,"")}catch(m){at(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&OT(r,o),Hv(a,s);var c=Hv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?zT(r,d):u==="dangerouslySetInnerHTML"?MT(r,d):u==="children"?Eu(r,d):ow(r,u,d,c)}switch(a){case"input":zv(r,o);break;case"textarea":NT(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Ya(r,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ya(r,!!o.multiple,o.defaultValue,!0):Ya(r,!!o.multiple,o.multiple?[]:"",!1))}r[Pu]=o}catch(m){at(t,t.return,m)}}break;case 6:if(fi(e,t),Bi(t),i&4){if(t.stateNode===null)throw Error(O(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){at(t,t.return,m)}}break;case 3:if(fi(e,t),Bi(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(m){at(t,t.return,m)}break;case 4:fi(e,t),Bi(t);break;case 13:fi(e,t),Bi(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Fw=ut())),i&4&&Q_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(c=nn)||u,fi(e,t),nn=c):fi(e,t),Bi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Y=t,u=t.child;u!==null;){for(d=Y=u;Y!==null;){switch(h=Y,f=h.child,h.tag){case 0:case 11:case 14:case 15:su(4,h,h.return);break;case 1:Va(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){at(i,n,m)}}break;case 5:Va(h,h.return);break;case 22:if(h.memoizedState!==null){J_(d);continue}}f!==null?(f.return=h,Y=f):J_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FT("display",s))}catch(m){at(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){at(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fi(e,t),Bi(t),i&4&&Q_(t);break;case 21:break;default:fi(e,t),Bi(t)}}function Bi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dA(n)){var i=n;break e}n=n.return}throw Error(O(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Eu(r,""),i.flags&=-33);var o=Y_(t);wy(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=Y_(t);yy(t,a,s);break;default:throw Error(O(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CF(t,e,n){Y=t,pA(t)}function pA(t,e,n){for(var i=(t.mode&1)!==0;Y!==null;){var r=Y,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Oh;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||nn;a=Oh;var c=nn;if(Oh=s,(nn=l)&&!c)for(Y=r;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?Z_(r):l!==null?(l.return=s,Y=l):Z_(r);for(;o!==null;)Y=o,pA(o),o=o.sibling;Y=r,Oh=a,nn=c}X_(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Y=o):X_(t)}}function X_(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||xm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!nn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:mi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&O_(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}O_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}nn||e.flags&512&&vy(e)}catch(h){at(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function J_(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Z_(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xm(4,e)}catch(l){at(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){at(e,r,l)}}var o=e.return;try{vy(e)}catch(l){at(e,o,l)}break;case 5:var s=e.return;try{vy(e)}catch(l){at(e,s,l)}}}catch(l){at(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var SF=Math.ceil,np=Mr.ReactCurrentDispatcher,Lw=Mr.ReactCurrentOwner,oi=Mr.ReactCurrentBatchConfig,Se=0,Ot=null,bt=null,Kt=0,On=0,ja=Lo(0),_t=0,zu=null,As=0,km=0,Mw=0,au=null,kn=null,Fw=0,xl=1/0,fr=null,ip=!1,xy=null,po=null,Nh=!1,so=null,rp=0,lu=0,ky=null,xf=-1,kf=0;function gn(){return Se&6?ut():xf!==-1?xf:xf=ut()}function mo(t){return t.mode&1?Se&2&&Kt!==0?Kt&-Kt:cF.transition!==null?(kf===0&&(kf=XT()),kf):(t=De,t!==0||(t=window.event,t=t===void 0?16:r2(t.type)),t):1}function Ci(t,e,n,i){if(50<lu)throw lu=0,ky=null,Error(O(185));kd(t,n,i),(!(Se&2)||t!==Ot)&&(t===Ot&&(!(Se&2)&&(km|=n),_t===4&&Xr(t,Kt)),$n(t,i),n===1&&Se===0&&!(e.mode&1)&&(xl=ut()+500,vm&&Mo()))}function $n(t,e){var n=t.callbackNode;c3(t,e);var i=Uf(t,t===Ot?Kt:0);if(i===0)n!==null&&l_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&l_(n),e===1)t.tag===0?lF(eE.bind(null,t)):_2(eE.bind(null,t)),rF(function(){!(Se&6)&&Mo()}),n=null;else{switch(JT(i)){case 1:n=uw;break;case 4:n=YT;break;case 16:n=Bf;break;case 536870912:n=QT;break;default:n=Bf}n=kA(n,mA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mA(t,e){if(xf=-1,kf=0,Se&6)throw Error(O(327));var n=t.callbackNode;if(el()&&t.callbackNode!==n)return null;var i=Uf(t,t===Ot?Kt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=op(t,i);else{e=i;var r=Se;Se|=2;var o=bA();(Ot!==t||Kt!==e)&&(fr=null,xl=ut()+500,ws(t,e));do try{AF();break}catch(a){gA(t,a)}while(1);_w(),np.current=o,Se=r,bt!==null?e=0:(Ot=null,Kt=0,e=_t)}if(e!==0){if(e===2&&(r=Yv(t),r!==0&&(i=r,e=_y(t,r))),e===1)throw n=zu,ws(t,0),Xr(t,i),$n(t,ut()),n;if(e===6)Xr(t,i);else{if(r=t.current.alternate,!(i&30)&&!IF(r)&&(e=op(t,i),e===2&&(o=Yv(t),o!==0&&(i=o,e=_y(t,o))),e===1))throw n=zu,ws(t,0),Xr(t,i),$n(t,ut()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(O(345));case 2:Jo(t,kn,fr);break;case 3:if(Xr(t,i),(i&130023424)===i&&(e=Fw+500-ut(),10<e)){if(Uf(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){gn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=iy(Jo.bind(null,t,kn,fr),e);break}Jo(t,kn,fr);break;case 4:if(Xr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Ei(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=ut()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*SF(i/1960))-i,10<i){t.timeoutHandle=iy(Jo.bind(null,t,kn,fr),i);break}Jo(t,kn,fr);break;case 5:Jo(t,kn,fr);break;default:throw Error(O(329))}}}return $n(t,ut()),t.callbackNode===n?mA.bind(null,t):null}function _y(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=op(t,e),t!==2&&(e=kn,kn=n,e!==null&&Ey(e)),t}function Ey(t){kn===null?kn=t:kn.push.apply(kn,t)}function IF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!$i(o(),r))return!1}catch(s){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~Mw,e&=~km,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ei(e),i=1<<n;t[n]=-1,e&=~i}}function eE(t){if(Se&6)throw Error(O(327));el();var e=Uf(t,0);if(!(e&1))return $n(t,ut()),null;var n=op(t,e);if(t.tag!==0&&n===2){var i=Yv(t);i!==0&&(e=i,n=_y(t,i))}if(n===1)throw n=zu,ws(t,0),Xr(t,e),$n(t,ut()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,kn,fr),$n(t,ut()),null}function zw(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(xl=ut()+500,vm&&Mo())}}function $s(t){so!==null&&so.tag===0&&!(Se&6)&&el();var e=Se;Se|=1;var n=oi.transition,i=De;try{if(oi.transition=null,De=1,t)return t()}finally{De=i,oi.transition=n,Se=e,!(Se&6)&&Mo()}}function Bw(){On=ja.current,Ke(ja)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iF(n)),bt!==null)for(n=bt.return;n!==null;){var i=n;switch(ww(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wf();break;case 3:yl(),Ke(Tn),Ke(cn),Aw();break;case 5:Tw(i);break;case 4:yl();break;case 13:Ke(it);break;case 19:Ke(it);break;case 10:Ew(i.type._context);break;case 22:case 23:Bw()}n=n.return}if(Ot=t,bt=t=go(t.current,null),Kt=On=e,_t=0,zu=null,Mw=km=As=0,kn=au=null,cs!==null){for(e=0;e<cs.length;e++)if(n=cs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}cs=null}return t}function gA(t,e){do{var n=bt;try{if(_w(),vf.current=tp,ep){for(var i=rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ep=!1}if(Ts=0,At=xt=rt=null,ou=!1,Lu=0,Lw.current=null,n===null||n.return===null){_t=1,zu=e,bt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=U_(s);if(f!==null){f.flags&=-257,V_(f,s,a,o,e),f.mode&1&&B_(o,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){B_(o,c,e),Uw();break e}l=Error(O(426))}}else if(et&&a.mode&1){var y=U_(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),V_(y,s,a,o,e),xw(wl(l,a));break e}}o=l=wl(l,a),_t!==4&&(_t=2),au===null?au=[o]:au.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Z2(o,l,e);P_(o,g);break e;case 1:a=l;var b=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(po===null||!po.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=eA(o,a,e);P_(o,k);break e}}o=o.return}while(o!==null)}yA(n)}catch($){e=$,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function bA(){var t=np.current;return np.current=tp,t===null?tp:t}function Uw(){(_t===0||_t===3||_t===2)&&(_t=4),Ot===null||!(As&268435455)&&!(km&268435455)||Xr(Ot,Kt)}function op(t,e){var n=Se;Se|=2;var i=bA();(Ot!==t||Kt!==e)&&(fr=null,ws(t,e));do try{TF();break}catch(r){gA(t,r)}while(1);if(_w(),Se=n,np.current=i,bt!==null)throw Error(O(261));return Ot=null,Kt=0,_t}function TF(){for(;bt!==null;)vA(bt)}function AF(){for(;bt!==null&&!e3();)vA(bt)}function vA(t){var e=xA(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?yA(t):bt=e,Lw.current=null}function yA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kF(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,bt=null;return}}else if(n=xF(n,e,On),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);_t===0&&(_t=5)}function Jo(t,e,n){var i=De,r=oi.transition;try{oi.transition=null,De=1,$F(t,e,n,i)}finally{oi.transition=r,De=i}return null}function $F(t,e,n,i){do el();while(so!==null);if(Se&6)throw Error(O(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(u3(t,o),t===Ot&&(bt=Ot=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,kA(Bf,function(){return el(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=oi.transition,oi.transition=null;var s=De;De=1;var a=Se;Se|=4,Lw.current=null,EF(t,n),fA(n,t),Q3(ty),Vf=!!ey,ty=ey=null,t.current=n,CF(n),t3(),Se=a,De=s,oi.transition=o}else t.current=n;if(Nh&&(Nh=!1,so=t,rp=r),o=t.pendingLanes,o===0&&(po=null),r3(n.stateNode),$n(t,ut()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ip)throw ip=!1,t=xy,xy=null,t;return rp&1&&t.tag!==0&&el(),o=t.pendingLanes,o&1?t===ky?lu++:(lu=0,ky=t):lu=0,Mo(),null}function el(){if(so!==null){var t=JT(rp),e=oi.transition,n=De;try{if(oi.transition=null,De=16>t?16:t,so===null)var i=!1;else{if(t=so,so=null,rp=0,Se&6)throw Error(O(331));var r=Se;for(Se|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:su(8,u,o)}var d=u.child;if(d!==null)d.return=u,Y=d;else for(;Y!==null;){u=Y;var h=u.sibling,f=u.return;if(uA(u),u===c){Y=null;break}if(h!==null){h.return=f,Y=h;break}Y=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:su(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Y=g;break e}Y=o.return}}var b=t.current;for(Y=b;Y!==null;){s=Y;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Y=v;else e:for(s=b;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xm(9,a)}}catch($){at(a,a.return,$)}if(a===s){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(Se=r,Mo(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(fm,t)}catch($){}i=!0}return i}finally{De=n,oi.transition=e}}return!1}function tE(t,e,n){e=wl(n,e),e=Z2(t,e,1),t=fo(t,e,1),e=gn(),t!==null&&(kd(t,1,e),$n(t,e))}function at(t,e,n){if(t.tag===3)tE(t,t,n);else for(;e!==null;){if(e.tag===3){tE(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(po===null||!po.has(i))){t=wl(n,t),t=eA(e,t,1),e=fo(e,t,1),t=gn(),e!==null&&(kd(e,1,t),$n(e,t));break}}e=e.return}}function DF(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Kt&n)===n&&(_t===4||_t===3&&(Kt&130023424)===Kt&&500>ut()-Fw?ws(t,0):Mw|=n),$n(t,e)}function wA(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=gn();t=$r(t,e),t!==null&&(kd(t,e,n),$n(t,n))}function RF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wA(t,n)}function PF(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(O(314))}i!==null&&i.delete(e),wA(t,n)}var xA;xA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,wF(t,e,n);_n=!!(t.flags&131072)}else _n=!1,et&&e.flags&1048576&&E2(e,Yf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;wf(t,e),t=e.pendingProps;var r=gl(e,cn.current);Za(e,n),r=Dw(null,e,i,t,r,n);var o=Rw();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(i)?(o=!0,Gf(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Sw(e),r.updater=ym,e.stateNode=r,r._reactInternals=e,uy(e,i,t,n),e=fy(null,e,i,!0,o,n)):(e.tag=0,et&&o&&yw(e),dn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(wf(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=NF(i),t=mi(i,t),r){case 0:e=hy(null,e,i,t,n);break e;case 1:e=q_(null,e,i,t,n);break e;case 11:e=j_(null,e,i,t,n);break e;case 14:e=H_(null,e,i,mi(i.type,t),n);break e}throw Error(O(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mi(i,r),hy(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mi(i,r),q_(t,e,i,r,n);case 3:e:{if(rA(e),t===null)throw Error(O(387));i=e.pendingProps,o=e.memoizedState,r=o.element,T2(t,e),Jf(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=wl(Error(O(423)),e),e=W_(t,e,i,n,r);break e}else if(i!==r){r=wl(Error(O(424)),e),e=W_(t,e,i,n,r);break e}else for(Fn=ho(e.stateNode.containerInfo.firstChild),zn=e,et=!0,bi=null,n=R2(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bl(),i===r){e=Dr(t,e,n);break e}dn(t,e,i,n)}e=e.child}return e;case 5:return P2(e),t===null&&ay(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,ny(i,r)?s=null:o!==null&&ny(i,o)&&(e.flags|=32),iA(t,e),dn(t,e,s,n),e.child;case 6:return t===null&&ay(e),null;case 13:return oA(t,e,n);case 4:return Iw(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=vl(e,null,i,n):dn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mi(i,r),j_(t,e,i,r,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,Be(Qf,i._currentValue),i._currentValue=s,o!==null)if($i(o.value,s)){if(o.children===r.children&&!Tn.current){e=Dr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=Er(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ly(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ly(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}dn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Za(e,n),r=si(r),i=i(r),e.flags|=1,dn(t,e,i,n),e.child;case 14:return i=e.type,r=mi(i,e.pendingProps),r=mi(i.type,r),H_(t,e,i,r,n);case 15:return tA(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:mi(i,r),wf(t,e),e.tag=1,An(i)?(t=!0,Gf(e)):t=!1,Za(e,n),$2(e,i,r),uy(e,i,r,n),fy(null,e,i,!0,t,n);case 19:return sA(t,e,n);case 22:return nA(t,e,n)}throw Error(O(156,e.tag))};function kA(t,e){return KT(t,e)}function OF(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,n,i){return new OF(t,e,n,i)}function Vw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NF(t){if(typeof t=="function")return Vw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aw)return 11;if(t===lw)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _f(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")Vw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Pa:return xs(n.children,r,o,e);case sw:s=8,r|=8;break;case Ov:return t=ei(12,n,e,r|2),t.elementType=Ov,t.lanes=o,t;case Nv:return t=ei(13,n,e,r),t.elementType=Nv,t.lanes=o,t;case Lv:return t=ei(19,n,e,r),t.elementType=Lv,t.lanes=o,t;case DT:return _m(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AT:s=10;break e;case $T:s=9;break e;case aw:s=11;break e;case lw:s=14;break e;case Kr:s=16,i=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=ei(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function xs(t,e,n,i){return t=ei(7,t,i,e),t.lanes=n,t}function _m(t,e,n,i){return t=ei(22,t,i,e),t.elementType=DT,t.lanes=n,t.stateNode={isHidden:!1},t}function Rb(t,e,n){return t=ei(6,t,null,e),t.lanes=n,t}function Pb(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LF(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fb(0),this.expirationTimes=fb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fb(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jw(t,e,n,i,r,o,s,a,l){return t=new LF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ei(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(o),t}function MF(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ra,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function _A(t){if(!t)return wo;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(An(n))return k2(t,n,e)}return e}function EA(t,e,n,i,r,o,s,a,l){return t=jw(n,i,!0,t,r,o,s,a,l),t.context=_A(null),n=t.current,i=gn(),r=mo(n),o=Er(i,r),o.callback=e!=null?e:null,fo(n,o,r),t.current.lanes=r,kd(t,r,i),$n(t,i),t}function Em(t,e,n,i){var r=e.current,o=gn(),s=mo(r);return n=_A(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=fo(r,e,s),t!==null&&(Ci(t,r,s,o),bf(t,r,s)),s}function sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hw(t,e){nE(t,e),(t=t.alternate)&&nE(t,e)}function FF(){return null}var CA=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}Cm.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Em(t,e,null,null)};Cm.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$s(function(){Em(null,t,null,null)}),e[Ar]=null}};function Cm(t){this._internalRoot=t}Cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=t2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qr.length&&e!==0&&e<Qr[n].priority;n++);Qr.splice(n,0,t),n===0&&i2(t)}};function Ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iE(){}function zF(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=sp(s);o.call(c)}}var s=EA(e,i,t,0,null,!1,!1,"",iE);return t._reactRootContainer=s,t[Ar]=s.current,Du(t.nodeType===8?t.parentNode:t),$s(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=sp(l);a.call(c)}}var l=jw(t,0,!1,null,null,!1,!1,"",iE);return t._reactRootContainer=l,t[Ar]=l.current,Du(t.nodeType===8?t.parentNode:t),$s(function(){Em(e,l,n,i)}),l}function Im(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=sp(s);a.call(l)}}Em(e,s,t,r)}else s=zF(n,e,t,r,i);return sp(s)}ZT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hc(e.pendingLanes);n!==0&&(dw(e,n|1),$n(e,ut()),!(Se&6)&&(xl=ut()+500,Mo()))}break;case 13:$s(function(){var i=$r(t,1);if(i!==null){var r=gn();Ci(i,t,1,r)}}),Hw(t,1)}};hw=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var n=gn();Ci(e,t,134217728,n)}Hw(t,134217728)}};e2=function(t){if(t.tag===13){var e=mo(t),n=$r(t,e);if(n!==null){var i=gn();Ci(n,t,e,i)}Hw(t,e)}};t2=function(){return De};n2=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Wv=function(t,e,n){switch(e){case"input":if(zv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=bm(i);if(!r)throw Error(O(90));PT(i),zv(i,r)}}}break;case"textarea":NT(t,n);break;case"select":e=n.value,e!=null&&Ya(t,!!n.multiple,e,!1)}};VT=zw;jT=$s;var BF={usingClientEntryPoint:!1,Events:[Ed,Ma,bm,BT,UT,zw]},Ic={findFiberByHostInstance:ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UF={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||FF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{fm=Lh.inject(UF),Qi=Lh}catch(t){}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BF;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ww(e))throw Error(O(200));return MF(t,e,null,n)};Hn.createRoot=function(t,e){if(!Ww(t))throw Error(O(299));var n=!1,i="",r=CA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=jw(t,1,!1,null,null,n,!1,i,r),t[Ar]=e.current,Du(t.nodeType===8?t.parentNode:t),new qw(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=WT(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return $s(t)};Hn.hydrate=function(t,e,n){if(!Sm(e))throw Error(O(200));return Im(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!Ww(t))throw Error(O(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=CA;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=EA(e,null,t,1,n!=null?n:null,r,!1,o,s),t[Ar]=e.current,Du(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Cm(e)};Hn.render=function(t,e,n){if(!Sm(e))throw Error(O(200));return Im(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!Sm(t))throw Error(O(40));return t._reactRootContainer?($s(function(){Im(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};Hn.unstable_batchedUpdates=zw;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Sm(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Im(t,e,n,!1,i)};Hn.version="18.2.0-next-9e3b772b8-20220608";function SA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SA)}catch(t){console.error(t)}}SA(),ET.exports=Hn;var Gw=ET.exports;const VF=ql(Gw);var IA,rE=Gw;IA=rE.createRoot,rE.hydrateRoot;const jF="modulepreload",HF=function(t){return"/"+t},oE={},pn=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=HF(o),o in oE)return;oE[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":jF,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},ka={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let _a,TA,Tm,AA=!1,ap=!1,Kw=!1,Nn=!1,sE=null,Cy=!1;const qF={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},WF=t=>{const e=new URL(t,Lt.$resourcesUrl$);return e.origin!==Id.location.origin?e.href:e.pathname},Ds=(t,e="")=>()=>{},aE="http://www.w3.org/1999/xlink",lE={},GF="http://www.w3.org/2000/svg",KF="http://www.w3.org/1999/xhtml",YF=t=>t!=null,Yw=t=>(t=typeof t,t==="object"||t==="function");function QF(t){var e,n,i;return(i=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const w=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!Yw(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?lp(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,JF);const u=lp(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},lp=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},ue={},XF=t=>t&&t.$tag$===ue,JF={forEach:(t,e)=>t.map(cE).forEach(e),map:(t,e)=>t.map(cE).map(e).map(ZF)},cE=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),ZF=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),w(t.vtag,n,...t.vchildren||[])}const e=lp(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},e6=t=>BA.map(e=>e(t)).find(e=>!!e),t6=t=>BA.push(t),n6=t=>Yl(t).$modeName$,i6=(t,e)=>t!=null&&!Yw(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,r6=t=>t,U=(t,e,n)=>{const i=r6(t);return{emit:r=>o6(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},o6=(t,e,n)=>{const i=Lt.ce(e,n);return t.dispatchEvent(i),i},uE=new WeakMap,s6=(t,e,n)=>{let i=up.get(t);P6&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,up.set(t,i)},a6=(t,e,n,i)=>{var r;let o=$A(e,n);const s=up.get(o);if(t=t.nodeType===11?t:Si,s)if(typeof s=="string"){t=t.head||t;let a=uE.get(t),l;if(a||uE.set(t,a=new Set),!a.has(o)){{l=Si.createElement("style"),l.innerHTML=s;const c=(r=Lt.$nonce$)!==null&&r!==void 0?r:QF(Si);c!=null&&l.setAttribute("nonce",c),t.insertBefore(l,t.querySelector("link"))}a&&a.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return o},l6=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=Ds("attachStyles",e.$tagName$),o=a6(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},$A=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),dE=(t,e,n,i,r,o)=>{if(n!==i){let s=mE(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=hE(n),u=hE(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):mE(Id,a)?e=a.slice(2):e=a[2]+e.slice(3),n&&Lt.rel(t,e,n,!1),i&&Lt.ael(t,e,i,!1);else{const l=Yw(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(aE,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(aE,e,i):t.setAttribute(e,i))}}},c6=/\s/,hE=t=>t?t.split(c6):[],DA=(t,e,n,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||lE,s=e.$attrs$||lE;for(i in o)i in s||dE(r,i,o[i],void 0,n,e.$flags$);for(i in s)dE(r,i,o[i],s[i],n,e.$flags$)},cp=(t,e,n,i)=>{const r=e.$children$[n];let o=0,s,a,l;if(AA||(Kw=!0,r.$tag$==="slot"&&(_a&&i.classList.add(_a+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)s=r.$elm$=Si.createTextNode(r.$text$);else if(r.$flags$&1)s=r.$elm$=Si.createTextNode("");else{if(Nn||(Nn=r.$tag$==="svg"),s=r.$elm$=Si.createElementNS(Nn?GF:KF,r.$flags$&2?"slot-fb":r.$tag$),Nn&&r.$tag$==="foreignObject"&&(Nn=!1),DA(null,r,Nn),YF(_a)&&s["s-si"]!==_a&&s.classList.add(s["s-si"]=_a),r.$children$)for(o=0;o<r.$children$.length;++o)a=cp(t,r,o,s),a&&s.appendChild(a);r.$tag$==="svg"?Nn=!1:s.tagName==="foreignObject"&&(Nn=!0)}return s["s-hn"]=Tm,r.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=TA,s["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===r.$tag$&&t.$elm$&&Bu(t.$elm$,!1)),s},Bu=(t,e)=>{Lt.$flags$|=1;const n=t.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Tm&&r["s-ol"]&&(OA(r).insertBefore(r,Qw(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Kw=!0),e&&Bu(r,e)}Lt.$flags$&=-2},RA=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Tm&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=cp(null,n,r,t),a&&(i[r].$elm$=a,s.insertBefore(a,Qw(e))))},PA=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const o=r.$elm$;MA(r),o&&(ap=!0,o["s-ol"]?o["s-ol"].remove():Bu(o,!0),o.remove())}}},u6=(t,e,n,i)=>{let r=0,o=0,s=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],p,m;for(;r<=l&&o<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++o];else if(f==null)f=i[--d];else if(Mh(c,h))Ea(c,h),c=e[++r],h=i[++o];else if(Mh(u,f))Ea(u,f),u=e[--l],f=i[--d];else if(Mh(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&Bu(c.$elm$.parentNode,!1),Ea(c,f),t.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(Mh(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&Bu(u.$elm$.parentNode,!1),Ea(u,h),t.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++o];else{for(s=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){s=a;break}s>=0?(m=e[s],m.$tag$!==h.$tag$?p=cp(e&&e[o],n,s,t):(Ea(m,h),e[s]=void 0,p=m.$elm$),h=i[++o]):(p=cp(e&&e[o],n,o,t),h=i[++o]),p&&OA(c.$elm$).insertBefore(p,Qw(c.$elm$))}r>l?RA(t,i[d+1]==null?null:i[d+1].$elm$,n,i,o,d):o>d&&PA(e,r,l)},Mh=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,Qw=t=>t&&t["s-ol"]||t,OA=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ea=(t,e)=>{const n=e.$elm$=t.$elm$,i=t.$children$,r=e.$children$,o=e.$tag$,s=e.$text$;let a;s===null?(Nn=o==="svg"?!0:o==="foreignObject"?!1:Nn,o==="slot"||DA(t,e,Nn),i!==null&&r!==null?u6(n,i,e,r):r!==null?(t.$text$!==null&&(n.textContent=""),RA(n,null,e,r,0,r.length-1)):i!==null&&PA(i,0,i.length-1),Nn&&o==="svg"&&(Nn=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},NA=t=>{const e=t.childNodes;let n,i,r,o,s,a;for(i=0,r=e.length;i<r;i++)if(n=e[i],n.nodeType===1){if(n["s-sr"]){for(s=n["s-sn"],n.hidden=!1,o=0;o<r;o++)if(a=e[o].nodeType,e[o]["s-hn"]!==n["s-hn"]||s!==""){if(a===1&&s===e[o].getAttribute("slot")){n.hidden=!0;break}}else if(a===1||a===3&&e[o].textContent.trim()!==""){n.hidden=!0;break}}NA(n)}},vi=[],LA=t=>{let e,n,i,r,o,s,a=0;const l=t.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,r=e["s-sn"],s=i.length-1;s>=0;s--)n=i[s],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==e["s-hn"]&&(fE(n,r)?(o=vi.find(u=>u.$nodeToRelocate$===n),ap=!0,n["s-sn"]=n["s-sn"]||r,o?o.$slotRefNode$=e:vi.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&vi.map(u=>{fE(u.$nodeToRelocate$,n["s-sn"])&&(o=vi.find(d=>d.$nodeToRelocate$===n),o&&!u.$slotRefNode$&&(u.$slotRefNode$=o.$slotRefNode$))})):vi.some(u=>u.$nodeToRelocate$===n)||vi.push({$nodeToRelocate$:n}));e.nodeType===1&&LA(e)}},fE=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",MA=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(MA)},d6=(t,e)=>{const n=t.$hostElement$,i=t.$cmpMeta$,r=t.$vnode$||lp(null,null),o=XF(e)?e:w(null,null,e);Tm=n.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=n[s])),o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=r.$elm$=n.shadowRoot||n,_a=n["s-sc"],TA=n["s-cr"],AA=(i.$flags$&1)!==0,ap=!1,Ea(r,o);{if(Lt.$flags$|=1,Kw){LA(o.$elm$);let s,a,l,c,u,d,h=0;for(;h<vi.length;h++)s=vi[h],a=s.$nodeToRelocate$,a["s-ol"]||(l=Si.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<vi.length;h++)if(s=vi[h],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,u=s.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}ap&&NA(o.$elm$),Lt.$flags$&=-2,vi.length=0}},h6=(t,e)=>{},Xw=(t,e)=>(t.$flags$|=16,h6(t,t.$ancestorComponent$),Di(()=>f6(t,e))),f6=(t,e)=>{const n=t.$hostElement$,i=Ds("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;let o;return e?o=tl(r,"componentWillLoad"):o=tl(r,"componentWillUpdate"),o=pE(o,()=>tl(r,"componentWillRender")),i(),pE(o,()=>m6(t,r,e))},pE=(t,e)=>p6(t)?t.then(e):e(),p6=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",m6=async(t,e,n)=>{const i=t.$hostElement$,r=Ds("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&l6(t);const o=Ds("render",t.$cmpMeta$.$tagName$);g6(t,e,i),o(),r(),b6(t)},g6=(t,e,n)=>{try{sE=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(ka.hasRenderFn||ka.reflect)&&(ka.vdomRender||ka.reflect)&&(ka.hydrateServerSide||d6(t,e))}catch(a){Sd(a,t.$hostElement$)}return sE=null,null},b6=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Ds("postUpdate",e),r=n;t.$ancestorComponent$,tl(r,"componentDidRender"),t.$flags$&64?(tl(r,"componentDidUpdate"),i()):(t.$flags$|=64,tl(r,"componentDidLoad"),i())},xo=t=>{{const e=Yl(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&Xw(e,!1),n}},tl=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Sd(i)}},v6=(t,e)=>Yl(t).$instanceValues$.get(e),y6=(t,e,n,i)=>{const r=Yl(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=i6(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Sd(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;Xw(r,!1)}}}},w6=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const i=Object.entries(e.$members$),r=t.prototype;i.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(r,o,{get(){return v6(this,o)},set(a){y6(this,o,a,e)},configurable:!0,enumerable:!0})});{const o=new Map;r.attributeChangedCallback=function(s,a,l){Lt.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},t.observedAttributes=i.filter(([s,a])=>a[0]&15).map(([s,a])=>{const l=a[1]||s;return o.set(l,s),a[0]&512&&e.$attrsToReflect$.push([s,l]),l})}}return t},x6=async(t,e,n,i,r)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,r=t.constructor,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),r.style)){let s=r.style;typeof s!="string"&&(s=s[e.$modeName$=e6(t)]);const a=$A(n,e.$modeName$);if(!up.has(a)){const l=Ds("registerStyles",n.$tagName$);s6(a,s,!!(n.$flags$&1)),l()}}e.$ancestorComponent$,(()=>Xw(e,!0))()},k6=t=>{},_6=t=>{if(!(Lt.$flags$&1)){const e=Yl(t),n=e.$cmpMeta$,i=Ds("connectedCallback",n.$tagName$);e.$flags$&1?(FA(t,e,n.$listeners$),k6(e.$lazyInstance$)):(e.$flags$|=1,n.$flags$&12&&E6(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),x6(t,e,n)),i()}},E6=t=>{const e=t["s-cr"]=Si.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},C6=t=>{if(!(Lt.$flags$&1)){const e=Yl(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},be=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){A6(this,n)},connectedCallback(){_6(this),i&&i.call(this)},disconnectedCallback(){C6(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,w6(t,n)},FA=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=I6(t,r),l=S6(e,s),c=T6(r);Lt.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Lt.rel(a,o,l,c))})},S6=(t,e)=>n=>{try{ka.lazyLoad||t.$hostElement$[e](n)}catch(i){Sd(i)}},I6=(t,e)=>e&4?Si:e&8?Id:e&16?Si.body:t,T6=t=>D6?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,zA=new WeakMap,Yl=t=>zA.get(t),A6=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return FA(t,n,e.$listeners$),zA.set(t,n)},mE=(t,e)=>e in t,Sd=(t,e)=>(0,console.error)(t,e),up=new Map,BA=[],Id=typeof window<"u"?window:{},Si=Id.document||{head:{}},ve=Id.HTMLElement||class{},Lt={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},$6=t=>{Object.assign(Lt,t)},D6=(()=>{let t=!1;try{Si.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),R6=t=>Promise.resolve(t),P6=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Sy=[],UA=[],VA=(t,e)=>n=>{t.push(n),Cy||(Cy=!0,e&&Lt.$flags$&4?O6(Iy):Lt.raf(Iy))},gE=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Sd(n)}t.length=0},Iy=()=>{gE(Sy),gE(UA),(Cy=Sy.length>0)&&Lt.raf(Iy)},O6=t=>R6().then(t),Rs=VA(Sy,!1),Di=VA(UA,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ze=typeof window<"u"?window:void 0,Ob=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ps=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Rt(()=>e(t))},jA=t=>t.componentOnReady!==void 0,Td=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},N6=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ql=(t,e)=>{let n=N6;return e&&e.length>0&&(n=n.filter(i=>!e.includes(i))),Td(t,n)},Jw=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_ael");if(a)return a(t,e,n,i);if(s._ael)return s._ael(t,e,n,i)}}return t.addEventListener(e,n,i)},HA=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_rel");if(a)return a(t,e,n,i);if(s._rel)return s._rel(t,e,n,i)}}return t.removeEventListener(e,n,i)},Fi=(t,e=t)=>t.shadowRoot||e,Rt=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),qA=t=>!!t.shadowRoot&&!!t.attachShadow,Am=t=>{const e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},WA=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},dp=(t,e)=>{let n;const i=t.getAttribute("aria-labelledby"),r=t.id;let o=i!==null&&i.trim()!==""?i:e+"-lbl",s=i!==null&&i.trim()!==""?document.getElementById(i):Am(t);return s?(i===null&&(s.id=o),n=s.textContent,s.setAttribute("aria-hidden","true")):r.trim()!==""&&(s=document.querySelector(`label[for="${r}"]`),s&&(s.id!==""?o=s.id:s.id=o=`${r}-lbl`,n=s.textContent)),{label:s,labelId:o,labelText:n}},Uu=(t,e,n,i,r)=>{if(t||qA(e)){let o=e.querySelector("input.aux-input");o||(o=e.ownerDocument.createElement("input"),o.type="hidden",o.classList.add("aux-input"),e.appendChild(o)),o.disabled=r,o.name=n,o.value=i||""}},Zw=(t,e,n)=>Math.max(t,Math.min(e,n)),wn=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},Sie=t=>t.timeStamp||Date.now(),Iie=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},L6=(t,e)=>{const n=t._original||t;return{_original:t,emit:M6(n.emit.bind(n),e)}},M6=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},GA=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Nb;const F6=t=>(t.forEach(e=>{for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(n==="easing"){const r="animation-timing-function";e[r]=i,delete e[n]}else{const r=z6(n);r!==n&&(e[r]=i,delete e[n])}}}),t),z6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ex=t=>{if(Nb===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;Nb=!e&&n?"-webkit-":""}return Nb},Je=(t,e,n)=>{const i=e.startsWith("animation")?ex(t):"";t.style.setProperty(i+e,n)},pi=(t,e)=>{const n=e.startsWith("animation")?ex(t):"";t.style.removeProperty(n+e)},B6=(t,e)=>{let n;const i={passive:!0},r=()=>{n&&n()},o=s=>{t===s.target&&(r(),e(s))};return t&&(t.addEventListener("webkitAnimationEnd",o,i),t.addEventListener("animationend",o,i),n=()=>{t.removeEventListener("webkitAnimationEnd",o,i),t.removeEventListener("animationend",o,i)}),r},U6=(t=[])=>t.map(e=>{const n=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push(`${r}: ${e[r]};`);return`${n*100}% { ${i.join(" ")} }`}).join(" "),bE=[],V6=t=>{let e=bE.indexOf(t);return e<0&&(e=bE.push(t)-1),`ion-animation-${e}`},j6=t=>{const e=t.getRootNode!==void 0?t.getRootNode():t;return e.head||e},H6=(t,e,n)=>{var i;const r=j6(n),o=ex(n),s=r.querySelector("#"+t);if(s)return s;const a=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=t,a.textContent=`@${o}keyframes ${t} { ${e} } @${o}keyframes ${t}-alt { ${e} }`,r.appendChild(a),a},Fh=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Z=t=>{let e,n,i,r,o,s,a=[],l=[],c=[],u=!1,d,h={},f=[],p=[],m={},y=0,g=!1,b=!1,v,k,$,_,x=!0,S=!1,G=!0,M,L,Q=!1;const Oe=t,Ae=[],Ne=[],Ee=[],ze=[],F=[],N=[],D=[],V=[],W=[],ie=[],ce=typeof AnimationEffect=="function"||Ze!==void 0&&typeof Ze.AnimationEffect=="function",se=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ce,Fe=100,Ve=()=>ie,dr=T=>(ze.forEach(z=>{z.destroy(T)}),vh(T),Ee.length=0,ze.length=0,a.length=0,P4(),u=!1,G=!0,L),vh=T=>{Uk(),T&&Vk()},D4=()=>{g=!1,b=!1,G=!0,k=void 0,$=void 0,_=void 0,y=0,S=!1,x=!0,Q=!1},R4=()=>y!==0&&!Q,yh=(T,z)=>((z!=null&&z.oneTimeCallback?Ne:Ae).push({c:T,o:z}),L),P4=()=>(Ae.length=0,Ne.length=0,L),Uk=()=>{if(se)ie.forEach(T=>{T.cancel()}),ie.length=0;else{const T=Ee.slice();Rt(()=>{T.forEach(z=>{pi(z,"animation-name"),pi(z,"animation-duration"),pi(z,"animation-timing-function"),pi(z,"animation-iteration-count"),pi(z,"animation-delay"),pi(z,"animation-play-state"),pi(z,"animation-fill-mode"),pi(z,"animation-direction")})})}},Vk=()=>{F.forEach(T=>{T!=null&&T.parentNode&&T.parentNode.removeChild(T)}),F.length=0},O4=T=>(N.push(T),L),N4=T=>(D.push(T),L),L4=T=>(V.push(T),L),M4=T=>(W.push(T),L),F4=T=>(l=Fh(l,T),L),z4=T=>(c=Fh(c,T),L),B4=(T={})=>(h=T,L),U4=(T=[])=>{for(const z of T)h[z]="";return L},V4=T=>(f=Fh(f,T),L),j4=T=>(p=Fh(p,T),L),H4=(T={})=>(m=T,L),q4=(T=[])=>{for(const z of T)m[z]="";return L},bc=()=>o!==void 0?o:d?d.getFill():"both",pa=()=>k!==void 0?k:s!==void 0?s:d?d.getDirection():"normal",vc=()=>g?"linear":i!==void 0?i:d?d.getEasing():"linear",hi=()=>b?0:$!==void 0?$:n!==void 0?n:d?d.getDuration():0,jr=()=>r!==void 0?r:d?d.getIterations():1,ma=()=>_!==void 0?_:e!==void 0?e:d?d.getDelay():0,W4=()=>a,G4=T=>(s=T,Kn(!0),L),K4=T=>(o=T,Kn(!0),L),Y4=T=>(e=T,Kn(!0),L),Q4=T=>(i=T,Kn(!0),L),X4=T=>(!se&&T===0&&(T=1),n=T,Kn(!0),L),J4=T=>(r=T,Kn(!0),L),Z4=T=>(d=T,L),eM=T=>{if(T!=null)if(T.nodeType===1)Ee.push(T);else if(T.length>=0)for(let z=0;z<T.length;z++)Ee.push(T[z]);else console.error("Invalid addElement value");return L},tM=T=>{if(T!=null)if(Array.isArray(T))for(const z of T)z.parent(L),ze.push(z);else T.parent(L),ze.push(T);return L},nM=T=>{const z=a!==T;return a=T,z&&iM(a),L},iM=T=>{se?Ve().forEach(z=>{if(z.effect.setKeyframes)z.effect.setKeyframes(T);else{const J=new KeyframeEffect(z.effect.target,T,z.effect.getTiming());z.effect=J}}):jk()},rM=()=>{N.forEach(wt=>wt()),D.forEach(wt=>wt());const T=l,z=c,J=h;Ee.forEach(wt=>{const Vt=wt.classList;T.forEach(Yn=>Vt.add(Yn)),z.forEach(Yn=>Vt.remove(Yn));for(const Yn in J)J.hasOwnProperty(Yn)&&Je(wt,Yn,J[Yn])})},oM=()=>{ab(),V.forEach(Vt=>Vt()),W.forEach(Vt=>Vt());const T=x?1:0,z=f,J=p,wt=m;Ee.forEach(Vt=>{const Yn=Vt.classList;z.forEach(Ko=>Yn.add(Ko)),J.forEach(Ko=>Yn.remove(Ko));for(const Ko in wt)wt.hasOwnProperty(Ko)&&Je(Vt,Ko,wt[Ko])}),Ae.forEach(Vt=>Vt.c(T,L)),Ne.forEach(Vt=>Vt.c(T,L)),Ne.length=0,G=!0,x&&(S=!0),x=!0},ga=()=>{y!==0&&(y--,y===0&&(oM(),d&&d.animationFinish()))},jk=(T=!0)=>{Vk();const z=F6(a);Ee.forEach(J=>{if(z.length>0){const wt=U6(z);M=t!==void 0?t:V6(wt);const Vt=H6(M,wt,J);F.push(Vt),Je(J,"animation-duration",`${hi()}ms`),Je(J,"animation-timing-function",vc()),Je(J,"animation-delay",`${ma()}ms`),Je(J,"animation-fill-mode",bc()),Je(J,"animation-direction",pa());const Yn=jr()===1/0?"infinite":jr().toString();Je(J,"animation-iteration-count",Yn),Je(J,"animation-play-state","paused"),T&&Je(J,"animation-name",`${Vt.id}-alt`),Rt(()=>{Je(J,"animation-name",Vt.id||null)})}})},sM=()=>{Ee.forEach(T=>{const z=T.animate(a,{id:Oe,delay:ma(),duration:hi(),easing:vc(),iterations:jr(),fill:bc(),direction:pa()});z.pause(),ie.push(z)}),ie.length>0&&(ie[0].onfinish=()=>{ga()})},Hk=(T=!0)=>{rM(),a.length>0&&(se?sM():jk(T)),u=!0},yc=T=>{if(T=Math.min(Math.max(T,0),.9999),se)ie.forEach(z=>{z.currentTime=z.effect.getComputedTiming().delay+hi()*T,z.pause()});else{const z=`-${hi()*T}ms`;Ee.forEach(J=>{a.length>0&&(Je(J,"animation-delay",z),Je(J,"animation-play-state","paused"))})}},qk=T=>{ie.forEach(z=>{z.effect.updateTiming({delay:ma(),duration:hi(),easing:vc(),iterations:jr(),fill:bc(),direction:pa()})}),T!==void 0&&yc(T)},Wk=(T=!0,z)=>{Rt(()=>{Ee.forEach(J=>{Je(J,"animation-name",M||null),Je(J,"animation-duration",`${hi()}ms`),Je(J,"animation-timing-function",vc()),Je(J,"animation-delay",z!==void 0?`-${z*hi()}ms`:`${ma()}ms`),Je(J,"animation-fill-mode",bc()||null),Je(J,"animation-direction",pa()||null);const wt=jr()===1/0?"infinite":jr().toString();Je(J,"animation-iteration-count",wt),T&&Je(J,"animation-name",`${M}-alt`),Rt(()=>{Je(J,"animation-name",M||null)})})})},Kn=(T=!1,z=!0,J)=>(T&&ze.forEach(wt=>{wt.update(T,z,J)}),se?qk(J):Wk(z,J),L),aM=(T=!1,z)=>(ze.forEach(J=>{J.progressStart(T,z)}),Gk(),g=T,u||Hk(),Kn(!1,!0,z),L),lM=T=>(ze.forEach(z=>{z.progressStep(T)}),yc(T),L),cM=(T,z,J)=>(g=!1,ze.forEach(wt=>{wt.progressEnd(T,z,J)}),J!==void 0&&($=J),S=!1,x=!0,T===0?(k=pa()==="reverse"?"normal":"reverse",k==="reverse"&&(x=!1),se?(Kn(),yc(1-z)):(_=(1-z)*hi()*-1,Kn(!1,!1))):T===1&&(se?(Kn(),yc(z)):(_=z*hi()*-1,Kn(!1,!1))),T!==void 0&&(yh(()=>{$=void 0,k=void 0,_=void 0},{oneTimeCallback:!0}),d||Kk()),L),Gk=()=>{u&&(se?ie.forEach(T=>{T.pause()}):Ee.forEach(T=>{Je(T,"animation-play-state","paused")}),Q=!0)},uM=()=>(ze.forEach(T=>{T.pause()}),Gk(),L),dM=()=>{v=void 0,ga()},ab=()=>{v&&clearTimeout(v)},hM=()=>{if(ab(),Rt(()=>{Ee.forEach(T=>{a.length>0&&Je(T,"animation-play-state","running")})}),a.length===0||Ee.length===0)ga();else{const T=ma()||0,z=hi()||0,J=jr()||1;isFinite(J)&&(v=setTimeout(dM,T+z*J+Fe)),B6(Ee[0],()=>{ab(),Rt(()=>{fM(),Rt(ga)})})}},fM=()=>{Ee.forEach(T=>{pi(T,"animation-duration"),pi(T,"animation-delay"),pi(T,"animation-play-state")})},pM=()=>{ie.forEach(T=>{T.play()}),(a.length===0||Ee.length===0)&&ga()},mM=()=>{se?(yc(0),qk()):Wk()},Kk=T=>new Promise(z=>{T!=null&&T.sync&&(b=!0,yh(()=>b=!1,{oneTimeCallback:!0})),u||Hk(),S&&(mM(),S=!1),G&&(y=ze.length+1,G=!1),yh(()=>z(),{oneTimeCallback:!0}),ze.forEach(J=>{J.play()}),se?pM():hM(),Q=!1}),gM=()=>{ze.forEach(T=>{T.stop()}),u&&(Uk(),u=!1),D4()},Yk=(T,z)=>{const J=a[0];return J!==void 0&&(J.offset===void 0||J.offset===0)?J[T]=z:a=[{offset:0,[T]:z},...a],L};return L={parentAnimation:d,elements:Ee,childAnimations:ze,id:Oe,animationFinish:ga,from:Yk,to:(T,z)=>{const J=a[a.length-1];return J!==void 0&&(J.offset===void 0||J.offset===1)?J[T]=z:a=[...a,{offset:1,[T]:z}],L},fromTo:(T,z,J)=>Yk(T,z).to(T,J),parent:Z4,play:Kk,pause:uM,stop:gM,destroy:dr,keyframes:nM,addAnimation:tM,addElement:eM,update:Kn,fill:K4,direction:G4,iterations:J4,duration:X4,easing:Q4,delay:Y4,getWebAnimations:Ve,getKeyframes:W4,getFill:bc,getDirection:pa,getDelay:ma,getIterations:jr,getEasing:vc,getDuration:hi,afterAddRead:L4,afterAddWrite:M4,afterClearStyles:q4,afterStyles:H4,afterRemoveClass:j4,afterAddClass:V4,beforeAddRead:O4,beforeAddWrite:N4,beforeClearStyles:U4,beforeStyles:B4,beforeRemoveClass:z4,beforeAddClass:F4,onFinish:yh,isRunning:R4,progressStart:aM,progressStep:lM,progressEnd:cM}},q6="ionViewWillEnter",W6="ionViewDidEnter",KA="ionViewWillLeave",YA="ionViewDidLeave",Lb="ionViewWillUnload",G6=()=>pn(()=>import("./ios.transition-22888f5f.js"),[]),K6=()=>pn(()=>import("./md.transition-014dbad3.js"),[]),QA=t=>new Promise((e,n)=>{Di(()=>{Y6(t),Q6(t).then(i=>{i.animation&&i.animation.destroy(),vE(t),e(i)},i=>{vE(t),n(i)})})}),Y6=t=>{const e=t.enteringEl,n=t.leavingEl;i5(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Ty(e,!1),e.style.setProperty("pointer-events","none"),n&&(Ty(n,!1),n.style.setProperty("pointer-events","none"))},Q6=async t=>{const e=await X6(t);return e&&qF.isBrowser?J6(e,t):Z6(t)},vE=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},X6=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await G6()).iosTransitionAnimation:(await K6()).mdTransitionAnimation,J6=async(t,e)=>{await XA(e,!0);const n=t(e.baseEl,e);JA(e.enteringEl,e.leavingEl);const i=await t5(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&ZA(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},Z6=async t=>{const e=t.enteringEl,n=t.leavingEl;return await XA(t,!1),JA(e,n),ZA(e,n),{hasCompleted:!0}},XA=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([hp(t.enteringEl),hp(t.leavingEl)]),await e5(t.viewIsReady,t.enteringEl)},e5=async(t,e)=>{t&&await t(e)},t5=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(o=>r(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},JA=(t,e)=>{mr(e,KA),mr(t,q6)},ZA=(t,e)=>{mr(t,W6),mr(e,YA)},mr=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},n5=()=>new Promise(t=>Rt(()=>Rt(()=>t()))),hp=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Rt(i));return}await Promise.all(Array.from(e.children).map(hp))}},Ty=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},i5=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},Tie=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fp=(t,e,n,i,r)=>o5(t[1],e[1],n[1],i[1],r).map(o=>r5(t[0],e[0],n[0],i[0],o)),r5=(t,e,n,i,r)=>{const o=3*e*Math.pow(r-1,2),s=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(o+r*s)-a},o5=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,a5(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),s5=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},a5=(t,e,n,i)=>{if(t===0)return s5(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(o/2,2)+Math.pow(r/3,3);if(s===0)return[Math.pow(o/2,1/2)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class l5{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new c5(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new u5(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,i){return this.canStart(e)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(e,n,i){if(!this.start(e,n,i))return!1;const r=this.requestedStart;let o=-1e4;if(r.forEach(s=>{o=Math.max(o,s)}),o===i){this.capturedId=n,r.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(s),!0}return r.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(n)}enableGesture(e,n){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(yE)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(yE)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class c5{constructor(e,n,i,r,o){this.id=n,this.name=i,this.disableScroll=o,this.priority=r*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class u5{constructor(e,n,i,r){this.id=n,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const yE="backdrop-no-scroll",e$=new l5;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yo=(t,e,n,i)=>{const r=d5(t)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let o,s;return t.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),t[o](e,n,r),()=>{t[s](e,n,r)}},d5=t=>{if(zh===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{zh=!0}});t.addEventListener("optsTest",()=>{},e)}catch(e){zh=!1}return!!zh};let zh;const h5=2e3,f5=(t,e,n,i,r)=>{let o,s,a,l,c,u,d,h=0;const f=_=>{h=Date.now()+h5,e(_)&&(!s&&n&&(s=Yo(t,"touchmove",n,r)),a||(a=Yo(_.target,"touchend",m,r)),l||(l=Yo(_.target,"touchcancel",m,r)))},p=_=>{h>Date.now()||e(_)&&(!u&&n&&(u=Yo(wE(t),"mousemove",n,r)),d||(d=Yo(wE(t),"mouseup",y,r)))},m=_=>{g(),i&&i(_)},y=_=>{b(),i&&i(_)},g=()=>{s&&s(),a&&a(),l&&l(),s=a=l=void 0},b=()=>{u&&u(),d&&d(),u=d=void 0},v=()=>{g(),b()},k=(_=!0)=>{_?(o||(o=Yo(t,"touchstart",f,r)),c||(c=Yo(t,"mousedown",p,r))):(o&&o(),c&&c(),o=c=void 0,v())};return{enable:k,stop:v,destroy:()=>{k(!1),i=n=e=void 0}}},wE=t=>t instanceof Document?t:t.ownerDocument,p5=(t,e,n)=>{const i=n*(Math.PI/180),r=t==="x",o=Math.cos(i),s=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-a,p=h-l,m=f*f+p*p;if(m<s)return!1;const y=Math.sqrt(m),g=(r?f:p)/y;return g>o?u=1:g<-o?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},m5=t=>{let e=!1,n=!1,i=!0,r=!1;const o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=o.canStart,a=o.onWillStart,l=o.onStart,c=o.onEnd,u=o.notCaptured,d=o.onMove,h=o.threshold,f=o.passive,p=o.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},y=p5(o.direction,o.threshold,o.maxAngle),g=e$.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),b=Q=>{const Oe=n$(Q);return n||!i||(t$(Q,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=Oe,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=Q,s&&s(m)===!1)||(g.release(),!g.start())?!1:(n=!0,h===0?$():(y.start(m.startX,m.startY),!0))},v=Q=>{if(e){!r&&i&&(r=!0,Mb(m,Q),requestAnimationFrame(k));return}Mb(m,Q),y.detect(m.currentX,m.currentY)&&(!y.isGesture()||!$())&&L()},k=()=>{e&&(r=!1,d&&d(m))},$=()=>g.capture()?(e=!0,i=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,a?a(m).then(x):x(),!0):!1,_=()=>{if(typeof document<"u"){const Q=document.activeElement;Q!=null&&Q.blur&&Q.blur()}},x=()=>{p&&_(),l&&l(m),i=!0},S=()=>{e=!1,n=!1,r=!1,i=!0,g.release()},G=Q=>{const Oe=e,Ae=i;if(S(),!!Ae){if(Mb(m,Q),Oe){c&&c(m);return}u&&u(m)}},M=f5(o.el,b,v,G,{capture:!1,passive:f}),L=()=>{S(),M.stop(),u&&u(m)};return{enable(Q=!0){Q||(e&&G(void 0),S()),M.enable(Q)},destroy(){g.destroy(),M.destroy()}}},Mb=(t,e)=>{if(!e)return;const n=t.currentX,i=t.currentY,r=t.currentTime;t$(e,t);const o=t.currentX,s=t.currentY,l=(t.currentTime=n$(e))-r;if(l>0&&l<100){const c=(o-n)/l,u=(s-i)/l;t.velocityX=c*.7+t.velocityX*.3,t.velocityY=u*.7+t.velocityY*.3}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e},t$=(t,e)=>{let n=0,i=0;if(t){const r=t.changedTouches;if(r&&r.length>0){const o=r[0];n=o.clientX,i=o.clientY}else t.pageX!==void 0&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},n$=t=>t.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class g5{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const de=new g5,b5=t=>{try{const e=t.sessionStorage.getItem(i$);return e!==null?JSON.parse(e):{}}catch(e){return{}}},v5=(t,e)=>{try{t.sessionStorage.setItem(i$,JSON.stringify(e))}catch(n){return}},y5=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>w5(n,xE)).map(([n,i])=>[n.slice(xE.length),i]).forEach(([n,i])=>{e[n]=i}),e},w5=(t,e)=>t.substr(0,e.length)===e,xE="ionic:",i$="ionic-persist-config",x5=t=>r$(t),vr=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),x5(t).includes(e)),r$=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=k5(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},k5=t=>{const e=de.get("platform");return Object.keys(kE).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):kE[n](t)})},_5=t=>$m(t)&&!s$(t),tx=t=>!!(Os(t,/iPad/i)||Os(t,/Macintosh/i)&&$m(t)),E5=t=>Os(t,/iPhone/i),C5=t=>Os(t,/iPhone|iPod/i)||tx(t),o$=t=>Os(t,/android|sink/i),S5=t=>o$(t)&&!Os(t,/mobile/i),I5=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},T5=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return tx(t)||S5(t)||i>460&&i<820&&r>780&&r<1400},$m=t=>R5(t,"(any-pointer:coarse)"),A5=t=>!$m(t),s$=t=>a$(t)||l$(t),a$=t=>!!(t.cordova||t.phonegap||t.PhoneGap),l$=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},$5=t=>Os(t,/electron/i),D5=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},Os=(t,e)=>e.test(t.navigator.userAgent),R5=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},kE={ipad:tx,iphone:E5,ios:C5,android:o$,phablet:I5,tablet:T5,cordova:a$,capacitor:l$,electron:$5,pwa:D5,mobile:$m,mobileweb:_5,desktop:A5,hybrid:s$};let Ca;const X=t=>t&&n6(t)||Ca,P5=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},r={};t._ael&&(r.ael=t._ael),t._rel&&(r.rel=t._rel),t._ce&&(r.ce=t._ce),$6(r);const o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b5(n)),{persistConfig:!1}),i.config),y5(n)),t);de.reset(o),de.getBoolean("persistConfig")&&v5(n,o),r$(n),i.config=de,i.mode=Ca=de.get("mode",e.documentElement.getAttribute("mode")||(vr(n,"ios")?"ios":"md")),de.set("mode",Ca),e.documentElement.setAttribute("mode",Ca),e.documentElement.classList.add(Ca),de.getBoolean("_testing")&&de.set("animated",!1);const s=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);t6(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;s(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return Ca})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nx=t=>{try{if(t instanceof M5)return t.value;if(!O5()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,L5.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=$y(c);for(let d=0;d<u.length;d++)Ay(u[d])}});const i=$y(e);for(let s=0;s<i.length;s++)Ay(i[s]);const r=document.createElement("div");r.appendChild(e);const o=r.querySelector("div");return o!==null?o.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},Ay=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),r=i.name;if(!N5.includes(r.toLowerCase())){t.removeAttribute(r);continue}const o=i.value,s=t[r];(o!=null&&o.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(r)}const e=$y(t);for(let n=0;n<e.length;n++)Ay(e[n])},$y=t=>t.children!=null?t.children:t.childNodes,O5=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},N5=["class","id","href","src","name","slot"],L5=["script","style","iframe","meta","link","object","embed"];class M5{constructor(e){this.value=e}}const ix=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const F5=()=>{document.addEventListener("backbutton",()=>{})},z5=()=>{const t=document;let e=!1;t.addEventListener("backbutton",()=>{if(e)return;let n=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(a,l){i.push({priority:a,handler:l,id:n++})}}});t.dispatchEvent(r);const o=async a=>{try{if(a!=null&&a.handler){const l=a.handler(s);l!=null&&await l}}catch(l){console.error(l)}},s=()=>{if(i.length>0){let a={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=a.priority&&(a=l)}),e=!0,i=i.filter(l=>l.id!==a.id),o(a).then(()=>e=!1)}};s()})},c$=100,B5=99,U5=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:B5,OVERLAY_BACK_BUTTON_PRIORITY:c$,blockHardwareBackButton:F5,startHardwareBackButton:z5},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rx=async(t,e,n,i,r,o)=>{var s;if(t)return t.attachViewToDom(e,n,r,i);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ps(a,l)),a},u$=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},d$=()=>{let t,e;return{attachViewToDom:async(r,o,s={},a=[])=>{var l,c;if(t=r,o){const d=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(h=>d.classList.add(h)),Object.assign(d,s),t.appendChild(d),await new Promise(h=>Ps(d,h))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!t.children[0].classList.contains("ion-delegate-host")){const h=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");h.classList.add("ion-delegate-host"),a.forEach(f=>h.classList.add(f)),h.append(...t.children),t.appendChild(h)}const u=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),u.appendChild(t),t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kt=(t,...e)=>console.warn(`[Ionic Warning]: ${t}`,...e),h$=(t,...e)=>console.error(`[Ionic Error]: ${t}`,...e),V5=(t,...e)=>console.error(`<${t.tagName.toLowerCase()}> must be used inside ${e.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Dy=0,j5=0;const Ry=new WeakMap,Ad=t=>({create(e){return Y5(t,e)},dismiss(e,n,i){return Z5(document,e,n,t,i)},async getTop(){return ju(document,t)}}),H5=Ad("ion-alert"),q5=Ad("ion-action-sheet"),W5=Ad("ion-loading"),G5=Ad("ion-popover"),K5=Ad("ion-toast"),$d=t=>{typeof document<"u"&&J5(document);const e=Dy++;t.overlayIndex=e},Dd=t=>(t.hasAttribute("id")||(t.id=`ion-overlay-${++j5}`),t.id),Y5=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{const n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),p$(document).appendChild(n),new Promise(i=>Ps(n,i))}):Promise.resolve(),Vu='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Py=(t,e)=>{let n=t.querySelector(Vu);const i=n==null?void 0:n.shadowRoot;i&&(n=i.querySelector(Vu)||n),n?WA(n):e.focus()},Q5=t=>t.classList.contains("overlay-hidden"),_E=(t,e)=>{const n=Array.from(t.querySelectorAll(Vu));let i=n.length>0?n[n.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(Vu)||i),i?i.focus():e.focus()},X5=(t,e)=>{const n=ju(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=t.target;if(!n||!i||n.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(n===i)n.lastFocus=void 0;else{const s=Fi(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i))n.lastFocus=i;else{const l=n.lastFocus;Py(a,n),l===e.activeElement&&_E(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(i))n.lastFocus=i;else{const s=n.lastFocus;Py(n,n),s===e.activeElement&&_E(n,n),n.lastFocus=e.activeElement}};n.shadowRoot?o():r()},J5=t=>{Dy===0&&(Dy=1,t.addEventListener("focus",e=>{X5(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=ju(t);n!=null&&n.backdropDismiss&&e.detail.register(c$,()=>n.dismiss(void 0,Ns))}),t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=ju(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Ns)}}))},Z5=(t,e,n,i,r)=>{const o=ju(t,i,r);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},ez=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),ju=(t,e,n)=>{const i=ez(t,e).filter(r=>!Q5(r));return n===void 0?i[i.length-1]:i.find(r=>r.id===n)},f$=(t=!1)=>{const n=p$(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},Rd=async(t,e,n,i,r)=>{var o,s;if(t.presented)return;f$(!0),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=X(t),l=t.enterAnimation?t.enterAnimation:de.get(e,a==="ios"?n:i);await m$(t,l,t.el,r)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&tz(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus()},tz=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(Vu)||e),await t.onDidDismiss(),e.focus()},Pd=async(t,e,n,i,r,o,s)=>{var a,l;if(!t.presented)return!1;f$(!1),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const c=X(t),u=t.leaveAnimation?t.leaveAnimation:de.get(i,c==="ios"?r:o);n!==rz&&await m$(t,u,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),Ry.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(c){console.error(c)}return t.el.remove(),!0},p$=t=>t.querySelector("ion-app")||t.body,m$=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const r=t.el,o=e(r,i);(!t.animated||!de.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Ry.get(t)||[];return Ry.set(t,[...s,o]),await o.play(),!0},rr=(t,e)=>{let n;const i=new Promise(r=>n=r);return nz(t,e,r=>{n(r.detail)}),i},nz=(t,e,n)=>{const i=r=>{HA(t,e,i),n(r)};Jw(t,e,i)},kl=t=>t==="cancel"||t===Ns,iz=t=>t(),nl=(t,e)=>{if(typeof t=="function")return de.get("_zoneGate",iz)(()=>{try{return t(e)}catch(i){throw i}})},Ns="backdrop",rz="gesture",Dm=t=>{let e=!1,n;const i=d$(),r=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},Rm=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,r)=>{e();const o=r!==void 0?document.getElementById(r):null;if(!o){kt(`A trigger element with the ID "${r}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,i)},removeClickListener:e}};function mt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oz="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",sz="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",az="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",lz="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M136 208l120-104 120 104M136 304l120 104 120-104' stroke-width='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none'/></svg>",EE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",CE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",SE="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Fb;const cz=()=>{if(typeof window>"u")return new Map;if(!Fb){const t=window;t.Ionicons=t.Ionicons||{},Fb=t.Ionicons.map=t.Ionicons.map||new Map}return Fb},uz=t=>{let e=zb(t.src);return e||(e=g$(t.name,t.icon,t.mode,t.ios,t.md),e?dz(e):t.icon&&(e=zb(t.icon),e||(e=zb(t.icon[t.mode]),e))?e:null)},dz=t=>{const e=cz().get(t);return e||WF(`svg/${t}.svg`)},g$=(t,e,n,i,r)=>(n=(n&&Bh(n))==="ios"?"ios":"md",i&&n==="ios"?t=Bh(i):r&&n==="md"?t=Bh(r):(!t&&e&&!b$(e)&&(t=e),pp(t)&&(t=Bh(t))),!pp(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),zb=t=>pp(t)&&(t=t.trim(),b$(t))?t:null,b$=t=>t.length>0&&/(\/|\.)/.test(t),pp=t=>typeof t=="string",Bh=t=>t.toLowerCase(),hz=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},fz=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",pz=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),v$(n))return e.innerHTML}return""},v$=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(pp(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!v$(t.childNodes[e]))return!1}return!0},mz=t=>t.startsWith("data:image/svg+xml"),gz=t=>t.indexOf(";utf8,")!==-1,ds=new Map,IE=new Map;let Bb;const bz=(t,e)=>{let n=IE.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(mz(t)&&gz(t)){Bb||(Bb=new DOMParser);const r=Bb.parseFromString(t,"text/html").querySelector("svg");return r&&ds.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=pz(r)),ds.set(t,r||"")});ds.set(t,"")}),IE.set(t,n);else return ds.set(t,""),Promise.resolve();return n},vz=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",yz=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=wz(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=hz(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=uz(this);e&&(ds.has(e)?this.svgContent=ds.get(e):bz(e,this.sanitize).then(()=>this.svgContent=ds.get(e)))}this.iconName=g$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:n,inheritedAttributes:i}=this,r=this.mode||"md",o=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&this.flipRtl!==!1;return w(ue,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},xz(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":!!o&&fz(n)})},i),this.svgContent?w("div",{class:"icon-inner",innerHTML:this.svgContent}):w("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return vz}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),wz=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",xz=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function ta(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,yz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kz=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",_z=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Ez=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=U(this,"ionBackdropTap",7),this.blocker=e$.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=X(this);return w(ue,{tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:kz,md:_z}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Od(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,Ez);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ft=(t,e)=>e.closest(t)!==null,vt=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,Cz=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],Dn=t=>{const e={};return Cz(t).forEach(n=>e[n]=!0),e},Sz=/^[a-z][a-z0-9+\-.]*:/,ox=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!Sz.test(t)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Iz=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",Tz=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",Az=be(class extends ve{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=X(this);return w(ue,{class:{[e]:!0,["buttons-collapse"]:this.collapse}})}static get style(){return{ios:Iz,md:Tz}}},[34,"ion-buttons",{collapse:[4]}]);function $z(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,Az);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Dz=$z;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pm=t=>{const e=t;let n;return{hasLegacyControl:()=>{if(n===void 0){const r=e.label!==void 0||Rz(e),o=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,s=Am(e);n=e.legacy===!0||!r&&!o&&s!==null}return n}}},Rz=t=>t.shadowRoot===null?!1:!!(Pz.includes(t.tagName)&&t.querySelector('[slot="label"]')!==null||Oz.includes(t.tagName)&&t.textContent!==""),Pz=["ION-RANGE"],Oz=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nz=":host{--checkbox-background-checked:var(--ion-color-primary, #3880ff);--border-color-checked:var(--ion-color-primary, #3880ff);--checkmark-color:var(--ion-color-primary-contrast, #fff);--checkmark-width:1;--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){width:100%;height:100%}:host([slot=start]:not(.legacy-checkbox)),:host([slot=end]:not(.legacy-checkbox)){width:auto}:host(.legacy-checkbox){width:var(--size);height:var(--size)}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}:host(.legacy-checkbox) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-checkbox) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-checkbox) label{left:0}:host-context([dir=rtl]):host(.legacy-checkbox) label,:host-context([dir=rtl]).legacy-checkbox label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-checkbox) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-checkbox) label::-moz-focus-inner{border:0}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;cursor:inherit}.label-text-wrapper{pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.legacy-checkbox) .checkbox-icon{display:block;width:100%;height:100%}:host(:not(.legacy-checkbox)) .checkbox-icon{width:var(--size);height:var(--size)}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:50%;--border-width:1px;--border-style:solid;--border-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.23);--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--size:26px}:host(.checkbox-disabled){opacity:0.3}:host(.in-item.legacy-checkbox){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:9px;display:block;position:static}:host(.in-item.legacy-checkbox[slot=start]){-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:8px;margin-bottom:8px}",Lz=":host{--checkbox-background-checked:var(--ion-color-primary, #3880ff);--border-color-checked:var(--ion-color-primary, #3880ff);--checkmark-color:var(--ion-color-primary-contrast, #fff);--checkmark-width:1;--transition:none;display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.in-item){width:100%;height:100%}:host([slot=start]:not(.legacy-checkbox)),:host([slot=end]:not(.legacy-checkbox)){width:auto}:host(.legacy-checkbox){width:var(--size);height:var(--size)}:host(.ion-color){--checkbox-background-checked:var(--ion-color-base);--border-color-checked:var(--ion-color-base);--checkmark-color:var(--ion-color-contrast)}:host(.legacy-checkbox) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-checkbox) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-checkbox) label{left:0}:host-context([dir=rtl]):host(.legacy-checkbox) label,:host-context([dir=rtl]).legacy-checkbox label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-checkbox) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-checkbox) label::-moz-focus-inner{border:0}.checkbox-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;cursor:inherit}.label-text-wrapper{pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.checkbox-icon{border-radius:var(--border-radius);position:relative;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--checkbox-background);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.legacy-checkbox) .checkbox-icon{display:block;width:100%;height:100%}:host(:not(.legacy-checkbox)) .checkbox-icon{width:var(--size);height:var(--size)}.checkbox-icon path{fill:none;stroke:var(--checkmark-color);stroke-width:var(--checkmark-width);opacity:0}:host(.checkbox-justify-space-between) .checkbox-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.checkbox-justify-start) .checkbox-wrapper{-ms-flex-pack:start;justify-content:start}:host(.checkbox-justify-end) .checkbox-wrapper{-ms-flex-pack:end;justify-content:end}:host(.checkbox-label-placement-start) .checkbox-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.checkbox-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-end) .checkbox-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.checkbox-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.checkbox-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.checkbox-checked) .checkbox-icon,:host(.checkbox-indeterminate) .checkbox-icon{border-color:var(--border-color-checked);background:var(--checkbox-background-checked)}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{opacity:1}:host(.checkbox-disabled){pointer-events:none}:host{--border-radius:calc(var(--size) * .125);--border-width:2px;--border-style:solid;--border-color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--checkmark-width:3;--checkbox-background:var(--ion-item-background, var(--ion-background-color, #fff));--transition:background 180ms cubic-bezier(0.4, 0, 0.2, 1);--size:18px}.checkbox-icon path{stroke-dasharray:30;stroke-dashoffset:30}:host(.checkbox-checked) .checkbox-icon path,:host(.checkbox-indeterminate) .checkbox-icon path{stroke-dashoffset:0;-webkit-transition:stroke-dashoffset 90ms linear 90ms;transition:stroke-dashoffset 90ms linear 90ms}:host(.legacy-checkbox.checkbox-disabled),:host(.checkbox-disabled) .label-text-wrapper{opacity:0.38}:host(.checkbox-disabled) .native-wrapper{opacity:0.63}:host(.in-item.legacy-checkbox){margin-left:0;margin-right:0;margin-top:18px;margin-bottom:18px;display:block;position:static}:host(.in-item.legacy-checkbox[slot=start]){-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:36px;margin-inline-end:36px;margin-top:18px;margin-bottom:18px}",Mz=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=U(this,"ionChange",7),this.ionFocus=U(this,"ionFocus",7),this.ionBlur=U(this,"ionBlur",7),this.ionStyle=U(this,"ionStyle",7),this.inputId=`ion-cb-${Fz++}`,this.inheritedAttributes={},this.hasLoggedDeprecationWarning=!1,this.setChecked=e=>{const n=this.checked=e;this.ionChange.emit({checked:n,value:this.value})},this.toggleChecked=e=>{e.preventDefault(),this.setFocus(),this.setChecked(!this.checked),this.indeterminate=!1},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.name=this.inputId,this.checked=!1,this.indeterminate=!1,this.disabled=!1,this.value="on",this.labelPlacement="start",this.justify="space-between",this.legacy=void 0}connectedCallback(){this.legacyFormController=Pm(this.el)}componentWillLoad(){this.emitStyle(),this.legacyFormController.hasLegacyControl()||(this.inheritedAttributes=Object.assign({},Ql(this.el)))}styleChanged(){this.emitStyle()}emitStyle(){const e={"interactive-disabled":this.disabled};this.legacyFormController.hasLegacyControl()&&(e["checkbox-checked"]=this.checked),this.ionStyle.emit(e)}setFocus(){this.focusEl&&this.focusEl.focus()}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyCheckbox():this.renderCheckbox()}renderCheckbox(){const{color:e,checked:n,disabled:i,el:r,getSVGPath:o,indeterminate:s,inheritedAttributes:a,inputId:l,justify:c,labelPlacement:u,name:d,value:h}=this,f=X(this),p=o(f,s);return Uu(!0,r,d,n?h:"",i),w(ue,{class:vt(e,{[f]:!0,"in-item":ft("ion-item",r),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":s,interactive:!0,[`checkbox-justify-${c}`]:!0,[`checkbox-label-placement-${u}`]:!0})},w("label",{class:"checkbox-wrapper"},w("input",Object.assign({type:"checkbox",checked:n?!0:void 0,disabled:i,id:l,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:m=>this.focusEl=m},a)),w("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":r.textContent===""}},w("slot",null)),w("div",{class:"native-wrapper"},w("svg",{class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},p))))}renderLegacyCheckbox(){this.hasLoggedDeprecationWarning||(kt(`ion-checkbox now requires providing a label with either the default slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.

Example: <ion-checkbox>Label</ion-checkbox>
Example with aria-label: <ion-checkbox aria-label="Label"></ion-checkbox>

Developers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.`,this.el),this.legacy&&kt(`ion-checkbox is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.
Developers can dismiss this warning by removing their usage of the "legacy" property and using the new checkbox syntax.`,this.el),this.hasLoggedDeprecationWarning=!0);const{color:e,checked:n,disabled:i,el:r,getSVGPath:o,indeterminate:s,inputId:a,name:l,value:c}=this,u=X(this),{label:d,labelId:h,labelText:f}=dp(r,a),p=o(u,s);return Uu(!0,r,l,n?c:"",i),w(ue,{"aria-labelledby":d?h:null,"aria-checked":`${n}`,"aria-hidden":i?"true":null,role:"checkbox",class:vt(e,{[u]:!0,"in-item":ft("ion-item",r),"checkbox-checked":n,"checkbox-disabled":i,"checkbox-indeterminate":s,"legacy-checkbox":!0,interactive:!0})},w("svg",{class:"checkbox-icon",viewBox:"0 0 24 24",part:"container"},p),w("label",{htmlFor:a},f),w("input",{type:"checkbox","aria-checked":`${n}`,disabled:i,id:a,onChange:this.toggleChecked,onFocus:()=>this.onFocus(),onBlur:()=>this.onBlur(),ref:m=>this.focusEl=m}))}getSVGPath(e,n){let i=n?w("path",{d:"M6 12L18 12",part:"mark"}):w("path",{d:"M5.9,12.5l3.8,3.8l8.8-8.8",part:"mark"});return e==="md"&&(i=n?w("path",{d:"M2 12H22",part:"mark"}):w("path",{d:"M1.73,12.91 8.1,19.28 22.79,4.59",part:"mark"})),i}get el(){return this}static get watchers(){return{checked:["styleChanged"],disabled:["styleChanged"]}}static get style(){return{ios:Nz,md:Lz}}},[33,"ion-checkbox",{color:[513],name:[1],checked:[1028],indeterminate:[1028],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],justify:[1],legacy:[4]}]);let Fz=0;function y$(){if(typeof customElements>"u")return;["ion-checkbox"].forEach(e=>{switch(e){case"ion-checkbox":customElements.get(e)||customElements.define(e,Mz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zz=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",Bz=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{Rs(()=>{const r=this.el.getBoundingClientRect(),o=r.width,s=r.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),c=this.unbounded?l:a+Vz,u=Math.floor(l*jz),d=c/u;let h=e-r.left,f=n-r.top;this.unbounded&&(h=o*.5,f=s*.5);const p=h-u*.5,m=f-u*.5,y=o*.5-h,g=s*.5-f;Di(()=>{const b=document.createElement("div");b.classList.add("ripple-effect");const v=b.style;v.top=m+"px",v.left=p+"px",v.width=v.height=u+"px",v.setProperty("--final-scale",`${d}`),v.setProperty("--translate-end",`${y}px, ${g}px`),(this.el.shadowRoot||this.el).appendChild(b),setTimeout(()=>{i(()=>{Uz(b)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=X(this);return w(ue,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return zz}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Uz=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},Vz=10,jz=.5;function Fo(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,Bz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Uh=typeof window<"u"?window:void 0;Uh&&(Uh.CSS&&Uh.CSS.supports&&Uh.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const w$=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hz=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',qz=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=U(this,"ionScrollStart",7),this.ionScroll=U(this,"ionScroll",7),this.ionScrollEnd=U(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=X(this);return e===void 0?n==="ios"&&vr("ios"):e}resize(){this.fullscreen?Rs(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,xo(this))}readDimensions(){const e=Gz(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,xo(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Rs(r=>{this.queued=!1,this.detail.event=e,Kz(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ps(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ps(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,n+r.scrollTop,i)}async scrollToPoint(e,n,i=0){const r=await this.getScrollElement();if(i<32){n!=null&&(r.scrollTop=n),e!=null&&(r.scrollLeft=e);return}let o,s=0;const a=new Promise(f=>o=f),l=r.scrollTop,c=r.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-s)/i)-1,m=Math.pow(p,3)+1;u!==0&&(r.scrollTop=Math.floor(m*u+l)),d!==0&&(r.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{s=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:n,scrollY:i,el:r}=this,o=w$(r)?"rtl":"ltr",s=X(this),a=this.shouldForceOverscroll(),l=s==="ios",c=e?"main":"div";return this.resize(),w(ue,{class:vt(this.color,{[s]:!0,"content-sizing":ft("ion-popover",this.el),overscroll:a,[`content-${o}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},w("div",{ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),w(c,{class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},w("slot",null)),l?w("div",{class:"transition-effect"},w("div",{class:"transition-cover"}),w("div",{class:"transition-shadow"})):null,w("slot",{name:"fixed"}))}get el(){return this}static get style(){return Hz}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),Wz=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},Gz=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||Wz(t)},Kz=(t,e,n,i)=>{const r=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-r)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function Yz(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,qz);break}})}const Qz=Yz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xz=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:0;--padding-bottom:0;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',Jz=`:host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:0;--padding-bottom:0;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),
                background-color 15ms linear,
                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}`,Zz=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=U(this,"ionFocus",7),this.ionBlur=U(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;if(this.type==="button")ox(this.href,e,this.routerDirection,this.routerAnimation);else if(qA(n)){let i=this.findForm();const{form:r}=this;if(!i&&r!==void 0){kt(typeof r=="string"?`Form with selector: "#${r}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`:'The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',n);return}if(i||(i=n.closest("form")),i){e.preventDefault();const o=document.createElement("button");o.type=this.type,o.style.display="none",i.appendChild(o),o.click(),o.remove()}}},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Ql(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);if(n instanceof HTMLFormElement)return n}return null}render(){const e=X(this),{buttonType:n,type:i,disabled:r,rel:o,target:s,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,m=a===void 0&&this.inItem?"small":a,y=l===void 0?"button":"a",g=y==="button"?{type:i}:{download:this.download,href:l,rel:o,target:s};let b=this.fill;return b==null&&(b=this.inToolbar||this.inListHeader?"clear":"solid"),w(ue,{onClick:this.handleClick,"aria-disabled":r?"true":null,class:vt(c,{[e]:!0,[n]:!0,[`${n}-${u}`]:u!==void 0,[`${n}-${m}`]:m!==void 0,[`${n}-${h}`]:h!==void 0,[`${n}-${b}`]:!0,[`${n}-strong`]:f,"in-toolbar":ft("ion-toolbar",this.el),"in-toolbar-color":ft("ion-toolbar[color]",this.el),"in-buttons":ft("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},w(y,Object.assign({},g,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},p),w("span",{class:"button-inner"},w("slot",{name:"icon-only"}),w("slot",{name:"start"}),w("slot",null),w("slot",{name:"end"})),e==="md"&&w("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:Xz,md:Jz}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eB=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, #a6a6a6)}",tB=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, #666666);font-size:14px}",nB=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=X(this);return w(ue,{class:vt(this.color,{[e]:!0})},w("slot",null))}static get style(){return{ios:eB,md:tB}}},[33,"ion-note",{color:[513]}]);function Om(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,nB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iB=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:0px;--padding-bottom:0px;--padding-start:.5em;--padding-end:.5em;height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',rB=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:0;--padding-bottom:0;--padding-start:.6em;--padding-end:.6em;height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',x$=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=EE,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l=`item-${a}`;o[l]||(s=!0),r[l]=!0}}),!s&&Object.keys(r).length!==Object.keys(o).length&&(s=!0),s&&(this.itemStyles.set(n,r),xo(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Td(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:n,counterFormatter:i,fill:r,shape:o}=this;e.querySelector('[slot="helper"]')!==null&&kt('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&kt('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),n===!0&&kt('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&kt('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&kt('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),o!==void 0&&kt('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Rt(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var n,i;const{counter:r,counterFormatter:o,defaultCounterFormatter:s}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(o===void 0)this.counterString=s(a,e.maxlength);else try{this.counterString=o(a,e.maxlength)}catch(l){h$("Exception in provided `counterFormatter`.",l),this.counterString=s(a,e.maxlength)}}}defaultCounterFormatter(e,n){return`${e} / ${n}`}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:n,detailIcon:i,download:r,fill:o,labelColorStyles:s,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:f,routerDirection:p,inheritedAriaAttributes:m}=this,y={},g=X(this),b=this.isClickable(),v=this.canActivate(),k=b?c===void 0?"button":"a":"div",$=k==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h},_=b?{onClick:L=>{ox(c,L,p,f)}}:{},x=n!==void 0?n:g==="ios"&&b;this.itemStyles.forEach(L=>{Object.assign(y,L)});const S=l||y["item-interactive-disabled"]?"true":null,G=o||"none",M=ft("ion-list",this.el);return w(ue,{"aria-disabled":S,class:Object.assign(Object.assign(Object.assign({},y),s),vt(this.color,{item:!0,[g]:!0,"item-lines-default":a===void 0,[`item-lines-${a}`]:a!==void 0,[`item-fill-${G}`]:!0,[`item-shape-${d}`]:d!==void 0,"item-disabled":l,"in-list":M,"item-multiple-inputs":this.multipleInputs,"ion-activatable":v,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:M?"listitem":null},w(k,Object.assign({},$,m,{class:"item-native",part:"native",disabled:l},_),w("slot",{name:"start"}),w("div",{class:"item-inner"},w("div",{class:"input-wrapper"},w("slot",null)),w("slot",{name:"end"}),x&&w("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===EE}),w("div",{class:"item-inner-highlight"})),v&&g==="md"&&w("ion-ripple-effect",null),w("div",{class:"item-highlight"})),w("div",{class:"item-bottom"},w("slot",{name:"error"}),w("slot",{name:"helper"}),e&&w("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:iB,md:rB}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);function k$(){if(typeof customElements>"u")return;["ion-item","ion-icon","ion-note","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-item":customElements.get(e)||customElements.define(e,x$);break;case"ion-icon":customElements.get(e)||ta();break;case"ion-note":customElements.get(e)||Om();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oB=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",sB='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',aB=be(class extends ve{constructor(){super(),this.__registerHost(),this.ionColor=U(this,"ionColor",7),this.ionStyle=U(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,[`ion-color-${e}`]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,[`label-${n}`]:n!==void 0})}render(){const e=this.position,n=X(this);return w(ue,{class:vt(this.color,{[n]:!0,"in-item-color":ft("ion-item.ion-color",this.el),[`label-${e}`]:e!==void 0,["label-no-animate"]:this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:oB,md:sB}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function sx(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,aB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nm={getEngine(){var t;const e=window;return e.TapticEngine||((t=e.Capacitor)===null||t===void 0?void 0:t.isPluginAvailable("Haptics"))&&e.Capacitor.Plugins.Haptics},available(){var t;const e=window;return this.getEngine()?((t=e.Capacitor)===null||t===void 0?void 0:t.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0:!1},isCordova(){return!!window.TapticEngine},isCapacitor(){return!!window.Capacitor},impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},ax=()=>Nm.available(),lB=()=>{ax()&&Nm.selectionStart()},cB=()=>{ax()&&Nm.selectionChanged()},uB=()=>{ax()&&Nm.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dB=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};const{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},_$=(t,e,n)=>{const i=e.getBoundingClientRect(),r=i.height;let o=i.width;return t==="cover"&&n&&(o=n.getBoundingClientRect().width),{contentWidth:o,contentHeight:r}},hB=(t,e,n,i)=>{let r=[];const s=Fi(i).querySelector(".popover-content");switch(e){case"hover":r=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:r=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return r.forEach(({eventName:a,callback:l})=>s.addEventListener(a,l)),()=>{r.forEach(({eventName:a,callback:l})=>s.removeEventListener(a,l))}},fB=(t,e,n)=>{let i=[];switch(e){case"hover":let r;i=[{eventName:"mouseenter",callback:async o=>{o.stopPropagation(),r&&clearTimeout(r),r=setTimeout(()=>{Rt(()=>{n.presentFromTrigger(o),r=void 0})},100)}},{eventName:"mouseleave",callback:o=>{r&&clearTimeout(r);const s=o.relatedTarget;s&&s.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"context-menu":i=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),n.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"click":default:i=[{eventName:"click",callback:o=>n.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break}return i.forEach(({eventName:r,callback:o})=>t.addEventListener(r,o)),t.setAttribute("data-ion-popover-trigger","true"),()=>{i.forEach(({eventName:r,callback:o})=>t.removeEventListener(r,o)),t.removeAttribute("data-ion-popover-trigger")}},E$=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),pB=(t,e)=>{const n=E$(t,e);return t[n+1]},mB=(t,e)=>{const n=E$(t,e);return t[n-1]},Vh=t=>{const n=Fi(t).querySelector("button");n&&Rt(()=>n.focus())},gB=t=>t.hasAttribute("data-ion-popover-trigger"),bB=t=>{const e=async n=>{var i;const r=document.activeElement;let o=[];const s=(i=n.target)===null||i===void 0?void 0:i.tagName;if(!(s!=="ION-POPOVER"&&s!=="ION-ITEM")){try{o=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(a){}switch(n.key){case"ArrowLeft":await t.getParentPopover()&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();const l=pB(o,r);l!==void 0&&Vh(l);break;case"ArrowUp":n.preventDefault();const c=mB(o,r);c!==void 0&&Vh(c);break;case"Home":n.preventDefault();const u=o[0];u!==void 0&&Vh(u);break;case"End":n.preventDefault();const d=o[o.length-1];d!==void 0&&Vh(d);break;case"ArrowRight":case" ":case"Enter":if(r&&gB(r)){const h=new CustomEvent("ionPopoverActivateTrigger");r.dispatchEvent(h)}break}}};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},C$=(t,e,n,i,r,o,s,a,l,c,u)=>{var d;let h={top:0,left:0,width:0,height:0};switch(o){case"event":if(!u)return l;const $=u;h={top:$.clientY,left:$.clientX,width:1,height:1};break;case"trigger":default:const _=u,x=c||((d=_==null?void 0:_.detail)===null||d===void 0?void 0:d.ionShadowTarget)||(_==null?void 0:_.target);if(!x)return l;const S=x.getBoundingClientRect();h={top:S.top,left:S.left,width:S.width,height:S.height};break}const f=wB(s,h,e,n,i,r,t),p=xB(a,s,h,e,n),m=f.top+p.top,y=f.left+p.left,{arrowTop:g,arrowLeft:b}=yB(s,i,r,m,y,e,n,t),{originX:v,originY:k}=vB(s,a,t);return{top:m,left:y,referenceCoordinates:h,arrowTop:g,arrowLeft:b,originX:v,originY:k}},vB=(t,e,n)=>{switch(t){case"top":return{originX:TE(e),originY:"bottom"};case"bottom":return{originX:TE(e),originY:"top"};case"left":return{originX:"right",originY:jh(e)};case"right":return{originX:"left",originY:jh(e)};case"start":return{originX:n?"left":"right",originY:jh(e)};case"end":return{originX:n?"right":"left",originY:jh(e)}}},TE=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},jh=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},yB=(t,e,n,i,r,o,s,a)=>{const l={arrowTop:i+s/2-e/2,arrowLeft:r+o-e/2},c={arrowTop:i+s/2-e/2,arrowLeft:r-e*1.5};switch(t){case"top":return{arrowTop:i+s,arrowLeft:r+o/2-e/2};case"bottom":return{arrowTop:i-n,arrowLeft:r+o/2-e/2};case"left":return l;case"right":return c;case"start":return a?c:l;case"end":return a?l:c;default:return{arrowTop:0,arrowLeft:0}}},wB=(t,e,n,i,r,o,s)=>{const a={top:e.top,left:e.left-n-r},l={top:e.top,left:e.left+e.width+r};switch(t){case"top":return{top:e.top-i-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},xB=(t,e,n,i,r)=>{switch(t){case"center":return _B(e,n,i,r);case"end":return kB(e,n,i,r);case"start":default:return{top:0,left:0}}},kB=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},_B=(t,e,n,i)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},S$=(t,e,n,i,r,o,s,a,l,c,u,d,h=0,f=0,p=0)=>{let m=h;const y=f;let g=n,b=e,v,k=c,$=u,_=!1,x=!1;const S=d?d.top+d.height:o/2-a/2,G=d?d.height:0;let M=!1;return g<i+l?(g=i,_=!0,k="left"):s+i+g+l>r&&(x=!0,g=r-s-i,k="right"),S+G+a>o&&(t==="top"||t==="bottom")&&(S-a>0?(b=Math.max(12,S-a-G-(p-1)),m=b+a,$="bottom",M=!0):v=i),{top:b,left:g,bottom:v,originX:k,originY:$,checkSafeAreaLeft:_,checkSafeAreaRight:x,arrowTop:m,arrowLeft:y,addPopoverBottomClass:M}},EB=(t,e=!1,n,i)=>!(!n&&!i||t!=="top"&&t!=="bottom"&&e),CB=5,SB=(t,e)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Fi(t),p=f.querySelector(".popover-content"),m=f.querySelector(".popover-arrow"),y=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:g,contentHeight:b}=_$(r,p,y),{arrowWidth:v,arrowHeight:k}=dB(m),$={top:h/2-b/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},_=C$(u,g,b,v,k,s,a,l,$,o,i),x=r==="cover"?0:CB,S=r==="cover"?0:25,{originX:G,originY:M,top:L,left:Q,bottom:Oe,checkSafeAreaLeft:Ae,checkSafeAreaRight:Ne,arrowTop:Ee,arrowLeft:ze,addPopoverBottomClass:F}=S$(a,_.top,_.left,x,d,h,g,b,S,_.originX,_.originY,_.referenceCoordinates,_.arrowTop,_.arrowLeft,k),N=Z(),D=Z(),V=Z();return D.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),V.addElement(f.querySelector(".popover-arrow")).addElement(f.querySelector(".popover-content")).fromTo("opacity",.01,1),N.easing("ease").duration(100).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width",`${g}px`),F&&t.classList.add("popover-bottom"),Oe!==void 0&&p.style.setProperty("bottom",`${Oe}px`);const W=" + var(--ion-safe-area-left, 0)",ie=" - var(--ion-safe-area-right, 0)";let ce=`${Q}px`;if(Ae&&(ce=`${Q}px${W}`),Ne&&(ce=`${Q}px${ie}`),p.style.setProperty("top",`calc(${L}px + var(--offset-y, 0))`),p.style.setProperty("left",`calc(${ce} + var(--offset-x, 0))`),p.style.setProperty("transform-origin",`${M} ${G}`),m!==null){const se=_.top!==L||_.left!==Q;EB(a,se,i,o)?(m.style.setProperty("top",`calc(${Ee}px + var(--offset-y, 0))`),m.style.setProperty("left",`calc(${ze}px + var(--offset-x, 0))`)):m.style.setProperty("display","none")}}).addAnimation([D,V])},IB=t=>{const e=Fi(t),n=e.querySelector(".popover-content"),i=e.querySelector(".popover-arrow"),r=Z(),o=Z(),s=Z();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),i&&(i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("display"))}).duration(300).addAnimation([o,s])},TB=12,AB=(t,e)=>{var n;const{event:i,size:r,trigger:o,reference:s,side:a,align:l}=e,c=t.ownerDocument,u=c.dir==="rtl",d=c.defaultView.innerWidth,h=c.defaultView.innerHeight,f=Fi(t),p=f.querySelector(".popover-content"),m=o||((n=i==null?void 0:i.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(i==null?void 0:i.target),{contentWidth:y,contentHeight:g}=_$(r,p,m),b={top:h/2-g/2,left:d/2-y/2,originX:u?"right":"left",originY:"top"},v=C$(u,y,g,0,0,s,a,l,b,o,i),k=r==="cover"?0:TB,{originX:$,originY:_,top:x,left:S,bottom:G}=S$(a,v.top,v.left,k,d,h,y,g,0,v.originX,v.originY,v.referenceCoordinates),M=Z(),L=Z(),Q=Z(),Oe=Z(),Ae=Z();return L.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Q.addElement(f.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),Oe.addElement(p).beforeStyles({top:`calc(${x}px + var(--offset-y, 0px))`,left:`calc(${S}px + var(--offset-x, 0px))`,"transform-origin":`${_} ${$}`}).beforeAddWrite(()=>{G!==void 0&&p.style.setProperty("bottom",`${G}px`)}).fromTo("transform","scale(0.8)","scale(1)"),Ae.addElement(f.querySelector(".popover-viewport")).fromTo("opacity",.01,1),M.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{r==="cover"&&t.style.setProperty("--width",`${y}px`),_==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([L,Q,Oe,Ae])},$B=t=>{const e=Fi(t),n=e.querySelector(".popover-content"),i=Z(),r=Z(),o=Z();return r.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([r,o])},DB=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start):dir(rtl){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end):dir(rtl){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}@supports (inset-inline-start: 0){.popover-arrow::after{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.popover-arrow::after{left:3px}:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}[dir=rtl] .popover-arrow::after{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.popover-arrow::after:dir(rtl){left:unset;right:unset;right:3px}}}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start) .popover-arrow:dir(rtl){-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end) .popover-arrow:dir(rtl){-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',RB=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start):dir(rtl){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end):dir(rtl){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",PB=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=U(this,"ionPopoverDidPresent",7),this.willPresent=U(this,"ionPopoverWillPresent",7),this.willDismiss=U(this,"ionPopoverWillDismiss",7),this.didDismiss=U(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.ionMount=U(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=d$(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ns)},this.onLifecycle=e=>{const n=this.usersElement,i=OB[e.type];if(n&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(r)}},this.configureTriggerInteraction=()=>{const{trigger:e,triggerAction:n,el:i,destroyTriggerInteraction:r}=this;if(r&&r(),e===void 0)return;const o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){kt(`A trigger element with the ID "${e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el);return}this.destroyTriggerInteraction=fB(o,n,i)},this.configureKeyboardInteraction=()=>{const{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=bB(n)},this.configureDismissInteraction=()=>{const{destroyDismissInteraction:e,parentPopover:n,triggerAction:i,triggerEl:r,el:o}=this;!n||!r||(e&&e(),this.destroyDismissInteraction=hB(r,i,o,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){const{configureTriggerInteraction:e,el:n}=this;$d(n),e()}disconnectedCallback(){const{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){const{el:e}=this,n=Dd(e);this.parentPopover=e.closest(`ion-popover:not(#${n})`),this.alignment===void 0&&(this.alignment=X(this)==="ios"?"center":"start")}componentDidLoad(){const{parentPopover:e,isOpen:n}=this;n===!0&&Rt(()=>this.present()),e&&Jw(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)})}async presentFromTrigger(e,n=!1){this.focusDescendantOnPresent=n,await this.present(e),this.focusDescendantOnPresent=!1}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const n=this.el.parentNode,i=this.inline=n!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async present(e){if(this.presented)return;this.currentTransition!==void 0&&await this.currentTransition;const{el:n}=this,{inline:i,delegate:r}=this.getDelegate(!0);this.usersElement=await rx(r,n,this.component,["popover-viewport"],this.componentProps,i),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),this.ionMount.emit(),jA(n)?await hp(this.usersElement):this.keepContentsMounted||await n5(),this.currentTransition=Rd(this,"popoverEnter",SB,AB,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),await this.currentTransition,this.currentTransition=void 0,this.focusDescendantOnPresent&&Py(this.el,this.el)}async dismiss(e,n,i=!0){this.currentTransition!==void 0&&await this.currentTransition;const{destroyKeyboardInteraction:r,destroyDismissInteraction:o}=this;i&&this.parentPopover&&this.parentPopover.dismiss(e,n,i),this.currentTransition=Pd(this,e,n,"popoverLeave",IB,$B,this.event);const s=await this.currentTransition;if(s){r&&(r(),this.destroyKeyboardInteraction=void 0),o&&(o(),this.destroyDismissInteraction=void 0);const{delegate:a}=this.getDelegate();await u$(a,this.usersElement)}return this.currentTransition=void 0,s}async getParentPopover(){return this.parentPopover}onDidDismiss(){return rr(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return rr(this.el,"ionPopoverWillDismiss")}render(){const e=X(this),{onLifecycle:n,parentPopover:i,dismissOnSelect:r,side:o,arrow:s,htmlAttributes:a}=this,l=vr("desktop"),c=s&&!i;return w(ue,Object.assign({"aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},Dn(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":l,[`popover-side-${o}`]:!0,"popover-nested":!!i}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!i&&w("ion-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),w("div",{class:"popover-wrapper ion-overlay-wrapper",onClick:r?()=>this.dismiss():void 0},c&&w("div",{class:"popover-arrow",part:"arrow"}),w("div",{class:"popover-content",part:"content"},w("slot",null))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:DB,md:RB}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]}]),OB={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function NB(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,PB);break;case"ion-backdrop":customElements.get(e)||Od();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LB="ION-CONTENT",I$="ion-content",T$=".ion-content-scroll-host",A$=`${I$}, ${T$}`,lx=t=>t.tagName===LB,Oy=async t=>lx(t)?(await new Promise(e=>Ps(t,e)),t.getScrollElement()):t,Ny=t=>{const e=t.querySelector(T$);return e||t.querySelector(A$)},Bie=t=>t.closest(A$),Uie=(t,e)=>lx(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),Vie=(t,e,n,i)=>lx(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),Ly=t=>V5(t,I$);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var My;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(My||(My={}));const MB={getEngine(){var t;return((t=Ze==null?void 0:Ze.Capacitor)===null||t===void 0?void 0:t.isPluginAvailable("Keyboard"))&&(Ze==null?void 0:Ze.Capacitor.Plugins.Keyboard)},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!=="UNIMPLEMENTED")throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $$=t=>{if(Ob===void 0||t===My.None||t===void 0)return null;const e=Ob.querySelector("ion-app");return e!=null?e:Ob.body},AE=t=>{const e=$$(t);return e===null?0:e.clientHeight},D$=async t=>{let e,n,i,r;const o=async()=>{const u=await MB.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=AE(d)),i=!0,s(i,d)},n=()=>{i=!1,s(i,d)},Ze==null||Ze.addEventListener("keyboardWillShow",e),Ze==null||Ze.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===AE(u))return;const d=$$(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===r&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{Ze==null||Ze.removeEventListener("keyboardWillShow",e),Ze==null||Ze.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $E=(t,e)=>{Rs(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,r=10,o=i-r,s=n-o,a=Zw(0,1-s/r,1);Di(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},FB="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",zB="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",BB=be(class extends ve{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(X(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=r?Ny(r):null;if(!o){Ly(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await Oy(e);this.contentScrollCallback=()=>{$E(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),$E(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await D$(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=X(this),r=this.el.closest("ion-tabs"),o=r==null?void 0:r.querySelector(":scope > ion-tab-bar");return w(ue,{role:"contentinfo",class:{[i]:!0,[`footer-${i}`]:!0,["footer-translucent"]:e,[`footer-translucent-${i}`]:e,["footer-toolbar-padding"]:!this.keyboardVisible&&(!o||o.slot!=="bottom"),[`footer-collapse-${n}`]:n!==void 0}},i==="ios"&&e&&w("div",{class:"footer-background"}),w("slot",null))}get el(){return this}static get style(){return{ios:FB,md:zB}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function UB(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,BB);break}})}const VB=UB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jB="all 0.2s ease-in-out",DE=t=>{const e=document.querySelector(`${t}.ion-cloned-element`);if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},RE=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},HB=(t,e,n)=>{Rs(()=>{const i=t.scrollTop,r=Zw(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Di(()=>{GB(e.toolbars,r)})})},cx=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},qB=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;cx(e.el,i===1?void 0:i)},WB=(t,e,n,i)=>{Di(()=>{const r=i.scrollTop;qB(t,e,r);const o=t[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,c=a===0&&l===0,u=Math.abs(s.left-o.boundingClientRect.left),d=Math.abs(s.right-o.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(Wc(e,!1),Wc(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&r>0&&(Wc(e),Wc(n,!1),cx(e.el)))})},Wc=(t,e=!0)=>{const n=t.el;e?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},GB=(t=[],e=1,n=!1)=>{t.forEach(i=>{const r=i.ionTitleEl,o=i.innerTitleEl;!r||r.size!=="large"||(o.style.transition=n?jB:"",o.style.transform=`scale3d(${e}, ${e}, 1)`)})},PE=(t,e,n)=>{Rs(()=>{const i=t.scrollTop,r=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&i<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path",`inset(${r}px 0px 0px 0px)`);return}const s=i-o,l=Zw(0,s/10,1);Di(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},KB="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",YB="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",QB=be(class extends ve{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await Oy(e);this.contentScrollCallback=()=>{PE(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),PE(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Ql(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(X(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",r=n==="fade";if(this.destroyCollapsibleHeader(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Ny(o):null;Di(()=>{const a=DE("ion-title");a.size="large",DE("ion-back-button")}),await this.setupCondenseHeader(s,o)}else if(r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Ny(o):null;if(!s){Ly(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){Ly(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Oy(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=RE(this.collapsibleMainHeader),o=RE(this.el);if(!r||!o)return;Wc(r,!1),cx(r.el,0);const s=a=>{WB(a,r,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{HB(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Di(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=X(this),r=this.collapse||"none",o=ft("ion-menu",this.el)?"none":"banner";return w(ue,Object.assign({role:o,class:{[i]:!0,[`header-${i}`]:!0,["header-translucent"]:this.translucent,[`header-collapse-${r}`]:!0,[`header-translucent-${i}`]:this.translucent}},n),i==="ios"&&e&&w("div",{class:"header-background"}),w("slot",null))}get el(){return this}static get style(){return{ios:KB,md:YB}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function XB(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,QB);break}})}const JB=XB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ZB={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i=`${t*e/n-t}ms`,r=2*Math.PI*e/n;return{r:5,style:{top:`${32*Math.sin(r)}%`,left:`${32*Math.cos(r)}%`,"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,r=`${t*i-t}ms`,o=2*Math.PI*i;return{r:5,style:{top:`${32*Math.sin(o)}%`,left:`${32*Math.cos(o)}%`,"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>{const n=-(110*e)+"ms";return{r:6,style:{left:`${32-32*e}%`,"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:(t,e,n)=>{const i=`rotate(${360/n*e+(e<n/2?180:-180)}deg)`,r=`${t*e/n-t}ms`;return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(t,e,n)=>{const i=`rotate(${360/n*e+(e<n/2?180:-180)}deg)`,r=`${t*e/n-t}ms`;return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(t,e,n)=>{const i=`rotate(${30*e+(e<6?180:-180)}deg)`,r=`${t*e/n-t}ms`;return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,e,n)=>{const i=`rotate(${30*e+(e<6?180:-180)}deg)`,r=`${t*e/n-t}ms`;return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},OE=ZB,eU=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",tU=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||de.get("spinner"),n=X(this);return e||(n==="ios"?"lines":"circular")}render(){var e;const n=this,i=X(n),r=n.getName(),o=(e=OE[r])!==null&&e!==void 0?e:OE.lines,s=typeof n.duration=="number"&&n.duration>10?n.duration:o.dur,a=[];if(o.circles!==void 0)for(let l=0;l<o.circles;l++)a.push(nU(o,s,l,o.circles));else if(o.lines!==void 0)for(let l=0;l<o.lines;l++)a.push(iU(o,s,l,o.lines));return w(ue,{class:vt(n.color,{[i]:!0,[`spinner-${r}`]:!0,"spinner-paused":n.paused||de.getBoolean("_testing")}),role:"progressbar",style:o.elmDuration?{animationDuration:s+"ms"}:{}},a)}static get style(){return eU}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),nU=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",w("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},w("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:t.elmDuration?{animationDuration:e+"ms"}:{}}))},iU=(t,e,n,i)=>{const r=t.fn(e,n,i);return r.style["animation-duration"]=e+"ms",w("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},w("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function R$(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,tU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const P$=(t,e,n)=>{let i;const r=()=>!(e()===void 0||t.label!==void 0||n()===null),o=()=>{r()&&Rt(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&Ze!==void 0&&"IntersectionObserver"in Ze){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(s(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width",`${c*.75}px`)};return{calculateNotchWidth:o,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rU=(t,e,n)=>{let i,r;Ze!==void 0&&"MutationObserver"in Ze&&(i=new MutationObserver(l=>{for(const c of l)for(const u of c.addedNodes)if(u.nodeType===Node.ELEMENT_NODE&&u.slot===e){n(),Rt(()=>o(u));return}}),i.observe(t,{childList:!0}));const o=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:s}},oU=(t,e,n)=>{const i=t==null?0:t.toString().length,r=sU(i,e);if(n===void 0)return r;try{return n(i,e)}catch(o){return h$("Exception in provided `counterFormatter`.",o),r}},sU=(t,e)=>`${t} / ${e}`;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aU=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",lU=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative;z-index:1}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}",cU=be(class extends ve{constructor(){super(),this.__registerHost(),this.ionInput=U(this,"ionInput",7),this.ionChange=U(this,"ionChange",7),this.ionBlur=U(this,"ionBlur",7),this.ionFocus=U(this,"ionFocus",7),this.ionStyle=U(this,"ionStyle",7),this.inputId=`ion-input-${uU++}`,this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:L6(e,n)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Ql(this.el)),Td(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=Pm(e),this.slotMutationController=rU(e,"label",()=>xo(this)),this.notchController=P$(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&e.key!=="Enter"&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n}=this;return[w("div",{class:"helper-text"},e),w("div",{class:"error-text"},n)]}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return w("div",{class:"counter"},oU(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return w("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return w("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?w("slot",{name:"label"}):w("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return X(this)==="md"&&this.fill==="outline"?[w("div",{class:"input-outline-container"},w("div",{class:"input-outline-start"}),w("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},w("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),w("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:n,readonly:i,shape:r,inputId:o,labelPlacement:s}=this,a=X(this),l=this.getValue(),c=ft("ion-item",this.el),u=a==="md"&&n!=="outline"&&!c;return w(ue,{class:vt(this.color,{[a]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,[`input-fill-${n}`]:n!==void 0,[`input-shape-${r}`]:r!==void 0,[`input-label-placement-${s}`]:!0,"in-item":c,"in-item-color":ft("ion-item.ion-color",this.el),"input-disabled":e})},w("label",{class:"input-wrapper"},this.renderLabelContainer(),w("div",{class:"native-wrapper"},w("input",Object.assign({class:"native-input",ref:d=>this.nativeInput=d,id:o,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:l,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&w("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:d=>{d.preventDefault()},onClick:this.clearTextInput},w("ion-icon",{"aria-hidden":"true",icon:a==="ios"?CE:SE}))),u&&w("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(kt(`ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.

Example: <ion-input label="Email"></ion-input>
Example with aria-label: <ion-input aria-label="Email"></ion-input>

For inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".

Developers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.`,this.el),this.legacy&&kt(`ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.

Developers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.`,this.el),this.hasLoggedDeprecationWarning=!0);const e=X(this),n=this.getValue(),i=this.inputId+"-lbl",r=Am(this.el);return r&&(r.id=i),w(ue,{"aria-disabled":this.disabled?"true":null,class:vt(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":ft("ion-item.ion-color",this.el)})},w("input",Object.assign({class:"native-input",ref:o=>this.nativeInput=o,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:n,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&w("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:o=>{o.preventDefault()},onClick:this.clearTextInput},w("ion-icon",{"aria-hidden":"true",icon:e==="ios"?CE:SE})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:aU,md:lU}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);let uU=0;function dU(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,cU);break;case"ion-icon":customElements.get(e)||ta();break}})}const hU=dU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fU=(t,e,n)=>{if(typeof MutationObserver>"u")return;const i=new MutationObserver(r=>{n(pU(r,e))});return i.observe(t,{childList:!0,subtree:!0}),i},pU=(t,e)=>{let n;return t.forEach(i=>{for(let r=0;r<i.addedNodes.length;r++)n=mU(i.addedNodes[r],e)||n}),n},mU=(t,e)=>t.nodeType!==1?void 0:(t.tagName===e.toUpperCase()?[t]:Array.from(t.querySelectorAll(e))).find(i=>i.value===t.value);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gU=sx;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bU="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",vU="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",yU=be(class extends ve{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=X(this),{lines:n,inset:i}=this;return w(ue,{role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":i,[`list-lines-${n}`]:n!==void 0,[`list-${e}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:bU,md:vU}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function O$(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,yU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wU=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, #262626);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));-webkit-padding-start:calc(var(--ion-safe-area-left, 0px) + 16px);padding-inline-start:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:22px;font-weight:700;letter-spacing:0}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",xU=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));-webkit-padding-start:calc(var(--ion-safe-area-left, 0) + 16px);padding-inline-start:calc(var(--ion-safe-area-left, 0) + 16px);min-height:45px;font-size:14px}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",kU=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=X(this);return w(ue,{class:vt(this.color,{[n]:!0,[`list-header-lines-${e}`]:e!==void 0})},w("div",{class:"list-header-inner"},w("slot",null)))}static get style(){return{ios:wU,md:xU}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function N$(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,kU);break}})}const L$=1,M$=2,mp=3;class Fy{constructor(e,n){this.component=e,this.params=n,this.state=L$}async init(e){if(this.state=M$,!this.element){const n=this.component;this.element=await rx(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){wn(this.state!==mp,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=mp}}const NE=(t,e,n)=>!t||t.component!==e?!1:GA(t.params,n),LE=(t,e)=>t?t instanceof Fy?t:new Fy(t,e):null,_U=t=>t.map(e=>e instanceof Fy?e:"component"in e?LE(e.component,e.componentProps===null?void 0:e.componentProps):LE(e,void 0)).filter(e=>e!==null),EU=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",CU=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=U(this,"ionNavWillLoad",7),this.ionNavWillChange=U(this,"ionNavWillChange",3),this.ionNavDidChange=U(this,"ionNavDidChange",3),this.transInstr=[],this.animationEnabled=!0,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=X(this);this.swipeGesture=de.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await pn(()=>import("./swipe-back-90370216.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)mr(e.element,Lb),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,o){return this.insertPages(e,[{component:n,componentProps:i}],r,o)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const o=this.getActiveSync();if(NE(o,e,n))return Promise.resolve({changed:!1,element:o.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>NE(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const o=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===L$&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;r?o=await this.transition(i,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){wn(e.removeStart!==void 0,"removeView needs removeStart"),wn(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const s=e.insertViews;if(!s)return;wn(s.length>0,"length can not be zero");const a=_U(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===mp)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const o=this.views,s=r+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<r||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var r,o,s;wn(n||e,"Both leavingView and enteringView are null"),wn(i.resolve,"resolve must be valid"),wn(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){wn(c>=0,"removeStart can not be negative"),wn(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==n&&d.push(p)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(wn(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=i.insertStart;for(const p of l)this.insertViewAt(p,f),f++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)mr(f.element,KA),mr(f.element,YA),mr(f.element,Lb);for(const f of d)this.destroyView(f)}}async transition(e,n,i){const r=i.opts,o=r.progressAnimation?d=>this.sbAni=d:void 0,s=X(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&de.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||de.get("navAnimation")}),{hasCompleted:u}=await QA(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const o=e?n:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(wn(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(wn(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){wn(e.state===M$||e.state===mp,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);wn(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const o=n[r],s=o.element;s&&(r>i?(mr(s,Lb),this.destroyView(o)):r<i&&Ty(s,!0))}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.animationEnabled&&this.canGoBackSync()}onStart(){this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish(()=>{this.animationEnabled=!0},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=fp([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=fp([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}}render(){return w("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return EU}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);function SU(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,CU);break}})}const IU=SU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TU=Om;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AU=':host{--inner-border-radius:50%;display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;min-height:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(:not(.legacy-radio)){cursor:pointer}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}:host(.legacy-radio) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-radio) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-radio) label{left:0}:host-context([dir=rtl]):host(.legacy-radio) label,:host-context([dir=rtl]).legacy-radio label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-radio) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-radio) label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item:not(.legacy-radio)){width:100%;height:100%}:host([slot=start]:not(.legacy-radio)),:host([slot=end]:not(.legacy-radio)){width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host{--color-checked:var(--ion-color-primary, #3880ff)}:host(.legacy-radio){width:15px;height:24px}:host(.ion-color.radio-checked) .radio-inner{border-color:var(--ion-color-base)}.item-radio.item-ios ion-label{-webkit-margin-start:0;margin-inline-start:0}.radio-inner{width:33%;height:50%}:host(.radio-checked) .radio-inner{-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--color-checked)}:host(.radio-disabled){opacity:0.3}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);top:-8px;display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #4c8dff);content:"";opacity:0.2}@supports (inset-inline-start: 0){:host(.ion-focused) .radio-icon::after{inset-inline-start:-9px}}@supports not (inset-inline-start: 0){:host(.ion-focused) .radio-icon::after{left:-9px}:host-context([dir=rtl]):host(.ion-focused) .radio-icon::after,:host-context([dir=rtl]).ion-focused .radio-icon::after{left:unset;right:unset;right:-9px}@supports selector(:dir(rtl)){:host(.ion-focused) .radio-icon::after:dir(rtl){left:unset;right:unset;right:-9px}}}:host(.in-item.legacy-radio){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:11px;margin-inline-end:11px;margin-top:8px;margin-bottom:8px;display:block;position:static}:host(.in-item.legacy-radio[slot=start]){-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:21px;margin-inline-end:21px;margin-top:8px;margin-bottom:8px}.native-wrapper .radio-icon{width:15px;height:24px}',$U=':host{--inner-border-radius:50%;display:inline-block;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;min-height:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(:not(.legacy-radio)){cursor:pointer}:host(.radio-disabled){pointer-events:none}.radio-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;contain:layout size style}.radio-icon,.radio-inner{-webkit-box-sizing:border-box;box-sizing:border-box}:host(.legacy-radio) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-radio) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-radio) label{left:0}:host-context([dir=rtl]):host(.legacy-radio) label,:host-context([dir=rtl]).legacy-radio label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-radio) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-radio) label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host(:focus){outline:none}:host(.in-item:not(.legacy-radio)){width:100%;height:100%}:host([slot=start]:not(.legacy-radio)),:host([slot=end]:not(.legacy-radio)){width:auto}.radio-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;cursor:inherit}.label-text-wrapper{pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host(.radio-justify-space-between) .radio-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.radio-justify-start) .radio-wrapper{-ms-flex-pack:start;justify-content:start}:host(.radio-justify-end) .radio-wrapper{-ms-flex-pack:end;justify-content:end}:host(.radio-label-placement-start) .radio-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.radio-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.radio-label-placement-end) .radio-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.radio-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.radio-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px}:host{--color:rgb(var(--ion-text-color-rgb, 0, 0, 0), 0.6);--color-checked:var(--ion-color-primary, #3880ff);--border-width:2px;--border-style:solid;--border-radius:50%}:host(.legacy-radio){width:20px;height:20px}:host(.ion-color) .radio-inner{background:var(--ion-color-base)}:host(.ion-color.radio-checked) .radio-icon{border-color:var(--ion-color-base)}.radio-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:var(--border-radius);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--color)}.radio-inner{border-radius:var(--inner-border-radius);width:calc(50% + var(--border-width));height:calc(50% + var(--border-width));-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background:var(--color-checked)}:host(.radio-checked) .radio-icon{border-color:var(--color-checked)}:host(.radio-checked) .radio-inner{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}:host(.legacy-radio.radio-disabled),:host(.radio-disabled) .label-text-wrapper{opacity:0.38}:host(.radio-disabled) .native-wrapper{opacity:0.63}:host(.ion-focused.legacy-radio) .radio-icon::after{top:-12px}@supports (inset-inline-start: 0){:host(.ion-focused.legacy-radio) .radio-icon::after{inset-inline-start:-12px}}@supports not (inset-inline-start: 0){:host(.ion-focused.legacy-radio) .radio-icon::after{left:-12px}:host-context([dir=rtl]):host(.ion-focused.legacy-radio) .radio-icon::after,:host-context([dir=rtl]).ion-focused.legacy-radio .radio-icon::after{left:unset;right:unset;right:-12px}@supports selector(:dir(rtl)){:host(.ion-focused.legacy-radio) .radio-icon::after:dir(rtl){left:unset;right:unset;right:-12px}}}:host(.ion-focused) .radio-icon::after{border-radius:var(--inner-border-radius);display:block;position:absolute;width:36px;height:36px;background:var(--ion-color-primary-tint, #4c8dff);content:"";opacity:0.2}:host(.in-item.legacy-radio){margin-left:0;margin-right:0;margin-top:9px;margin-bottom:9px;display:block;position:static}:host(.in-item.legacy-radio[slot=start]){-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:36px;margin-inline-end:36px;margin-top:11px;margin-bottom:10px}.native-wrapper .radio-icon{width:20px;height:20px}',DU=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=U(this,"ionStyle",7),this.ionFocus=U(this,"ionFocus",7),this.ionBlur=U(this,"ionBlur",7),this.inputId=`ion-rb-${RU++}`,this.radioGroup=null,this.inheritedAttributes={},this.hasLoggedDeprecationWarning=!1,this.updateState=()=>{this.radioGroup&&(this.checked=this.radioGroup.value===this.value)},this.onClick=()=>{this.checked=this.nativeInput.checked},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.checked=!1,this.buttonTabindex=-1,this.color=void 0,this.name=this.inputId,this.disabled=!1,this.value=void 0,this.labelPlacement="start",this.legacy=void 0,this.justify="space-between"}valueChanged(){this.updateState()}async setFocus(e){e.stopPropagation(),e.preventDefault(),(this.legacyFormController.hasLegacyControl()?this.el:this.nativeInput).focus()}async setButtonTabindex(e){this.buttonTabindex=e}connectedCallback(){this.legacyFormController=Pm(this.el),this.value===void 0&&(this.value=this.inputId);const e=this.radioGroup=this.el.closest("ion-radio-group");e&&(this.updateState(),Jw(e,"ionValueChange",this.updateState))}disconnectedCallback(){const e=this.radioGroup;e&&(HA(e,"ionValueChange",this.updateState),this.radioGroup=null)}componentWillLoad(){this.emitStyle(),this.legacyFormController.hasLegacyControl()||(this.inheritedAttributes=Object.assign({},Ql(this.el)))}styleChanged(){this.emitStyle()}emitStyle(){const e={"interactive-disabled":this.disabled};this.legacyFormController.hasLegacyControl()&&(e["radio-checked"]=this.checked),this.ionStyle.emit(e)}get hasLabel(){return this.el.textContent!==""}renderRadioControl(){return w("div",{class:"radio-icon",part:"container"},w("div",{class:"radio-inner",part:"mark"}),w("div",{class:"radio-ripple"}))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyRadio():this.renderRadio()}renderRadio(){const{checked:e,disabled:n,inputId:i,color:r,el:o,justify:s,labelPlacement:a,inheritedAttributes:l,hasLabel:c,buttonTabindex:u}=this,d=X(this),h=ft("ion-item",o);return w(ue,{onClick:this.onClick,class:vt(r,{[d]:!0,"in-item":h,"radio-checked":e,"radio-disabled":n,[`radio-justify-${s}`]:!0,[`radio-label-placement-${a}`]:!0,"ion-activatable":!h,"ion-focusable":!h})},w("label",{class:"radio-wrapper"},w("input",Object.assign({type:"radio",checked:e,disabled:n,id:i,tabindex:u,ref:f=>this.nativeInput=f},l)),w("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!c}},w("slot",null)),w("div",{class:"native-wrapper"},this.renderRadioControl())))}renderLegacyRadio(){this.hasLoggedDeprecationWarning||(kt(`ion-radio now requires providing a label with either the default slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.

Example: <ion-radio>Option Label</ion-radio>
Example with aria-label: <ion-radio aria-label="Option Label"></ion-radio>

Developers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.`,this.el),this.legacy&&kt(`ion-radio is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.

Developers can dismiss this warning by removing their usage of the "legacy" property and using the new radio syntax.`,this.el),this.hasLoggedDeprecationWarning=!0);const{inputId:e,disabled:n,checked:i,color:r,el:o,buttonTabindex:s}=this,a=X(this),{label:l,labelId:c,labelText:u}=dp(o,e);return w(ue,{"aria-checked":`${i}`,"aria-hidden":n?"true":null,"aria-labelledby":l?c:null,role:"radio",tabindex:s,onFocus:this.onFocus,onBlur:this.onBlur,onClick:this.onClick,class:vt(r,{[a]:!0,"in-item":ft("ion-item",o),interactive:!0,"radio-checked":i,"radio-disabled":n,"legacy-radio":!0})},this.renderRadioControl(),w("label",{htmlFor:e},u),w("input",{type:"radio",checked:i,disabled:n,tabindex:"-1",id:e,ref:d=>this.nativeInput=d}))}get el(){return this}static get watchers(){return{value:["valueChanged"],checked:["styleChanged"],color:["styleChanged"],disabled:["styleChanged"]}}static get style(){return{ios:AU,md:$U}}},[33,"ion-radio",{color:[513],name:[1],disabled:[4],value:[8],labelPlacement:[1,"label-placement"],legacy:[4],justify:[1],checked:[32],buttonTabindex:[32],setFocus:[64],setButtonTabindex:[64]}]);let RU=0;function F$(){if(typeof customElements>"u")return;["ion-radio"].forEach(e=>{switch(e){case"ion-radio":customElements.get(e)||customElements.define(e,DU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PU=be(class extends ve{constructor(){super(),this.__registerHost(),this.ionChange=U(this,"ionChange",7),this.ionValueChange=U(this,"ionValueChange",7),this.inputId=`ion-rg-${OU++}`,this.labelId=`${this.inputId}-lbl`,this.setRadioTabindex=e=>{const n=this.getRadios(),i=n.find(s=>!s.disabled),r=n.find(s=>s.value===e&&!s.disabled);if(!i&&!r)return;const o=r||i;for(const s of n){const a=s===o?0:-1;s.setButtonTabindex(a)}},this.onClick=e=>{e.preventDefault();const n=e.target&&e.target.closest("ion-radio");if(n){const i=this.value,r=n.value;r!==i?(this.value=r,this.emitValueChange(e)):this.allowEmptySelection&&(this.value=void 0,this.emitValueChange(e))}},this.allowEmptySelection=!1,this.name=this.inputId,this.value=void 0}valueChanged(e){this.setRadioTabindex(e),this.ionValueChange.emit({value:e})}componentDidLoad(){this.setRadioTabindex(this.value)}async connectedCallback(){const e=this.el.querySelector("ion-list-header")||this.el.querySelector("ion-item-divider");if(e){const n=this.label=e.querySelector("ion-label");n&&(this.labelId=n.id=this.name+"-lbl")}}getRadios(){return Array.from(this.el.querySelectorAll("ion-radio"))}emitValueChange(e){const{value:n}=this;this.ionChange.emit({value:n,event:e})}onKeydown(e){const n=!!this.el.closest("ion-select-popover");if(e.target&&!this.el.contains(e.target))return;const i=this.getRadios().filter(r=>!r.disabled);if(e.target&&i.includes(e.target)){const r=i.findIndex(a=>a===e.target),o=i[r];let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=r===i.length-1?i[0]:i[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=r===0?i[i.length-1]:i[r-1]),s&&i.includes(s)&&(s.setFocus(e),n||(this.value=s.value,this.emitValueChange(e))),[" "].includes(e.key)){const a=this.value;this.value=this.allowEmptySelection&&this.value!==void 0?void 0:o.value,(a!==this.value||this.allowEmptySelection)&&this.emitValueChange(e),e.preventDefault()}}}render(){const{label:e,labelId:n,el:i,name:r,value:o}=this,s=X(this);return Uu(!0,i,r,o,!1),w(ue,{role:"radiogroup","aria-labelledby":e?n:null,onClick:this.onClick,class:s})}get el(){return this}static get watchers(){return{value:["valueChanged"]}}},[0,"ion-radio-group",{allowEmptySelection:[4,"allow-empty-selection"],name:[1],value:[1032]},[[4,"keydown","onKeydown"]]]);let OU=0;function z$(){if(typeof customElements>"u")return;["ion-radio-group"].forEach(e=>{switch(e){case"ion-radio-group":customElements.get(e)||customElements.define(e,PU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B$=(t,e)=>{let n,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)){s();return}u!==n&&(s(),o(u,c))},o=(a,l)=>{n=a,i||(i=n);const c=n;Di(()=>c.classList.add("ion-activated")),l()},s=(a=!1)=>{if(!n)return;const l=n;Di(()=>l.classList.remove("ion-activated")),a&&i!==n&&n.click(),n=void 0};return m5({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,lB),onMove:a=>r(a.currentX,a.currentY,cB),onEnd:()=>{s(!0),uB(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},LU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},MU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,i])},FU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,i])},zU='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100vh}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-wrapper.sc-ion-action-sheet-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0)}.action-sheet-container.sc-ion-action-sheet-ios{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:0;padding-bottom:0}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:28px;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}',BU='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:auto;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100vh}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-wrapper.sc-ion-action-sheet-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:0}.action-sheet-title.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:var(--ion-safe-area-bottom)}.action-sheet-button.sc-ion-action-sheet-md{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}.action-sheet-icon.sc-ion-action-sheet-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}',UU=be(class extends ve{constructor(){super(),this.__registerHost(),this.didPresent=U(this,"ionActionSheetDidPresent",7),this.willPresent=U(this,"ionActionSheetWillPresent",7),this.willDismiss=U(this,"ionActionSheetWillDismiss",7),this.didDismiss=U(this,"ionActionSheetDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.delegateController=Dm(this),this.triggerController=Rm(),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ns)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(kl(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.buttons=[],this.cssClass=void 0,this.backdropDismiss=!0,this.header=void 0,this.subHeader=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=Rd(this,"actionSheetEnter",NU,MU),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,n){this.currentTransition=Pd(this,e,n,"actionSheetLeave",LU,FU);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return rr(this.el,"ionActionSheetDidDismiss")}onWillDismiss(){return rr(this.el,"ionActionSheetWillDismiss")}async buttonClick(e){const n=e.role;return kl(n)?this.dismiss(e.data,n):await this.callButtonHandler(e)?this.dismiss(e.data,e.role):Promise.resolve()}async callButtonHandler(e){return!(e&&await nl(e.handler)===!1)}getButtons(){return this.buttons.map(e=>typeof e=="string"?{text:e}:e)}connectedCallback(){$d(this.el),this.triggerChanged()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.triggerController.removeClickListener()}componentWillLoad(){Dd(this.el)}componentDidLoad(){const{groupEl:e,wrapperEl:n}=this;this.gesture||X(this)==="md"||!n||!e||Rs(()=>{e.scrollHeight>e.clientHeight||(this.gesture=B$(n,r=>r.classList.contains("action-sheet-button")),this.gesture.enable(!0))})}render(){const{header:e,htmlAttributes:n,overlayIndex:i}=this,r=X(this),o=this.getButtons(),s=o.find(c=>c.role==="cancel"),a=o.filter(c=>c.role!=="cancel"),l=`action-sheet-${i}-header`;return w(ue,Object.assign({role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?l:null,tabindex:"-1"},n,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({[r]:!0},Dn(this.cssClass)),{"overlay-hidden":!0,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),w("ion-backdrop",{tappable:this.backdropDismiss}),w("div",{tabindex:"0"}),w("div",{class:"action-sheet-wrapper ion-overlay-wrapper",ref:c=>this.wrapperEl=c},w("div",{class:"action-sheet-container"},w("div",{class:"action-sheet-group",ref:c=>this.groupEl=c},e!==void 0&&w("div",{id:l,class:{"action-sheet-title":!0,"action-sheet-has-sub-title":this.subHeader!==void 0}},e,this.subHeader&&w("div",{class:"action-sheet-sub-title"},this.subHeader)),a.map(c=>w("button",{type:"button",id:c.id,class:ME(c),onClick:()=>this.buttonClick(c)},w("span",{class:"action-sheet-button-inner"},c.icon&&w("ion-icon",{icon:c.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),c.text),r==="md"&&w("ion-ripple-effect",null)))),s&&w("div",{class:"action-sheet-group action-sheet-group-cancel"},w("button",{type:"button",class:ME(s),onClick:()=>this.buttonClick(s)},w("span",{class:"action-sheet-button-inner"},s.icon&&w("ion-icon",{icon:s.icon,"aria-hidden":"true",lazy:!1,class:"action-sheet-icon"}),s.text),r==="md"&&w("ion-ripple-effect",null))))),w("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:zU,md:BU}}},[34,"ion-action-sheet",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],buttons:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],header:[1],subHeader:[1,"sub-header"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),ME=t=>Object.assign({"action-sheet-button":!0,"ion-activatable":!0,"ion-focusable":!0,[`action-sheet-${t.role}`]:t.role!==void 0},Dn(t.cssClass));function VU(){if(typeof customElements>"u")return;["ion-action-sheet","ion-backdrop","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-action-sheet":customElements.get(e)||customElements.define(e,UU);break;case"ion-backdrop":customElements.get(e)||Od();break;case"ion-icon":customElements.get(e)||ta();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},HU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},qU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},WU=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(t).easing("ease-in-out").duration(150).addAnimation([n,i])},GU=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:7px}}}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:9px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:9px}}}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",KU=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}@supports (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-radio-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.alert-radio-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}@supports (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-checkbox-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}",YU=be(class extends ve{constructor(){super(),this.__registerHost(),this.didPresent=U(this,"ionAlertDidPresent",7),this.willPresent=U(this,"ionAlertWillPresent",7),this.willDismiss=U(this,"ionAlertWillDismiss",7),this.didDismiss=U(this,"ionAlertDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.delegateController=Dm(this),this.triggerController=Rm(),this.customHTMLEnabled=de.get("innerHTMLTemplatesEnabled",ix),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ns)},this.dispatchCancelHandler=e=>{const n=e.detail.role;if(kl(n)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}onKeydown(e){if(!new Set(this.processedInputs.map(a=>a.type)).has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),r=Array.from(i).filter(a=>!a.disabled),o=r.findIndex(a=>a.id===e.target.id);let s;if(["ArrowDown","ArrowRight"].includes(e.key)&&(s=o===r.length-1?r[0]:r[o+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(s=o===0?r[r.length-1]:r[o-1]),s&&r.includes(s)){const a=this.processedInputs.find(l=>l.id===(s==null?void 0:s.id));a&&(this.rbClick(a),s.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(n=>typeof n=="string"?{text:n,role:n.toLowerCase()==="cancel"?"cancel":void 0}:n)}inputsChanged(){const e=this.inputs,n=e.find(s=>!s.disabled),r=e.find(s=>s.checked&&!s.disabled)||n,o=new Set(e.map(s=>s.type));o.has("checkbox")&&o.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(o.values()).join("/")}. Please see alert docs for more info.`),this.inputType=o.values().next().value,this.processedInputs=e.map((s,a)=>{var l;return{type:s.type||"text",name:s.name||`${a}`,placeholder:s.placeholder||"",value:s.value,label:s.label,checked:!!s.checked,disabled:!!s.disabled,id:s.id||`alert-input-${this.overlayIndex}-${a}`,handler:s.handler,min:s.min,max:s.max,cssClass:(l=s.cssClass)!==null&&l!==void 0?l:"",attributes:s.attributes||{},tabindex:s.type==="radio"&&s!==r?-1:0}})}connectedCallback(){$d(this.el),this.triggerChanged()}componentWillLoad(){Dd(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){this.gesture||X(this)==="md"||!this.wrapperEl||(this.gesture=B$(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0))}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=Rd(this,"alertEnter",jU,qU),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,n){this.currentTransition=Pd(this,e,n,"alertLeave",HU,WU);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return rr(this.el,"ionAlertDidDismiss")}onWillDismiss(){return rr(this.el,"ionAlertWillDismiss")}rbClick(e){for(const n of this.processedInputs)n.checked=n===e,n.tabindex=n===e?0:-1;this.activeId=e.id,nl(e.handler,e),xo(this)}cbClick(e){e.checked=!e.checked,nl(e.handler,e),xo(this)}async buttonClick(e){const n=e.role,i=this.getValues();if(kl(n))return this.dismiss({values:i},n);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,n){if(e!=null&&e.handler){const i=await nl(e.handler,n);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const n=this.processedInputs.find(i=>!!i.checked);return n?n.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(n=>n.checked).map(n=>n.value);const e={};return this.processedInputs.forEach(n=>{e[n.name]=n.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,n=X(this);return e.length===0?null:w("div",{class:"alert-checkbox-group"},e.map(i=>w("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":`${i.checked}`,id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Dn(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},w("div",{class:"alert-button-inner"},w("div",{class:"alert-checkbox-icon"},w("div",{class:"alert-checkbox-inner"})),w("div",{class:"alert-checkbox-label"},i.label)),n==="md"&&w("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:w("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(n=>w("button",{type:"button",onClick:()=>this.rbClick(n),"aria-checked":`${n.checked}`,disabled:n.disabled,id:n.id,tabIndex:n.tabindex,class:Object.assign(Object.assign({},Dn(n.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":n.disabled||!1}),role:"radio"},w("div",{class:"alert-button-inner"},w("div",{class:"alert-radio-icon"},w("div",{class:"alert-radio-inner"})),w("div",{class:"alert-radio-label"},n.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:w("div",{class:"alert-input-group"},e.map(n=>{var i,r,o,s;return n.type==="textarea"?w("div",{class:"alert-input-wrapper"},w("textarea",Object.assign({placeholder:n.placeholder,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(r=(i=n.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:n.disabled,class:FE(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}}))):w("div",{class:"alert-input-wrapper"},w("input",Object.assign({placeholder:n.placeholder,type:n.type,min:n.min,max:n.max,value:n.value,id:n.id,tabIndex:n.tabindex},n.attributes,{disabled:(s=(o=n.attributes)===null||o===void 0?void 0:o.disabled)!==null&&s!==void 0?s:n.disabled,class:FE(n),onInput:a=>{var l;n.value=a.target.value,!((l=n.attributes)===null||l===void 0)&&l.onInput&&n.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,n=X(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return w("div",{class:i},e.map(r=>w("button",{type:"button",id:r.id,class:QU(r),tabIndex:0,onClick:()=>this.buttonClick(r)},w("span",{class:"alert-button-inner"},r.text),n==="md"&&w("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?w("div",{id:e,class:"alert-message",innerHTML:nx(i)}):w("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:n,subHeader:i,message:r,htmlAttributes:o}=this,s=X(this),a=`alert-${e}-hdr`,l=`alert-${e}-sub-hdr`,c=`alert-${e}-msg`,u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert";return w(ue,Object.assign({role:u,"aria-modal":"true","aria-labelledby":n?a:i?l:null,"aria-describedby":r!==void 0?c:null,tabindex:"-1"},o,{style:{zIndex:`${2e4+e}`},class:Object.assign(Object.assign({},Dn(this.cssClass)),{[s]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),w("ion-backdrop",{tappable:this.backdropDismiss}),w("div",{tabindex:"0"}),w("div",{class:"alert-wrapper ion-overlay-wrapper",ref:h=>this.wrapperEl=h},w("div",{class:"alert-head"},n&&w("h2",{id:a,class:"alert-title"},n),i&&w("h2",{id:l,class:"alert-sub-title"},i)),this.renderAlertMessage(c),this.renderAlertInputs(),this.renderAlertButtons()),w("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:GU,md:KU}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),FE=t=>{var e,n,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((n=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&n!==void 0?n:t.disabled)||!1},Dn(t.cssClass)),Dn(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))},QU=t=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${t.role}`]:t.role!==void 0},Dn(t.cssClass));function XU(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,YU);break;case"ion-backdrop":customElements.get(e)||Od();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JU=".sc-ion-select-popover-ios-h ion-list.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-ios,ion-label.sc-ion-select-popover-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",ZU=".sc-ion-select-popover-md-h ion-list.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list-header.sc-ion-select-popover-md,ion-label.sc-ion-select-popover-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}ion-list.sc-ion-select-popover-md ion-radio.sc-ion-select-popover-md{opacity:0}ion-item.sc-ion-select-popover-md{--inner-border-width:0}.item-radio-checked.sc-ion-select-popover-md{--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08);--background-focused:var(--ion-color-primary, #3880ff);--background-focused-opacity:0.2;--background-hover:var(--ion-color-primary, #3880ff);--background-hover-opacity:0.12}.item-checkbox-checked.sc-ion-select-popover-md{--background-activated:var(--ion-item-color, var(--ion-text-color, #000));--background-focused:var(--ion-item-color, var(--ion-text-color, #000));--background-hover:var(--ion-item-color, var(--ion-text-color, #000));--color:var(--ion-color-primary, #3880ff)}",eV=be(class extends ve{constructor(){super(),this.__registerHost(),this.header=void 0,this.subHeader=void 0,this.message=void 0,this.multiple=void 0,this.options=[]}findOptionFromEvent(e){const{options:n}=this;return n.find(i=>i.value===e.target.value)}callOptionHandler(e){const n=this.findOptionFromEvent(e),i=this.getValues(e);n!=null&&n.handler&&nl(n.handler,i)}dismissParentPopover(){const e=this.el.closest("ion-popover");e&&e.dismiss()}setChecked(e){const{multiple:n}=this,i=this.findOptionFromEvent(e);n&&i&&(i.checked=e.detail.checked)}getValues(e){const{multiple:n,options:i}=this;if(n)return i.filter(o=>o.checked).map(o=>o.value);const r=this.findOptionFromEvent(e);return r?r.value:void 0}renderOptions(e){const{multiple:n}=this;switch(n){case!0:return this.renderCheckboxOptions(e);default:return this.renderRadioOptions(e)}}renderCheckboxOptions(e){return e.map(n=>w("ion-item",{class:Dn(n.cssClass)},w("ion-checkbox",{slot:"start",value:n.value,disabled:n.disabled,checked:n.checked,legacy:!0,onIonChange:i=>{this.setChecked(i),this.callOptionHandler(i)}}),w("ion-label",null,n.text)))}renderRadioOptions(e){const n=e.filter(i=>i.checked).map(i=>i.value)[0];return w("ion-radio-group",{value:n,onIonChange:i=>this.callOptionHandler(i)},e.map(i=>w("ion-item",{class:Dn(i.cssClass)},w("ion-label",null,i.text),w("ion-radio",{value:i.value,disabled:i.disabled,legacy:!0,onClick:()=>this.dismissParentPopover(),onKeyUp:r=>{r.key===" "&&this.dismissParentPopover()}}))))}render(){const{header:e,message:n,options:i,subHeader:r}=this,o=r!==void 0||n!==void 0;return w(ue,{class:X(this)},w("ion-list",null,e!==void 0&&w("ion-list-header",null,e),o&&w("ion-item",null,w("ion-label",{class:"ion-text-wrap"},r!==void 0&&w("h3",null,r),n!==void 0&&w("p",null,n))),this.renderOptions(i)))}get el(){return this}static get style(){return{ios:JU,md:ZU}}},[34,"ion-select-popover",{header:[1],subHeader:[1,"sub-header"],message:[1],multiple:[4],options:[16]}]);function tV(){if(typeof customElements>"u")return;["ion-select-popover","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-note","ion-radio","ion-radio-group","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-select-popover":customElements.get(e)||customElements.define(e,eV);break;case"ion-checkbox":customElements.get(e)||y$();break;case"ion-icon":customElements.get(e)||ta();break;case"ion-item":customElements.get(e)||k$();break;case"ion-label":customElements.get(e)||sx();break;case"ion-list":customElements.get(e)||O$();break;case"ion-list-header":customElements.get(e)||N$();break;case"ion-note":customElements.get(e)||Om();break;case"ion-radio":customElements.get(e)||F$();break;case"ion-radio-group":customElements.get(e)||z$();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nV=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:0.6;--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(:not(.legacy-select)){width:100%}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.legacy-select){-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.in-item.legacy-select){position:static;max-width:45%}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]:not(.legacy-select)),:host([slot=end]:not(.legacy-select)){width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}:host(.legacy-select) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-select) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-select) label{left:0}:host-context([dir=rtl]):host(.legacy-select) label,:host-context([dir=rtl]).legacy-select label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-select) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-select) label::-moz-focus-inner{border:0}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-expanded.select-label-placement-floating) .label-text-wrapper,:host(.ion-focused.select-label-placement-floating) .label-text-wrapper,:host(.has-value.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}:host(.legacy-select){--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:16px}:host(:not(.legacy-select)){min-height:44px}:host(.select-label-placement-floating),:host(.select-label-placement-stacked){min-height:56px}.select-icon{width:18px;height:18px;color:var(--ion-color-step-650, #595959)}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{width:calc(100% - 18px - 4px)}:host(.select-disabled){opacity:0.3}",iV=":host{--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--placeholder-color:currentColor;--placeholder-opacity:0.6;--background:transparent;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;font-family:var(--ion-font-family, inherit);white-space:nowrap;cursor:pointer;z-index:2}:host(:not(.legacy-select)){width:100%}:host(.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.legacy-select){-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}:host(.in-item.legacy-select){position:static;max-width:45%}:host(.select-disabled){pointer-events:none}:host(.ion-focused) button{border:2px solid #5e9ed6}:host([slot=start]:not(.legacy-select)),:host([slot=end]:not(.legacy-select)){width:auto}.select-placeholder{color:var(--placeholder-color);opacity:var(--placeholder-opacity)}:host(.legacy-select) label{top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0}@supports (inset-inline-start: 0){:host(.legacy-select) label{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.legacy-select) label{left:0}:host-context([dir=rtl]):host(.legacy-select) label,:host-context([dir=rtl]).legacy-select label{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.legacy-select) label:dir(rtl){left:unset;right:unset;right:0}}}:host(.legacy-select) label::-moz-focus-inner{border:0}button{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.select-icon{-webkit-margin-start:4px;margin-inline-start:4px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0;position:relative}:host(.in-item-color) .select-icon{color:inherit}:host(.select-label-placement-stacked) .select-icon,:host(.select-label-placement-floating) .select-icon{position:absolute;height:100%}:host(.select-ltr.select-label-placement-stacked) .select-icon,:host(.select-ltr.select-label-placement-floating) .select-icon{right:var(--padding-end, 0)}:host(.select-rtl.select-label-placement-stacked) .select-icon,:host(.select-rtl.select-label-placement-floating) .select-icon{left:var(--padding-start, 0)}.select-text{-ms-flex:1;flex:1;min-width:16px;font-size:inherit;text-overflow:ellipsis;white-space:inherit;overflow:hidden}.select-wrapper{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal;cursor:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.select-wrapper .select-placeholder{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}:host(.ion-touched.ion-invalid){--highlight-color:var(--highlight-color-invalid)}:host(.ion-valid){--highlight-color:var(--highlight-color-valid)}.label-text-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text,::slotted([slot=label]){text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden,.select-outline-notch-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);overflow:hidden}:host(.select-justify-space-between) .select-wrapper{-ms-flex-pack:justify;justify-content:space-between}:host(.select-justify-start) .select-wrapper{-ms-flex-pack:start;justify-content:start}:host(.select-justify-end) .select-wrapper{-ms-flex-pack:end;justify-content:end}:host(.select-label-placement-start) .select-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.select-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-end) .select-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.select-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.select-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host(.select-label-placement-stacked) .select-wrapper,:host(.select-label-placement-floating) .select-wrapper{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-label-placement-floating) .label-text-wrapper{max-width:100%}:host(.select-ltr.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0;-ms-flex-positive:1;flex-grow:1;width:100%}:host(.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}:host(.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:0}:host(.select-expanded.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.ion-focused.select-label-placement-floating) .native-wrapper .select-placeholder,:host(.has-value.select-label-placement-floating) .native-wrapper .select-placeholder{opacity:1}:host(.select-label-placement-stacked) .label-text-wrapper,:host(.select-expanded.select-label-placement-floating) .label-text-wrapper,:host(.ion-focused.select-label-placement-floating) .label-text-wrapper,:host(.has-value.select-label-placement-floating) .label-text-wrapper{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}:host(.select-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}:host(.select-fill-solid) .select-wrapper{border-bottom:var(--border-width) var(--border-style) var(--border-color)}:host(.has-focus.select-fill-solid.ion-valid),:host(.select-fill-solid.ion-touched.ion-invalid){--border-color:var(--highlight-color)}:host(.select-fill-solid) .select-bottom{border-top:none}@media (any-hover: hover){:host(.select-fill-solid:hover){--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}:host(.select-fill-solid.select-expanded),:host(.select-fill-solid.ion-focused){--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}:host(.select-fill-solid) .select-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}:host-context([dir=rtl]):host(.select-fill-solid) .select-wrapper,:host-context([dir=rtl]).select-fill-solid .select-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){:host(.select-fill-solid) .select-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}:host(.select-fill-solid.select-label-placement-stacked) .label-text-wrapper,:host(.select-expanded.select-fill-solid.select-label-placement-floating) .label-text-wrapper,:host(.ion-focused.select-fill-solid.select-label-placement-floating) .label-text-wrapper,:host(.has-value.select-fill-solid.select-label-placement-floating) .label-text-wrapper{max-width:calc(100% / 0.75)}:host(.select-fill-outline){--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}:host(.select-fill-outline.select-shape-round){--border-radius:28px;--padding-start:32px;--padding-end:32px}:host(.has-focus.select-fill-outline.ion-valid),:host(.select-fill-outline.ion-touched.ion-invalid){--border-color:var(--highlight-color)}@media (any-hover: hover){:host(.select-fill-outline:hover){--border-color:var(--ion-color-step-750, #404040)}}:host(.select-fill-outline.select-expanded),:host(.select-fill-outline.ion-focused){--border-width:2px;--border-color:var(--highlight-color)}:host(.select-fill-outline) .select-bottom{border-top:none}:host(.select-fill-outline) .select-wrapper{border-bottom:none}:host(.select-ltr.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-ltr.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:left top;transform-origin:left top}:host(.select-rtl.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-rtl.select-fill-outline.select-label-placement-floating) .label-text-wrapper{-webkit-transform-origin:right top;transform-origin:right top}:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-floating) .label-text-wrapper{position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .label-text-wrapper{position:relative;z-index:1}:host(.select-expanded.select-fill-outline.select-label-placement-floating) .label-text-wrapper,:host(.ion-focused.select-fill-outline.select-label-placement-floating) .label-text-wrapper,:host(.has-value.select-fill-outline.select-label-placement-floating) .label-text-wrapper,:host(.select-fill-outline.select-label-placement-stacked) .label-text-wrapper{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}:host(.select-fill-outline.select-label-placement-stacked) select,:host(.select-fill-outline.select-label-placement-floating) select{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}:host(.select-fill-outline) .select-outline-container{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-end{pointer-events:none}:host(.select-fill-outline) .select-outline-start,:host(.select-fill-outline) .select-outline-notch,:host(.select-fill-outline) .select-outline-end{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.select-fill-outline) .select-outline-notch{max-width:calc(100% - var(--padding-start) - var(--padding-end))}:host(.select-fill-outline) .notch-spacer{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none}:host(.select-ltr.select-fill-outline) .select-outline-start{border-left:var(--border-width) var(--border-style) var(--border-color);border-radius:var(--border-radius) 0px 0px var(--border-radius)}:host(.select-rtl.select-fill-outline) .select-outline-start{border-right:var(--border-width) var(--border-style) var(--border-color);border-radius:0px var(--border-radius) var(--border-radius) 0px}:host(.select-fill-outline) .select-outline-start{width:calc(var(--padding-start) - 4px)}:host(.select-ltr.select-fill-outline) .select-outline-end{border-right:var(--border-width) var(--border-style) var(--border-color);border-radius:0px var(--border-radius) var(--border-radius) 0px}:host(.select-rtl.select-fill-outline) .select-outline-end{border-left:var(--border-width) var(--border-style) var(--border-color);border-radius:var(--border-radius) 0px 0px var(--border-radius)}:host(.select-fill-outline) .select-outline-end{-ms-flex-positive:1;flex-grow:1}:host(.select-expanded.select-fill-outline.select-label-placement-floating) .select-outline-notch,:host(.ion-focused.select-fill-outline.select-label-placement-floating) .select-outline-notch,:host(.has-value.select-fill-outline.select-label-placement-floating) .select-outline-notch,:host(.select-fill-outline.select-label-placement-stacked) .select-outline-notch{border-top:none}:host{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))))}:host(.legacy-select){--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:16px}:host(:not(.legacy-select)){min-height:56px}.select-icon{width:13px;-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.15s cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);color:var(--ion-color-step-500, gray)}:host(.select-label-placement-floating.select-expanded) .label-text-wrapper,:host(.select-label-placement-floating.ion-focused) .label-text-wrapper,:host(.select-label-placement-stacked.select-expanded) .label-text-wrapper,:host(.select-label-placement-stacked.ion-focused) .label-text-wrapper{color:var(--highlight-color)}:host(.has-focus.select-label-placement-floating.ion-valid) .label-text-wrapper,:host(.select-label-placement-floating.ion-touched.ion-invalid) .label-text-wrapper,:host(.has-focus.select-label-placement-stacked.ion-valid) .label-text-wrapper,:host(.select-label-placement-stacked.ion-touched.ion-invalid) .label-text-wrapper{color:var(--highlight-color)}.select-highlight{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.select-highlight{inset-inline-start:0}}@supports not (inset-inline-start: 0){.select-highlight{left:0}:host-context([dir=rtl]) .select-highlight{left:unset;right:unset;right:0}[dir=rtl] .select-highlight{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.select-highlight:dir(rtl){left:unset;right:unset;right:0}}}:host(.select-expanded) .select-highlight,:host(.ion-focused) .select-highlight{-webkit-transform:scale(1);transform:scale(1)}:host(.in-item) .select-highlight{bottom:0}@supports (inset-inline-start: 0){:host(.in-item) .select-highlight{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host(.in-item) .select-highlight{left:0}:host-context([dir=rtl]):host(.in-item) .select-highlight,:host-context([dir=rtl]).in-item .select-highlight{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(.in-item) .select-highlight:dir(rtl){left:unset;right:unset;right:0}}}:host(.select-expanded:not(.legacy-select):not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.select-expanded) .select-wrapper .select-icon,:host(.has-focus.ion-valid) .select-wrapper .select-icon,:host(.ion-touched.ion-invalid) .select-wrapper .select-icon,:host(.ion-focused) .select-wrapper .select-icon{color:var(--highlight-color)}:host-context(.item-label-stacked) .select-icon,:host-context(.item-label-floating:not(.item-fill-outline)) .select-icon,:host-context(.item-label-floating.item-fill-outline){-webkit-transform:translate3d(0,  -9px,  0);transform:translate3d(0,  -9px,  0)}:host-context(.item-has-focus):host(:not(.has-expanded-icon)) .select-icon{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host-context(.item-has-focus.item-label-stacked):host(:not(.has-expanded-icon)) .select-icon,:host-context(.item-has-focus.item-label-floating:not(.item-fill-outline)):host(:not(.has-expanded-icon)) .select-icon{-webkit-transform:translate3d(0,  -9px,  0) rotate(180deg);transform:translate3d(0,  -9px,  0) rotate(180deg)}:host(.select-shape-round){--border-radius:16px}:host(.select-label-placement-stacked) .native-wrapper,:host(.select-label-placement-floating) .native-wrapper{width:calc(100% - 13px - 4px)}:host(.select-disabled){opacity:0.38}",rV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=U(this,"ionChange",7),this.ionCancel=U(this,"ionCancel",7),this.ionDismiss=U(this,"ionDismiss",7),this.ionFocus=U(this,"ionFocus",7),this.ionBlur=U(this,"ionBlur",7),this.ionStyle=U(this,"ionStyle",7),this.inputId=`ion-sel-${sV++}`,this.inheritedAttributes={},this.hasLoggedDeprecationWarning=!1,this.onClick=e=>{this.setFocus(),this.open(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.isExpanded=!1,this.cancelText="Cancel",this.color=void 0,this.compareWith=void 0,this.disabled=!1,this.fill=void 0,this.interface="alert",this.interfaceOptions={},this.justify="space-between",this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.multiple=!1,this.name=this.inputId,this.okText="OK",this.placeholder=void 0,this.selectedText=void 0,this.toggleIcon=void 0,this.expandedIcon=void 0,this.shape=void 0,this.value=void 0}styleChanged(){this.emitStyle()}setValue(e){this.value=e,this.ionChange.emit({value:e})}componentWillLoad(){this.inheritedAttributes=Td(this.el,["aria-label"])}async connectedCallback(){const{el:e}=this;this.legacyFormController=Pm(e),this.notchController=P$(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.updateOverlayOptions(),this.emitStyle(),this.mutationO=fU(this.el,"ion-select-option",async()=>{this.updateOverlayOptions(),xo(this)})}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async open(e){if(this.disabled||this.isExpanded)return;this.isExpanded=!0;const n=this.overlay=await this.createOverlay(e);if(n.onDidDismiss().then(()=>{this.overlay=void 0,this.isExpanded=!1,this.ionDismiss.emit(),this.setFocus()}),await n.present(),this.interface==="popover"){let i=this.childOpts.map(o=>o.value).indexOf(this.value);i=i>-1?i:0;const r=n.querySelector(`.select-interface-option:nth-child(${i+1})`);if(r){WA(r);const o=r.querySelector("ion-radio, ion-checkbox");o&&o.focus()}}return n}createOverlay(e){let n=this.interface;return n==="action-sheet"&&this.multiple&&(console.warn(`Select interface cannot be "${n}" with a multi-value select. Using the "alert" interface instead.`),n="alert"),n==="popover"&&!e&&(console.warn(`Select interface cannot be a "${n}" without passing an event. Using the "alert" interface instead.`),n="alert"),n==="action-sheet"?this.openActionSheet():n==="popover"?this.openPopover(e):this.openAlert()}updateOverlayOptions(){const e=this.overlay;if(!e)return;const n=this.childOpts,i=this.value;switch(this.interface){case"action-sheet":e.buttons=this.createActionSheetButtons(n,i);break;case"popover":const r=e.querySelector("ion-select-popover");r&&(r.options=this.createPopoverOptions(n,i));break;case"alert":const o=this.multiple?"checkbox":"radio";e.inputs=this.createAlertInputs(n,o,i);break}}createActionSheetButtons(e,n){const i=e.map(r=>{const o=Ef(r),s=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a=`${Vb} ${s}`;return{role:Ub(n,o,this.compareWith)?"selected":"",text:r.textContent,cssClass:a,handler:()=>{this.setValue(o)}}});return i.push({text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}}),i}createAlertInputs(e,n,i){return e.map(o=>{const s=Ef(o),a=Array.from(o.classList).filter(c=>c!=="hydrated").join(" "),l=`${Vb} ${a}`;return{type:n,cssClass:l,label:o.textContent||"",value:s,checked:Ub(i,s,this.compareWith),disabled:o.disabled}})}createPopoverOptions(e,n){return e.map(r=>{const o=Ef(r),s=Array.from(r.classList).filter(l=>l!=="hydrated").join(" "),a=`${Vb} ${s}`;return{text:r.textContent||"",cssClass:a,value:o,checked:Ub(n,o,this.compareWith),disabled:r.disabled,handler:l=>{this.setValue(l),this.multiple||this.close()}}})}async openPopover(e){const{fill:n,labelPlacement:i}=this,r=this.interfaceOptions,o=X(this),s=o!=="md",a=this.multiple,l=this.value;let c=e,u="auto";if(this.legacyFormController.hasLegacyControl()){const h=this.el.closest("ion-item");h&&(h.classList.contains("item-label-floating")||h.classList.contains("item-label-stacked"))&&(c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:h}}),u="cover")}else i==="floating"||i==="stacked"||o==="md"&&n!==void 0?u="cover":c=Object.assign(Object.assign({},e),{detail:{ionShadowTarget:this.nativeWrapperEl}});const d=Object.assign(Object.assign({mode:o,event:c,alignment:"center",size:u,showBackdrop:s},r),{component:"ion-select-popover",cssClass:["select-popover",r.cssClass],componentProps:{header:r.header,subHeader:r.subHeader,message:r.message,multiple:a,value:l,options:this.createPopoverOptions(this.childOpts,l)}});return G5.create(d)}async openActionSheet(){const e=X(this),n=this.interfaceOptions,i=Object.assign(Object.assign({mode:e},n),{buttons:this.createActionSheetButtons(this.childOpts,this.value),cssClass:["select-action-sheet",n.cssClass]});return q5.create(i)}async openAlert(){let e,n;this.legacyFormController.hasLegacyControl()?(e=this.getLabel(),n=e?e.textContent:null):n=this.labelText;const i=this.interfaceOptions,r=this.multiple?"checkbox":"radio",o=X(this),s=Object.assign(Object.assign({mode:o},i),{header:i.header?i.header:n,inputs:this.createAlertInputs(this.childOpts,r,this.value),buttons:[{text:this.cancelText,role:"cancel",handler:()=>{this.ionCancel.emit()}},{text:this.okText,handler:a=>{this.setValue(a)}}],cssClass:["select-alert",i.cssClass,this.multiple?"multiple-select-alert":"single-select-alert"]});return H5.create(s)}close(){return this.overlay?this.overlay.dismiss():Promise.resolve(!1)}getLabel(){return Am(this.el)}hasValue(){return this.getText()!==""}get childOpts(){return Array.from(this.el.querySelectorAll("ion-select-option"))}get labelText(){const{label:e}=this;if(e!==void 0)return e;const{labelSlot:n}=this;if(n!==null)return n.textContent}getText(){const e=this.selectedText;return e!=null&&e!==""?e:oV(this.childOpts,this.value,this.compareWith)}setFocus(){this.focusEl&&this.focusEl.focus()}emitStyle(){const{disabled:e}=this,n={"interactive-disabled":e};this.legacyFormController.hasLegacyControl()&&(n.interactive=!0,n.select=!0,n["select-disabled"]=e,n["has-placeholder"]=this.placeholder!==void 0,n["has-value"]=this.hasValue(),n["has-focus"]=this.isExpanded),this.ionStyle.emit(n)}renderLabel(){const{label:e}=this;return w("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel},part:"label"},e===void 0?w("slot",{name:"label"}):w("div",{class:"label-text"},e))}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return X(this)==="md"&&this.fill==="outline"?[w("div",{class:"select-outline-container"},w("div",{class:"select-outline-start"}),w("div",{class:{"select-outline-notch":!0,"select-outline-notch-hidden":!this.hasLabel}},w("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),w("div",{class:"select-outline-end"})),this.renderLabel()]:this.renderLabel()}renderSelect(){const{disabled:e,el:n,isExpanded:i,expandedIcon:r,labelPlacement:o,justify:s,placeholder:a,fill:l,shape:c,name:u,value:d}=this,h=X(this),f=o==="floating"||o==="stacked",p=!f,m=w$(n)?"rtl":"ltr",y=ft("ion-item",this.el),g=h==="md"&&l!=="outline"&&!y;return Uu(!0,n,u,zE(d),e),w(ue,{onClick:this.onClick,class:vt(this.color,{[h]:!0,"in-item":y,"in-item-color":ft("ion-item.ion-color",n),"select-disabled":e,"select-expanded":i,"has-expanded-icon":r!==void 0,"has-value":this.hasValue(),"has-placeholder":a!==void 0,"ion-focusable":!0,[`select-${m}`]:!0,[`select-fill-${l}`]:l!==void 0,[`select-justify-${s}`]:p,[`select-shape-${c}`]:c!==void 0,[`select-label-placement-${o}`]:!0})},w("label",{class:"select-wrapper",id:"select-label"},this.renderLabelContainer(),w("div",{class:"native-wrapper",ref:b=>this.nativeWrapperEl=b,part:"container"},this.renderSelectText(),!f&&this.renderSelectIcon(),this.renderListbox()),f&&this.renderSelectIcon(),g&&w("div",{class:"select-highlight"})))}renderLegacySelect(){this.hasLoggedDeprecationWarning||(kt(`ion-select now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.

Example: <ion-select label="Favorite Color">...</ion-select>
Example with aria-label: <ion-select aria-label="Favorite Color">...</ion-select>

Developers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.`,this.el),this.legacy&&kt(`ion-select is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.
    Developers can dismiss this warning by removing their usage of the "legacy" property and using the new select syntax.`,this.el),this.hasLoggedDeprecationWarning=!0);const{disabled:e,el:n,inputId:i,isExpanded:r,expandedIcon:o,name:s,placeholder:a,value:l}=this,c=X(this),{labelText:u,labelId:d}=dp(n,i);Uu(!0,n,s,zE(l),e);let f=this.getText();f===""&&a!==void 0&&(f=a);const p=u!==void 0?f!==""?`${f}, ${u}`:u:f;return w(ue,{onClick:this.onClick,role:"button","aria-haspopup":"listbox","aria-disabled":e?"true":null,"aria-label":p,class:{[c]:!0,"in-item":ft("ion-item",n),"in-item-color":ft("ion-item.ion-color",n),"select-disabled":e,"select-expanded":r,"has-expanded-icon":o!==void 0,"legacy-select":!0}},this.renderSelectText(),this.renderSelectIcon(),w("label",{id:d},p),this.renderListbox())}renderSelectText(){const{placeholder:e}=this,n=this.getText();let i=!1,r=n;return r===""&&e!==void 0&&(r=e,i=!0),w("div",{"aria-hidden":"true",class:{"select-text":!0,"select-placeholder":i},part:i?"placeholder":"text"},r)}renderSelectIcon(){const e=X(this),{isExpanded:n,toggleIcon:i,expandedIcon:r}=this;let o;if(n&&r!==void 0)o=r;else{const s=e==="ios"?lz:sz;o=i!=null?i:s}return w("ion-icon",{class:"select-icon",part:"icon","aria-hidden":"true",icon:o})}get ariaLabel(){var e,n;const{placeholder:i,el:r,inputId:o,inheritedAttributes:s}=this,a=this.getText(),{labelText:l}=dp(r,o),c=(n=(e=this.labelText)!==null&&e!==void 0?e:s["aria-label"])!==null&&n!==void 0?n:l;let u=a;return u===""&&i!==void 0&&(u=i),c!==void 0&&(u=u===""?c:`${c}, ${u}`),u}renderListbox(){const{disabled:e,inputId:n,isExpanded:i}=this;return w("button",{disabled:e,id:n,"aria-label":this.ariaLabel,"aria-haspopup":"listbox","aria-expanded":`${i}`,onFocus:this.onFocus,onBlur:this.onBlur,ref:r=>this.focusEl=r})}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacySelect():this.renderSelect()}get el(){return this}static get watchers(){return{disabled:["styleChanged"],isExpanded:["styleChanged"],placeholder:["styleChanged"],value:["styleChanged"]}}static get style(){return{ios:nV,md:iV}}},[33,"ion-select",{cancelText:[1,"cancel-text"],color:[513],compareWith:[1,"compare-with"],disabled:[4],fill:[1],interface:[1],interfaceOptions:[8,"interface-options"],justify:[1],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],multiple:[4],name:[1],okText:[1,"ok-text"],placeholder:[1],selectedText:[1,"selected-text"],toggleIcon:[1,"toggle-icon"],expandedIcon:[1,"expanded-icon"],shape:[1],value:[1032],isExpanded:[32],open:[64]}]),Ub=(t,e,n)=>t===void 0?!1:Array.isArray(t)?t.some(i=>zy(i,e,n)):zy(t,e,n),Ef=t=>{const e=t.value;return e===void 0?t.textContent||"":e},zE=t=>{if(t!=null)return Array.isArray(t)?t.join(","):t.toString()},zy=(t,e,n)=>typeof n=="function"?n(t,e):typeof n=="string"?t[n]===e[n]:Array.isArray(e)?e.includes(t):t===e,oV=(t,e,n)=>e===void 0?"":Array.isArray(e)?e.map(i=>BE(t,i,n)).filter(i=>i!==null).join(", "):BE(t,e,n)||"",BE=(t,e,n)=>{const i=t.find(r=>zy(e,Ef(r),n));return i?i.textContent:null};let sV=0;const Vb="select-interface-option";function aV(){if(typeof customElements>"u")return;["ion-select","ion-action-sheet","ion-alert","ion-backdrop","ion-checkbox","ion-icon","ion-item","ion-label","ion-list","ion-list-header","ion-note","ion-popover","ion-radio","ion-radio-group","ion-ripple-effect","ion-select-popover"].forEach(e=>{switch(e){case"ion-select":customElements.get(e)||customElements.define(e,rV);break;case"ion-action-sheet":customElements.get(e)||VU();break;case"ion-alert":customElements.get(e)||XU();break;case"ion-backdrop":customElements.get(e)||Od();break;case"ion-checkbox":customElements.get(e)||y$();break;case"ion-icon":customElements.get(e)||ta();break;case"ion-item":customElements.get(e)||k$();break;case"ion-label":customElements.get(e)||sx();break;case"ion-list":customElements.get(e)||O$();break;case"ion-list-header":customElements.get(e)||N$();break;case"ion-note":customElements.get(e)||Om();break;case"ion-popover":customElements.get(e)||NB();break;case"ion-radio":customElements.get(e)||F$();break;case"ion-radio-group":customElements.get(e)||z$();break;case"ion-ripple-effect":customElements.get(e)||Fo();break;case"ion-select-popover":customElements.get(e)||tV();break}})}const lV=aV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cV=":host{display:none}",uV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inputId=`ion-selopt-${dV++}`,this.disabled=!1,this.value=void 0}render(){return w(ue,{role:"option",id:this.inputId,class:X(this)})}get el(){return this}static get style(){return cV}},[1,"ion-select-option",{disabled:[4],value:[8]}]);let dV=0;function hV(){if(typeof customElements>"u")return;["ion-select-option"].forEach(e=>{switch(e){case"ion-select-option":customElements.get(e)||customElements.define(e,uV);break}})}const fV=hV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pV=R$;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mV=":host(.ion-color){color:var(--ion-color-base)}",gV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=X(this);return w(ue,{class:vt(this.color,{[e]:!0})},w("slot",null))}static get style(){return mV}},[1,"ion-text",{color:[513]}]);function bV(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,gV);break}})}const vV=bV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yV=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;padding-bottom:6px;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",wV=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}",xV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=U(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=X(this),n=this.getSize();return w(ue,{class:vt(this.color,{[e]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},w("div",{class:"toolbar-title"},w("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:yV,md:wV}}},[33,"ion-title",{color:[513],size:[1]}]);function kV(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,xV);break}})}const _V=kV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EV=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",CV=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",SV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(o=>o.slot==="end")||i.find(o=>o.slot==="primary")||i.find(o=>o.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l=`toolbar-${a}`,c=i[a];c!==o[l]&&(s=!0),c&&(r[l]=!0)}),s&&(this.childrenStyles.set(n,r),xo(this))}render(){const e=X(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),w(ue,{class:Object.assign(Object.assign({},n),vt(this.color,{[e]:!0,"in-toolbar":ft("ion-toolbar",this.el)}))},w("div",{class:"toolbar-background"}),w("div",{class:"toolbar-container"},w("slot",{name:"start"}),w("slot",{name:"secondary"}),w("div",{class:"toolbar-content"},w("slot",null)),w("slot",{name:"primary"}),w("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:EV,md:CV}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function IV(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,SV);break}})}const TV=IV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AV=Zz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $V=x$;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DV=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},RV=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},PV=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},OV=t=>{const e=Z(),n=Z(),i=Z();return n.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(t).easing("ease-in-out").duration(200).addAnimation([n,i])},NV=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{-webkit-margin-start:16px;margin-inline-start:16px}",LV=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{-webkit-margin-start:16px;margin-inline-start:16px}",MV=be(class extends ve{constructor(){super(),this.__registerHost(),this.didPresent=U(this,"ionLoadingDidPresent",7),this.willPresent=U(this,"ionLoadingWillPresent",7),this.willDismiss=U(this,"ionLoadingWillDismiss",7),this.didDismiss=U(this,"ionLoadingDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.delegateController=Dm(this),this.triggerController=Rm(),this.customHTMLEnabled=de.get("innerHTMLTemplatesEnabled",ix),this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Ns)},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.message=void 0,this.cssClass=void 0,this.duration=0,this.backdropDismiss=!1,this.showBackdrop=!0,this.spinner=void 0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){$d(this.el),this.triggerChanged()}componentWillLoad(){if(this.spinner===void 0){const e=X(this);this.spinner=de.get("loadingSpinner",de.get("spinner",e==="ios"?"lines":"crescent"))}Dd(this.el)}componentDidLoad(){this.isOpen===!0&&Rt(()=>this.present())}disconnectedCallback(){this.triggerController.removeClickListener()}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=Rd(this,"loadingEnter",DV,PV),await this.currentTransition,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(),this.duration+10)),this.currentTransition=void 0}async dismiss(e,n){this.durationTimeout&&clearTimeout(this.durationTimeout),this.currentTransition=Pd(this,e,n,"loadingLeave",RV,OV);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return rr(this.el,"ionLoadingDidDismiss")}onWillDismiss(){return rr(this.el,"ionLoadingWillDismiss")}renderLoadingMessage(e){const{customHTMLEnabled:n,message:i}=this;return n?w("div",{class:"loading-content",id:e,innerHTML:nx(i)}):w("div",{class:"loading-content",id:e},i)}render(){const{message:e,spinner:n,htmlAttributes:i,overlayIndex:r}=this,o=X(this),s=`loading-${r}-msg`;return w(ue,Object.assign({role:"dialog","aria-modal":"true","aria-labelledby":e!==void 0?s:null,tabindex:"-1"},i,{style:{zIndex:`${4e4+this.overlayIndex}`},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Dn(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"loading-translucent":this.translucent})}),w("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),w("div",{tabindex:"0"}),w("div",{class:"loading-wrapper ion-overlay-wrapper"},n&&w("div",{class:"loading-spinner"},w("ion-spinner",{name:n,"aria-hidden":"true"})),e!==void 0&&this.renderLoadingMessage(s)),w("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:NV,md:LV}}},[34,"ion-loading",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]);function FV(){if(typeof customElements>"u")return;["ion-loading","ion-backdrop","ion-spinner"].forEach(e=>{switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,MV);break;case"ion-backdrop":customElements.get(e)||Od();break;case"ion-spinner":customElements.get(e)||R$();break}})}const U$=FV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zV=(t,e)=>{const n=Z(),i=Z(),o=Fi(t).querySelector(".toast-wrapper"),s="calc(-10px - var(--ion-safe-area-bottom, 0px))",a="calc(10px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":i.fromTo("transform","translateY(-100%)",`translateY(${a})`);break;case"middle":const l=Math.floor(t.clientHeight/2-o.clientHeight/2);o.style.top=`${l}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)",`translateY(${s})`);break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},BV=(t,e)=>{const n=Z(),i=Z(),o=Fi(t).querySelector(".toast-wrapper"),s="calc(-10px - var(--ion-safe-area-bottom, 0px))",a="calc(10px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":i.fromTo("transform",`translateY(${a})`,"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform",`translateY(${s})`,"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},UV=(t,e)=>{const n=Z(),i=Z(),o=Fi(t).querySelector(".toast-wrapper"),s="calc(8px + var(--ion-safe-area-bottom, 0px))",a="calc(8px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":o.style.top=a,i.fromTo("opacity",.01,1);break;case"middle":const l=Math.floor(t.clientHeight/2-o.clientHeight/2);o.style.top=`${l}px`,i.fromTo("opacity",.01,1);break;default:o.style.bottom=s,i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},VV=t=>{const e=Z(),n=Z(),r=Fi(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},jV=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",HV=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",qV=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=U(this,"ionToastDidPresent",7),this.willPresent=U(this,"ionToastWillPresent",7),this.willDismiss=U(this,"ionToastWillDismiss",7),this.didDismiss=U(this,"ionToastDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.delegateController=Dm(this),this.triggerController=Rm(),this.customHTMLEnabled=de.get("innerHTMLTemplatesEnabled",ix),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(kl(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=de.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){$d(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){Dd(this.el)}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=Rd(this,"toastEnter",zV,UV,this.position),await this.currentTransition,this.revealContentToScreenReader=!0,this.currentTransition=void 0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration))}async dismiss(e,n){this.durationTimeout&&clearTimeout(this.durationTimeout),this.currentTransition=Pd(this,e,n,"toastLeave",BV,VV,this.position);const i=await this.currentTransition;return i&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),i}onDidDismiss(){return rr(this.el,"ionToastDidDismiss")}onWillDismiss(){return rr(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}async buttonClick(e){const n=e.role;return kl(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await nl(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=X(this),r={"toast-button-group":!0,[`toast-button-group-${n}`]:!0};return w("div",{class:r},e.map(o=>w("button",{type:"button",class:WV(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:"button"},w("div",{class:"toast-button-inner"},o.icon&&w("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),i==="md"&&w("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:r}=this;return i?w("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:nx(r)}):w("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},r)}renderHeader(e,n=null){return w("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:r,message:o}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=X(this),u={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${e}`]:!0};return e==="stacked"&&a.length>0&&l.length>0&&kt("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),w(ue,Object.assign({tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:vt(this.color,Object.assign(Object.assign({[c]:!0},Dn(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),w("div",{class:u},w("div",{class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&w("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),w("div",{class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&r!==void 0&&this.renderHeader("oldHeader","true"),!i&&o!==void 0&&this.renderToastMessage("oldMessage","true"),i&&r!==void 0&&this.renderHeader("header"),i&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:jV,md:HV}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),WV=t=>Object.assign({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,[`toast-button-${t.role}`]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0},Dn(t.cssClass));function GV(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,qV);break;case"ion-icon":customElements.get(e)||ta();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}const V$=GV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var UE;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(UE||(UE={}));const KV="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",YV=be(class extends ve{constructor(){super(),this.__registerHost()}componentDidLoad(){XV(async()=>{const e=vr(window,"hybrid");if(de.getBoolean("_testing")||pn(()=>import("./index9-66305359.js"),[]).then(i=>i.startTapClick(de)),de.getBoolean("statusTap",e)&&pn(()=>import("./status-tap-c953f262.js"),[]).then(i=>i.startStatusTap()),de.getBoolean("inputShims",QV())){const i=vr(window,"ios")?"ios":"android";pn(()=>import("./input-shims-308980ab.js"),[]).then(r=>r.startInputShims(de,i))}const n=await pn(()=>Promise.resolve().then(()=>U5),void 0);de.getBoolean("hardwareBackButton",e)?n.startHardwareBackButton():n.blockHardwareBackButton(),typeof window<"u"&&pn(()=>import("./keyboard2-9a140b6e.js"),[]).then(i=>i.startKeyboardAssist(window)),pn(()=>import("./focus-visible-9c13edeb.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=X(this);return w(ue,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":de.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return KV}},[0,"ion-app",{setFocus:[64]}]),QV=()=>!!(vr(window,"ios")&&vr(window,"mobile")||vr(window,"android")&&vr(window,"mobileweb")),XV=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function JV(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,YV);break}})}const ZV=JV;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const e9=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',t9=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',n9=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):ox(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Ql(this.el),this.defaultHref===void 0&&(this.defaultHref=de.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:X(this)==="ios"?de.get("backButtonIcon",az):de.get("backButtonIcon",oz)}get backButtonText(){const e=X(this)==="ios"?"Back":null;return this.text!=null?this.text:de.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:r,hasIconOnly:o,backButtonIcon:s,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=X(this),h=c["aria-label"]||a||"back";return w(ue,{onClick:this.onClick,class:vt(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":ft("ion-toolbar",this.el),"in-toolbar-color":ft("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},w("button",{type:r,disabled:i,class:"button-native",part:"native","aria-label":h},w("span",{class:"button-inner"},s&&w("ion-icon",{part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&w("span",{part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&w("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:e9,md:t9}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function i9(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,n9);break;case"ion-icon":customElements.get(e)||ta();break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}const r9=i9,o9=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",s9=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=U(this,"ionNavWillLoad",7),this.ionNavWillChange=U(this,"ionNavWillChange",3),this.ionNavDidChange=U(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=X(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await pn(()=>import("./swipe-back-90370216.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=fp([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=fp([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,o,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lock();let o=!1;try{o=await this.transition(e,n,i)}catch(s){console.error(s)}return r(),o}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&GA(n,this.activeParams))return!1;const r=this.activeEl,o=await rx(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,r,i),await u$(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:o}=this,s=this.animated&&de.getBoolean("animated",!0),a=i.animationBuilder||this.animation||de.get("navAnimation");return await QA(Object.assign(Object.assign({mode:o,animated:s,enteringEl:e,leavingEl:n,baseEl:r,deepWait:jA(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let n;return this.waitPromise=new Promise(i=>n=i),e!==void 0&&await e,n}render(){return w("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return o9}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);function a9(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,s9);break}})}const l9=a9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const c9=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",u9=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",d9=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=U(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await D$(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=X(this),o=i&&this.el.getAttribute("slot")!=="top";return w(ue,{role:"tablist","aria-hidden":o?"true":null,class:vt(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},w("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:c9,md:u9}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);function h9(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,d9);break}})}const f9=h9;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const p9=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',m9=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',g9=be(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=U(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Td(this.el,["aria-label"])),this.layout===void 0&&(this.layout=de.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:o,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=X(this),h={download:this.download,href:r,rel:o,target:s};return w(ue,{onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?`tab-button-${c}`:null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,[`tab-layout-${a}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},w("a",Object.assign({},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),w("span",{class:"button-inner"},w("slot",null)),d==="md"&&w("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:p9,md:m9}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function b9(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,g9);break;case"ion-ripple-effect":customElements.get(e)||Fo();break}})}const v9=b9,Sa={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Ia,j$,Lm,H$=!1,gp=!1,ux=!1,Ln=!1,VE=null,By=!1;const y9=t=>{const e=new URL(t,un.$resourcesUrl$);return e.origin!==Ld.location.origin?e.href:e.pathname},Ls=(t,e="")=>()=>{},jE="http://www.w3.org/1999/xlink",HE={},w9="http://www.w3.org/2000/svg",x9="http://www.w3.org/1999/xhtml",k9=t=>t!=null,dx=t=>(t=typeof t,t==="object"||t==="function");function _9(t){var e,n,i;return(i=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const cu=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!dx(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?bp(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,C9);const u=bp(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},bp=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},q$={},E9=t=>t&&t.$tag$===q$,C9={forEach:(t,e)=>t.map(qE).forEach(e),map:(t,e)=>t.map(qE).map(e).map(S9)},qE=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),S9=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),cu(t.vtag,n,...t.vchildren||[])}const e=bp(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},I9=t=>Z9.map(e=>e(t)).find(e=>!!e),T9=(t,e)=>t!=null&&!dx(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,WE=new WeakMap,A9=(t,e,n)=>{let i=yp.get(t);i8&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,yp.set(t,i)},$9=(t,e,n,i)=>{var r;let o=W$(e,n);const s=yp.get(o);if(t=t.nodeType===11?t:Ii,s)if(typeof s=="string"){t=t.head||t;let a=WE.get(t),l;if(a||WE.set(t,a=new Set),!a.has(o)){{l=Ii.createElement("style"),l.innerHTML=s;const c=(r=un.$nonce$)!==null&&r!==void 0?r:_9(Ii);c!=null&&l.setAttribute("nonce",c),t.insertBefore(l,t.querySelector("link"))}a&&a.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return o},D9=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=Ls("attachStyles",e.$tagName$),o=$9(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},W$=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),GE=(t,e,n,i,r,o)=>{if(n!==i){let s=XE(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=KE(n),u=KE(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):XE(Ld,a)?e=a.slice(2):e=a[2]+e.slice(3),n&&un.rel(t,e,n,!1),i&&un.ael(t,e,i,!1);else{const l=dx(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(jE,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(jE,e,i):t.setAttribute(e,i))}}},R9=/\s/,KE=t=>t?t.split(R9):[],G$=(t,e,n,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||HE,s=e.$attrs$||HE;for(i in o)i in s||GE(r,i,o[i],void 0,n,e.$flags$);for(i in s)GE(r,i,o[i],s[i],n,e.$flags$)},vp=(t,e,n,i)=>{const r=e.$children$[n];let o=0,s,a,l;if(H$||(ux=!0,r.$tag$==="slot"&&(Ia&&i.classList.add(Ia+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)s=r.$elm$=Ii.createTextNode(r.$text$);else if(r.$flags$&1)s=r.$elm$=Ii.createTextNode("");else{if(Ln||(Ln=r.$tag$==="svg"),s=r.$elm$=Ii.createElementNS(Ln?w9:x9,r.$flags$&2?"slot-fb":r.$tag$),Ln&&r.$tag$==="foreignObject"&&(Ln=!1),G$(null,r,Ln),k9(Ia)&&s["s-si"]!==Ia&&s.classList.add(s["s-si"]=Ia),r.$children$)for(o=0;o<r.$children$.length;++o)a=vp(t,r,o,s),a&&s.appendChild(a);r.$tag$==="svg"?Ln=!1:s.tagName==="foreignObject"&&(Ln=!0)}return s["s-hn"]=Lm,r.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=j$,s["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===r.$tag$&&t.$elm$&&Hu(t.$elm$,!1)),s},Hu=(t,e)=>{un.$flags$|=1;const n=t.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Lm&&r["s-ol"]&&(Q$(r).insertBefore(r,hx(r)),r["s-ol"].remove(),r["s-ol"]=void 0,ux=!0),e&&Hu(r,e)}un.$flags$&=-2},K$=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Lm&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=vp(null,n,r,t),a&&(i[r].$elm$=a,s.insertBefore(a,hx(e))))},Y$=(t,e,n,i,r)=>{for(;e<=n;++e)(i=t[e])&&(r=i.$elm$,Z$(i),gp=!0,r["s-ol"]?r["s-ol"].remove():Hu(r,!0),r.remove())},P9=(t,e,n,i)=>{let r=0,o=0,s=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],p,m;for(;r<=l&&o<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++o];else if(f==null)f=i[--d];else if(Hh(c,h))Ta(c,h),c=e[++r],h=i[++o];else if(Hh(u,f))Ta(u,f),u=e[--l],f=i[--d];else if(Hh(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&Hu(c.$elm$.parentNode,!1),Ta(c,f),t.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(Hh(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&Hu(u.$elm$.parentNode,!1),Ta(u,h),t.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++o];else{for(s=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){s=a;break}s>=0?(m=e[s],m.$tag$!==h.$tag$?p=vp(e&&e[o],n,s,t):(Ta(m,h),e[s]=void 0,p=m.$elm$),h=i[++o]):(p=vp(e&&e[o],n,o,t),h=i[++o]),p&&Q$(c.$elm$).insertBefore(p,hx(c.$elm$))}r>l?K$(t,i[d+1]==null?null:i[d+1].$elm$,n,i,o,d):o>d&&Y$(e,r,l)},Hh=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,hx=t=>t&&t["s-ol"]||t,Q$=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ta=(t,e)=>{const n=e.$elm$=t.$elm$,i=t.$children$,r=e.$children$,o=e.$tag$,s=e.$text$;let a;s===null?(Ln=o==="svg"?!0:o==="foreignObject"?!1:Ln,o==="slot"||G$(t,e,Ln),i!==null&&r!==null?P9(n,i,e,r):r!==null?(t.$text$!==null&&(n.textContent=""),K$(n,null,e,r,0,r.length-1)):i!==null&&Y$(i,0,i.length-1),Ln&&o==="svg"&&(Ln=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},X$=t=>{const e=t.childNodes;let n,i,r,o,s,a;for(i=0,r=e.length;i<r;i++)if(n=e[i],n.nodeType===1){if(n["s-sr"]){for(s=n["s-sn"],n.hidden=!1,o=0;o<r;o++)if(a=e[o].nodeType,e[o]["s-hn"]!==n["s-hn"]||s!==""){if(a===1&&s===e[o].getAttribute("slot")){n.hidden=!0;break}}else if(a===1||a===3&&e[o].textContent.trim()!==""){n.hidden=!0;break}}X$(n)}},yi=[],J$=t=>{let e,n,i,r,o,s,a=0;const l=t.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,r=e["s-sn"],s=i.length-1;s>=0;s--)n=i[s],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==e["s-hn"]&&(YE(n,r)?(o=yi.find(u=>u.$nodeToRelocate$===n),gp=!0,n["s-sn"]=n["s-sn"]||r,o?o.$slotRefNode$=e:yi.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&yi.map(u=>{YE(u.$nodeToRelocate$,n["s-sn"])&&(o=yi.find(d=>d.$nodeToRelocate$===n),o&&!u.$slotRefNode$&&(u.$slotRefNode$=o.$slotRefNode$))})):yi.some(u=>u.$nodeToRelocate$===n)||yi.push({$nodeToRelocate$:n}));e.nodeType===1&&J$(e)}},YE=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",Z$=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(Z$)},O9=(t,e)=>{const n=t.$hostElement$,i=t.$cmpMeta$,r=t.$vnode$||bp(null,null),o=E9(e)?e:cu(null,null,e);Lm=n.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=n[s])),o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=r.$elm$=n.shadowRoot||n,Ia=n["s-sc"],j$=n["s-cr"],H$=(i.$flags$&1)!==0,gp=!1,Ta(r,o);{if(un.$flags$|=1,ux){J$(o.$elm$);let s,a,l,c,u,d,h=0;for(;h<yi.length;h++)s=yi[h],a=s.$nodeToRelocate$,a["s-ol"]||(l=Ii.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<yi.length;h++)if(s=yi[h],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,u=s.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}gp&&X$(o.$elm$),un.$flags$&=-2,yi.length=0}},N9=(t,e)=>{},eD=(t,e)=>(t.$flags$|=16,N9(t,t.$ancestorComponent$),s8(()=>L9(t,e))),L9=(t,e)=>{const n=t.$hostElement$,i=Ls("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;let o;return e?o=il(r,"componentWillLoad"):o=il(r,"componentWillUpdate"),o=QE(o,()=>il(r,"componentWillRender")),i(),QE(o,()=>M9(t,r,e))},M9=async(t,e,n)=>{const i=t.$hostElement$,r=Ls("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&D9(t);const o=Ls("render",t.$cmpMeta$.$tagName$);F9(t,e,i),o(),r(),z9(t)},F9=(t,e,n)=>{try{VE=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Sa.hasRenderFn||Sa.reflect)&&(Sa.vdomRender||Sa.reflect)&&(Sa.hydrateServerSide||O9(t,e))}catch(a){Nd(a,t.$hostElement$)}return VE=null,null},z9=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=Ls("postUpdate",e),r=n;t.$ancestorComponent$,il(r,"componentDidRender"),t.$flags$&64?(il(r,"componentDidUpdate"),i()):(t.$flags$|=64,il(r,"componentDidLoad"),i())},il=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Nd(i)}},QE=(t,e)=>t&&t.then?t.then(e):e(),B9=(t,e)=>Mm(t).$instanceValues$.get(e),U9=(t,e,n,i)=>{const r=Mm(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=T9(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Nd(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;eD(r,!1)}}}},V9=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const i=Object.entries(e.$members$),r=t.prototype;i.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(r,o,{get(){return B9(this,o)},set(a){U9(this,o,a,e)},configurable:!0,enumerable:!0})});{const o=new Map;r.attributeChangedCallback=function(s,a,l){un.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},t.observedAttributes=i.filter(([s,a])=>a[0]&15).map(([s,a])=>{const l=a[1]||s;return o.set(l,s),a[0]&512&&e.$attrsToReflect$.push([s,l]),l})}}return t},j9=async(t,e,n,i,r)=>{if(!(e.$flags$&32)&&(r=t.constructor,e.$flags$|=32,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),r.style)){let s=r.style;typeof s!="string"&&(s=s[e.$modeName$=I9(t)]);const a=W$(n,e.$modeName$);if(!yp.has(a)){const l=Ls("registerStyles",n.$tagName$);A9(a,s,!!(n.$flags$&1)),l()}}e.$ancestorComponent$,(()=>eD(e,!0))()},H9=t=>{},q9=t=>{if(!(un.$flags$&1)){const e=Mm(t),n=e.$cmpMeta$,i=Ls("connectedCallback",n.$tagName$);e.$flags$&1?(tD(t,e,n.$listeners$),H9(e.$lazyInstance$)):(e.$flags$|=1,n.$flags$&12&&W9(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),j9(t,e,n)),i()}},W9=t=>{const e=t["s-cr"]=Ii.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},G9=t=>{if(!(un.$flags$&1)){const e=Mm(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},K9=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){J9(this,n)},connectedCallback(){q9(this),i&&i.call(this)},disconnectedCallback(){G9(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,V9(t,n)},tD=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=Q9(t,r),l=Y9(e,s),c=X9(r);un.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>un.rel(a,o,l,c))})},Y9=(t,e)=>n=>{try{Sa.lazyLoad||t.$hostElement$[e](n)}catch(i){Nd(i)}},Q9=(t,e)=>e&4?Ii:e&8?Ld:e&16?Ii.body:t,X9=t=>t8?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,nD=new WeakMap,Mm=t=>nD.get(t),J9=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return tD(t,n,e.$listeners$),nD.set(t,n)},XE=(t,e)=>e in t,Nd=(t,e)=>(0,console.error)(t,e),yp=new Map,Z9=[],Ld=typeof window<"u"?window:{},Ii=Ld.document||{head:{}},e8=Ld.HTMLElement||class{},un={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},t8=(()=>{let t=!1;try{Ii.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),n8=t=>Promise.resolve(t),i8=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),JE=[],iD=[],r8=(t,e)=>n=>{t.push(n),By||(By=!0,e&&un.$flags$&4?o8(Uy):un.raf(Uy))},ZE=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Nd(n)}t.length=0},Uy=()=>{ZE(JE),ZE(iD),(By=JE.length>0)&&un.raf(Uy)},o8=t=>n8().then(t),s8=r8(iD,!0);let jb;const a8=()=>{if(typeof window>"u")return new Map;if(!jb){const t=window;t.Ionicons=t.Ionicons||{},jb=t.Ionicons.map=t.Ionicons.map||new Map}return jb},l8=t=>{let e=Hb(t.src);return e||(e=rD(t.name,t.icon,t.mode,t.ios,t.md),e?c8(e):t.icon&&(e=Hb(t.icon),e||(e=Hb(t.icon[t.mode]),e))?e:null)},c8=t=>{const e=a8().get(t);return e||y9(`svg/${t}.svg`)},rD=(t,e,n,i,r)=>(n=(n&&qh(n))==="ios"?"ios":"md",i&&n==="ios"?t=qh(i):r&&n==="md"?t=qh(r):(!t&&e&&!oD(e)&&(t=e),wp(t)&&(t=qh(t))),!wp(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Hb=t=>wp(t)&&(t=t.trim(),oD(t))?t:null,oD=t=>t.length>0&&/(\/|\.)/.test(t),wp=t=>typeof t=="string",qh=t=>t.toLowerCase(),u8=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},d8=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",h8=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),sD(n))return e.innerHTML}return""},sD=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(wp(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!sD(t.childNodes[e]))return!1}return!0},f8=t=>t.startsWith("data:image/svg+xml"),p8=t=>t.indexOf(";utf8,")!==-1,hs=new Map,eC=new Map;let qb;const m8=(t,e)=>{let n=eC.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(f8(t)&&p8(t)){qb||(qb=new DOMParser);const r=qb.parseFromString(t,"text/html").querySelector("svg");return r&&hs.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=h8(r)),hs.set(t,r||"")});hs.set(t,"")}),eC.set(t,n);else return hs.set(t,""),Promise.resolve();return n},g8=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",b8=K9(class extends e8{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=v8(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=u8(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,e,n){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(i.disconnect(),this.io=void 0,n())},{rootMargin:e});i.observe(t)}else n()}loadIcon(){if(this.isVisible){const t=l8(this);t&&(hs.has(t)?this.svgContent=hs.get(t):m8(t,this.sanitize).then(()=>this.svgContent=hs.get(t)))}this.iconName=rD(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:e,inheritedAttributes:n,el:i}=this,r=this.mode||"md",o=e?(e.includes("arrow")||e.includes("chevron"))&&t!==!1:!1,s=t||o;return cu(q$,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},y8(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&d8(i)})},n),this.svgContent?cu("div",{class:"icon-inner",innerHTML:this.svgContent}):cu("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return g8}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),v8=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",y8=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function w8(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,b8);break}})}const x8=w8,Fm=E.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),k8=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>t())}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>t())}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>t())}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>t()),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},aD=(t,e=[])=>{const n=ne.useContext(Fm),i=ne.useRef();i.current=i.current||Math.floor(Math.random()*1e6),ne.useEffect(()=>{t.id=i.current,n.onIonViewWillEnter(t)},e)},zi=E.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),fx=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),zm=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),Bm=(t,e,n={})=>{if(t instanceof Element){const i=_8(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const o=r.substring(2),s=o[0].toLowerCase()+o.substring(1);Md(s)||C8(t,s,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(zm(r),e[r])})}},_8=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,o=Wb(t),s=Wb(i?i.split(" "):[]),a=Wb(r?r.split(" "):[]),l=[];return o.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},E8=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Md=t=>{if(typeof document>"u")return!0;{const e="on"+E8(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},C8=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(s){n&&n.call(this,s)})},Wb=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},S8=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},Um=(...t)=>e=>{t.forEach(n=>{S8(n,e)})},I8=(t,e)=>{const n=(i,r)=>E.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,E.forwardRef(n)},T8=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},yt=(t,e,n,i)=>{i!==void 0&&i();const r=fx(t),o=class extends E.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){Bm(this.componentEl,this.props,s)}render(){const s=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=s,h=mt(s,["children","forwardedRef","style","className","ref"]);let f=Object.keys(h).reduce((m,y)=>{const g=h[y];if(y.indexOf("on")===0&&y[2]===y[2].toUpperCase()){const b=y.substring(2).toLowerCase();typeof document<"u"&&Md(b)&&(m[y]=g)}else{const b=typeof g;(b==="string"||b==="boolean"||b==="number")&&(m[zm(y)]=g)}return m},{});n&&(f=n(this.props,f));const p=Object.assign(Object.assign({},f),{ref:Um(l,this.setComponentElRef),style:c});return ne.createElement(t,p,a)}static get displayName(){return r}};return e&&(o.contextType=e),I8(o,r)},Wh=yt("ion-buttons",void 0,void 0,Dz),_l=yt("ion-content",void 0,void 0,Qz),A8=yt("ion-footer",void 0,void 0,VB),Mn=yt("ion-header",void 0,void 0,JB),rl=yt("ion-input",void 0,void 0,hU),fs=yt("ion-label",void 0,void 0,gU),$8=yt("ion-note",void 0,void 0,TU),D8=yt("ion-select",void 0,void 0,lV),Ce=yt("ion-select-option",void 0,void 0,fV),lD=yt("ion-spinner",void 0,void 0,pV),R8=yt("ion-text",void 0,void 0,vV),P8=yt("ion-title",void 0,void 0,_V),O8=yt("ion-toolbar",void 0,void 0,TV),na=(t,e)=>{const n=(i,r)=>E.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,E.forwardRef(n)},px=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},cD=(t,e)=>{T8(t,e);const n=fx(t),i=class extends E.Component{constructor(r){super(r),this.handleClick=o=>{const{routerLink:s,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;s!==void 0&&(o.preventDefault(),this.context.navigate(s,a,void 0,c,l))},this.ref=E.createRef(),this.stableMergedRefs=Um(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const o=this.ref.current;Bm(o,this.props,r)}render(){const r=this.props,{children:o,forwardedRef:s,style:a,className:l,ref:c}=r,u=mt(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((f,p)=>{if(p.indexOf("on")===0&&p[2]===p[2].toUpperCase()){const m=p.substring(2).toLowerCase();Md(m)&&(f[p]=u[p])}else["string","boolean","number"].includes(typeof u[p])&&(f[zm(p)]=u[p]);return f},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const f=h.onClick;h.onClick=p=>{f(p),p.defaultPrevented||this.handleClick(p)}}else h.onClick=this.handleClick;return ne.createElement(t,h,o)}static get displayName(){return n}static get contextType(){return zi}};return na(i,n)},Ji=cD("ion-button",AV),ps=cD("ion-item",$V),N8=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);Md(r)||L8(t,r)}})},L8=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},uD=(t,e,n)=>{e&&e();const i=fx(t),r=class extends E.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=E.createRef(),this.stableMergedRefs=Um(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=E.createRef()}componentDidMount(){var o,s,a;this.componentDidUpdate(this.props),(o=this.ref.current)===null||o===void 0||o.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)===null||s===void 0||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const s=this.ref.current;Bm(s,this.props,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),N8(o,this.props))}render(){const o=this.props,{children:s,forwardedRef:a,style:l,className:c,ref:u}=o,d=mt(o,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((m,y)=>{if(y.indexOf("on")===0&&y[2]===y[2].toUpperCase()){const g=y.substring(2).toLowerCase();Md(g)&&(m[y]=d[y])}else["string","boolean","number"].includes(typeof d[y])&&(m[zm(y)]=d[y]);return m},{}),f=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),p=()=>n?`${tC} ion-page`:tC;return ne.createElement("template",{},ne.createElement(t,f,this.state.isOpen||this.props.keepContentsMounted?ne.createElement("div",{ref:this.wrapperRef,className:p()},s):null))}static get displayName(){return i}};return na(r,i)},tC="ion-delegate-host",M8=uD("ion-loading",U$),F8=uD("ion-toast",V$),z8=E.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),B8=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=ne.useState({}),r=ne.useRef({});r.current=n,ne.useEffect(()=>{t(o),e(s)},[]);const o=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},i(d)},s=l=>{const c=Object.assign({},r.current);delete c[l],i(c)},a=Object.keys(n);return E.createElement(E.Fragment,null,a.map(l=>{const c=n[l];return VF.createPortal(c.component,c.containerElement,`overlay-${l}`)}))},U8=yt("ion-tab-button",void 0,void 0,v9),V8=yt("ion-tab-bar",void 0,void 0,f9),j8=yt("ion-back-button",void 0,void 0,r9),Vy=yt("ion-router-outlet",void 0,void 0,l9),H8=yt("ion-app",void 0,void 0,ZV),q8=yt("ion-icon",void 0,void 0,x8),W8=(()=>class extends E.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return E.createElement(z8.Provider,{value:this.ionContext},E.createElement(H8,Object.assign({},this.props),this.props.children),E.createElement(B8,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}})(),mx=E.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class gx extends E.PureComponent{constructor(e){super(e),this.ionPageElementRef=E.createRef(),this.stableMergedRefs=Um(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:i,routeInfo:r,forwardedRef:o}=e,s=mt(e,["className","children","routeInfo","forwardedRef"]);return E.createElement(Fm.Consumer,null,a=>(this.ionLifeCycleContext=a,E.createElement("div",Object.assign({className:n?`${n} ion-page`:"ion-page",ref:this.stableMergedRefs},s),i)))}static get contextType(){return mx}}class G8 extends E.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:i,forwardedRef:r}=e,o=mt(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?E.createElement(gx,Object.assign({className:n?`${n}`:"",routeInfo:this.context.routeInfo,forwardedRef:r},o),i):E.createElement("div",Object.assign({className:n?`ion-page ${n}`:"ion-page",ref:r},o),i)}static get displayName(){return"IonPage"}static get contextType(){return zi}}const El=na(G8,"IonPage"),K8=(t,e)=>{const n=new WeakMap;return{attachViewToDom:async(o,s,a,l)=>{const c=document.createElement("div");l&&c.classList.add(...l),o.appendChild(c);const u=s(a),d=Gw.createPortal(u,c);return n.set(c,d),t(d),Promise.resolve(c)},removeViewFromDom:(o,s)=>{const a=n.get(s);return a&&e(a),s.remove(),Promise.resolve()}}},Y8=yt("ion-nav",void 0,void 0,IU),Q8=t=>{var{children:e,forwardedRef:n}=t,i=mt(t,["children","forwardedRef"]);const[r,o]=ne.useState([]),s=c=>o(u=>[...u,c]),a=c=>o(u=>u.filter(d=>d!==c)),l=ne.useMemo(()=>K8(s,a),[]);return E.createElement(Y8,Object.assign({delegate:l,ref:n},i),r)};na(Q8,"IonNav");const X8=E.createContext({activeTab:void 0,selectTab:()=>!1}),J8=typeof HTMLElement<"u"?HTMLElement:class{};class Z8 extends E.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ps(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:i,routeInfo:r}=e,o=mt(e,["StackManager","children","routeInfo"]);return E.createElement(Fm.Consumer,null,s=>(this.ionLifeCycleContext=s,E.createElement(n,{routeInfo:r},E.createElement(Vy,Object.assign({setRef:a=>this.ionRouterOutlet=a},o),i))))}static get contextType(){return mx}}class ej extends E.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:r}=n,o=mt(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?E.createElement(Z8,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},o),i):E.createElement(e,{routeInfo:this.context.routeInfo},E.createElement(Vy,Object.assign({},o,{forwardedRef:r}),i)):E.createElement(Vy,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return zi}}const jy=na(ej,"IonRouterOutlet"),Jr=(()=>class extends E.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=mt(t,["onClick"]);return E.createElement(U8,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class tj extends E.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};E.Children.forEach(e.children,i=>{var r,o,s,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Jr||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions:void 0,currentRouteOptions:i.props.href===((s=e.routeInfo)===null||s===void 0?void 0:s.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const o=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(o)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var i,r,o;const s=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});E.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Jr||u.type.isTabButton)){const d=s[u.props.tab];(!d||d.originalHref!==u.props.href)&&(s[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(s[l]={originalHref:s[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:s[l].originalRouteOptions,currentRouteOptions:(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(s[c]={originalHref:s[c].originalHref,currentHref:s[c].originalHref,originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:s[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:s}}onTabButtonClick(e,n){const i=this.state.tabs[e.detail.tab],r=i.originalHref,o=e.detail.href,{activeTab:s}=this.state;n&&n(e),s===e.detail.tab?r!==o&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===Jr||n.type.isTabButton)){const o=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return E.cloneElement(n,{href:o,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return E.createElement(V8,Object.assign({},this.props,{selectedTab:e}),E.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return zi}}const nj=E.memo(t=>{var{forwardedRef:e}=t,n=mt(t,["forwardedRef"]);const i=ne.useContext(zi);return E.createElement(tj,Object.assign({ref:e},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),n.children)}),Hy=na(nj,"IonTabBar");class ij extends J8{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",ij));const nC={display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",flexDirection:"column",width:"100%",height:"100%",contain:"layout size style"},iC={position:"relative",flex:1,contain:"layout size style"},rj=(()=>class extends E.Component{constructor(t){super(t),this.routerOutletRef=E.createRef(),this.tabBarRef=E.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=t=>{this.ionTabContextState.activeTab=t},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}render(){let t,e;const n=this.props,{className:i,onIonTabsDidChange:r,onIonTabsWillChange:o}=n,s=mt(n,["className","onIonTabsDidChange","onIonTabsWillChange"]),a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(E.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===jy||l.type.isRouterOutlet?t=E.cloneElement(l):l.type===ne.Fragment&&l.props.children[0].type===jy&&(t=l.props.children[0]);let c={ref:this.tabBarRef};r!==void 0&&(c=Object.assign(Object.assign({},c),{onIonTabsDidChange:r})),o!==void 0&&(c=Object.assign(Object.assign({},c),{onIonTabsWillChange:o})),l.type===Hy||l.type.isTabBar?e=E.cloneElement(l,c):l.type===ne.Fragment&&(l.props.children[1].type===Hy||l.props.children[1].type.isTabBar)&&(e=E.cloneElement(l.props.children[1],c))}),!t)throw new Error("IonTabs must contain an IonRouterOutlet");if(!e)throw new Error("IonTabs needs a IonTabBar");return E.createElement(X8.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?E.createElement(gx,Object.assign({className:i?`${i}`:"",routeInfo:this.context.routeInfo},s),E.createElement("ion-tabs",{className:"ion-tabs",style:nC},e.props.slot==="top"?e:null,E.createElement("div",{style:iC,className:"tabs-inner"},t),e.props.slot==="bottom"?e:null)):E.createElement("div",Object.assign({className:i?`${i}`:"ion-tabs"},s,{style:nC}),e.props.slot==="top"?e:null,E.createElement("div",{style:iC,className:"tabs-inner"},t),e.props.slot==="bottom"?e:null))}static get contextType(){return zi}})(),oj=(()=>class extends E.Component{constructor(){super(...arguments),this.clickButton=t=>{if(t.target&&t.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(t.stopPropagation(),this.context.goBack(e,n)):e!==void 0&&(window.location.href=e)}}render(){return E.createElement(j8,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return zi}})();class sj extends E.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const i=this.props,{icon:r,ios:o,md:s,mode:a}=i,l=mt(i,["icon","ios","md","mode"]);let c;const u=px(),d=a||(u==null?void 0:u.get("mode"));return o||s?d==="ios"?c=(e=o!=null?o:s)!==null&&e!==void 0?e:r:c=(n=s!=null?s:o)!==null&&n!==void 0?n:r:c=r,E.createElement(q8,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return zi}}const Vi=na(sj,"IonIcon");class bx extends E.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!bx?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):E.createElement(e,Object.assign({},this.props))}static get contextType(){return zi}}class dD extends E.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!dD?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):E.createElement(e,Object.assign({},this.props))}static get contextType(){return zi}}const hD=E.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Vm(){const t=ne.useContext(hD);return ne.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class fre extends E.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Z(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),rC(n,e),oC(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;rC(n,i,e),aj(n,i,e),oC(n,i,e)}render(){const{children:e}=this.props;return E.createElement(E.Fragment,null,E.Children.map(e,(n,i)=>E.cloneElement(n,{ref:r=>this.nodes.set(i,r)})))}}const rC=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},aj=(t,e={},n={})=>{var i,r,o,s,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=n.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((o=n.progressStep)===null||o===void 0?void 0:o.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((s=n.progressEnd)===null||s===void 0?void 0:s.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},oC=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};function fD(t,e,n){const i=ne.useRef(),r=ne.useMemo(()=>`on${t}DidDismiss`,[t]),o=ne.useMemo(()=>`on${t}DidPresent`,[t]),s=ne.useMemo(()=>`on${t}WillDismiss`,[t]),a=ne.useMemo(()=>`on${t}WillPresent`,[t]);n();const l=ne.useCallback(async u=>{if(i.current)return;const{onDidDismiss:d,onWillDismiss:h,onDidPresent:f,onWillPresent:p}=u,m=mt(u,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]),y=g=>{d&&d(g),i.current=void 0};i.current=await e.create(Object.assign({},m)),Bm(i.current,{[r]:y,[o]:g=>f&&f(g),[s]:g=>h&&h(g),[a]:g=>p&&p(g)}),i.current.present()},[e]),c=ne.useCallback(async()=>{i.current&&await i.current.dismiss(),i.current=void 0},[]);return{present:l,dismiss:c}}function lj(){const t=fD("IonToast",K5,V$);return[ne.useCallback((n,i)=>typeof n=="string"?t.present({message:n,duration:i}):t.present(n),[t.present]),t.dismiss]}const sC={main:0},xp=(t="main")=>{var e;const n=((e=sC[t])!==null&&e!==void 0?e:0)+1;return sC[t]=n,n.toString()};function cj(){const t=fD("IonLoading",W5,U$);return[ne.useCallback((n={},i,r)=>typeof n=="string"?t.present({message:n,duration:i,spinner:r}):t.present(n),[t.present]),t.dismiss]}const uj=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),P5(Object.assign({},t))},pD=E.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class aC extends E.Component{constructor(e){super(e),this.ionLifeCycleContext=new k8,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return E.createElement(Fm.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class dj{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(r=>r.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(o=>o.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const r=n[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class hj extends E.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,o,s)=>{this.navigate(n,i,r,s,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,o,s){this.props.onNavigate(e,i,n,r,o,s)}getPageManager(){return gx}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return E.createElement(zi.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},E.createElement(hD.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class fj{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const r=i.find(o=>o.id===e.id);r&&(r.mount=!1,this.viewStacks[n]=i.filter(o=>o.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const pj=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(o,s)=>{n.platforms.set(o,s)},r=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=i,n.setPlatform=r,n},mj=t=>t.CapacitorPlatforms=pj(t),mD=mj(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});mD.addPlatform;mD.setPlatform;var Cl;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Cl||(Cl={}));class Gb extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const gj=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},bj=t=>{var e,n,i,r,o;const s=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,u=()=>s!==null?s.name:gj(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",f=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,p=x=>{const S=k.get(x);return!!(S!=null&&S.platforms.has(d())||g(x))},m=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||p,y=x=>{var S;return(S=a.PluginHeaders)===null||S===void 0?void 0:S.find(G=>G.name===x)},g=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||y,b=x=>t.console.error(x),v=(x,S,G)=>Promise.reject(`${G} does not have an implementation of "${S}".`),k=new Map,$=(x,S={})=>{const G=k.get(x);if(G)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),G.proxy;const M=d(),L=g(x);let Q;const Oe=async()=>(!Q&&M in S?Q=typeof S[M]=="function"?Q=await S[M]():Q=S[M]:s!==null&&!Q&&"web"in S&&(Q=typeof S.web=="function"?Q=await S.web():Q=S.web),Q),Ae=(D,V)=>{var W,ie;if(L){const ce=L==null?void 0:L.methods.find(se=>V===se.name);if(ce)return ce.rtype==="promise"?se=>a.nativePromise(x,V.toString(),se):(se,Fe)=>a.nativeCallback(x,V.toString(),se,Fe);if(D)return(W=D[V])===null||W===void 0?void 0:W.bind(D)}else{if(D)return(ie=D[V])===null||ie===void 0?void 0:ie.bind(D);throw new Gb(`"${x}" plugin is not implemented on ${M}`,Cl.Unimplemented)}},Ne=D=>{let V;const W=(...ie)=>{const ce=Oe().then(se=>{const Fe=Ae(se,D);if(Fe){const Ve=Fe(...ie);return V=Ve==null?void 0:Ve.remove,Ve}else throw new Gb(`"${x}.${D}()" is not implemented on ${M}`,Cl.Unimplemented)});return D==="addListener"&&(ce.remove=async()=>V()),ce};return W.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(W,"name",{value:D,writable:!1,configurable:!1}),W},Ee=Ne("addListener"),ze=Ne("removeListener"),F=(D,V)=>{const W=Ee({eventName:D},V),ie=async()=>{const se=await W;ze({eventName:D,callbackId:se},V)},ce=new Promise(se=>W.then(()=>se({remove:ie})));return ce.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ie()},ce},N=new Proxy({},{get(D,V){switch(V){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?F:Ee;case"removeListener":return ze;default:return Ne(V)}}});return l[x]=N,k.set(x,{name:x,proxy:N,platforms:new Set([...Object.keys(S),...L?[M]:[]])}),N},_=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||$;return a.convertFileSrc||(a.convertFileSrc=x=>x),a.getPlatform=d,a.handleError=b,a.isNativePlatform=f,a.isPluginAvailable=m,a.pluginMethodNoop=v,a.registerPlugin=_,a.Exception=Gb,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},vj=t=>t.Capacitor=bj(t),Rr=vj(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),lr=Rr.registerPlugin;Rr.Plugins;class gD{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const o=async()=>this.removeListener(e,n),s=Promise.resolve({remove:o});return Object.defineProperty(s,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),s}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n){const i=this.listeners[e];i&&i.forEach(r=>r(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new Rr.Exception(e,Cl.Unimplemented)}unavailable(e="not available"){return new Rr.Exception(e,Cl.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const r=i.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const lC=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),cC=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class yj extends gD{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=cC(r).trim(),o=cC(o).trim(),n[r]=o}),n}async setCookie(e){try{const n=lC(e.key),i=lC(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${r}; path=${o}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}lr("CapacitorCookies",{web:()=>new yj});const wj=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(t)}),xj=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,o,s)=>(r[o]=t[e[s]],r),{})},kj=(t,e=!0)=>t?Object.entries(t).reduce((i,r)=>{const[o,s]=r;let a,l;return Array.isArray(s)?(l="",s.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${o}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(s):s,l=`${o}=${a}`),`${i}&${l}`},"").substr(1):null,_j=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=xj(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[s,a]of Object.entries(t.data||{}))o.set(s,a);n.body=o.toString()}else if(r.includes("multipart/form-data")){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{o.append(l,a)});else for(const a of Object.keys(t.data))o.append(a,t.data[a]);n.body=o;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Ej extends gD{async request(e){const n=_j(e,e.webFetchExtra),i=kj(e.params,e.shouldEncodeUrlParams),r=i?`${e.url}?${i}`:e.url,o=await fetch(r,n),s=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};s.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await o.blob(),l=await wj(c);break;case"json":l=await o.json();break;case"document":case"text":default:l=await o.text()}const u={};return o.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}lr("CapacitorHttp",{web:()=>new Ej});const Cj=lr("Network",{web:()=>pn(()=>import("./web-10e6de2b.js"),[]).then(t=>new t.NetworkWeb)});var kp;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(kp||(kp={}));var Sl;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(Sl||(Sl={}));const Rn=lr("Keyboard");var _p;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(_p||(_p={}));var uC;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(uC||(uC={}));const bD=lr("StatusBar");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw Xl(e)},Xl=function(t){return new Error("Firebase Database ("+vD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Sj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],s=t[n++],a=t[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Sj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||c==null||d==null)throw new Ij;const h=o<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ij extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wD=function(t){const e=yD(t);return vx.encodeByteArray(e,!0)},Ep=function(t){return wD(t).replace(/\./g,"")},Cp=function(t){try{return vx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){return qu(void 0,t)}function qu(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Aj(n)||(t[n]=qu(t[n],e[n]));return t}function Aj(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=()=>$j().__FIREBASE_DEFAULTS__,Rj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Cp(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return Dj()||Rj()||Pj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xD=t=>{var e,n;return(n=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hm=t=>{const e=xD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},kD=()=>{var t;return(t=jm())===null||t===void 0?void 0:t.config},_D=t=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ep(JSON.stringify(n)),Ep(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function Oj(){var t;const e=(t=jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function Nj(){return typeof self=="object"&&self.self===self}function Lj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mj(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CD(){return vD.NODE_ADMIN===!0}function Fj(){return!Oj()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SD(){try{return typeof indexedDB=="object"}catch(t){return!1}}function zj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="FirebaseError";class di extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Bj,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?Uj(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new di(r,a,i)}}function Uj(t,e){return t.replace(Vj,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Vj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return JSON.parse(t)}function Wt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Wu(Cp(o[0])||""),n=Wu(Cp(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},jj=function(t){const e=ID(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Hj=function(t){const e=ID(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Il(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sp(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Ip(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],s=e[r];if(dC(o)&&dC(s)){if(!Ip(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function dC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function TD(t,e){const n=new Wj(t,e);return n.subscribe.bind(n)}class Wj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Gj(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Kb),r.error===void 0&&(r.error=Kb),r.complete===void 0&&(r.complete=Kb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(s){}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kb(){}function Kj(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,j(i<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},qm=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jj(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch(o){}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Xj(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xj(t){return t===Zo?void 0:t}function Jj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=[];var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const AD={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},eH=pe.INFO,tH={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},nH=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=tH[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=eH,this._logHandler=nH,this._userLogHandler=null,kx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}function iH(t){kx.forEach(e=>{e.setLogLevel(t)})}function rH(t,e){for(const n of kx){let i=null;e&&e.level&&(i=AD[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...s)=>{const a=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");o>=(i!=null?i:r.logLevel)&&t({level:pe[o].toLowerCase(),message:a,args:s,type:r.name})}}}const oH=(t,e)=>e.some(n=>t instanceof n);let hC,fC;function sH(){return hC||(hC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aH(){return fC||(fC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $D=new WeakMap,Wy=new WeakMap,DD=new WeakMap,Yb=new WeakMap,_x=new WeakMap;function lH(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bo(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$D.set(n,t)}).catch(()=>{}),_x.set(e,t),e}function cH(t){if(Wy.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Wy.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uH(t){Gy=t(Gy)}function dH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Qb(this),e,...n);return DD.set(i,e.sort?e.sort():[e]),bo(i)}:aH().includes(t)?function(...e){return t.apply(Qb(this),e),bo($D.get(this))}:function(...e){return bo(t.apply(Qb(this),e))}}function hH(t){return typeof t=="function"?dH(t):(t instanceof IDBTransaction&&cH(t),oH(t,sH())?new Proxy(t,Gy):t)}function bo(t){if(t instanceof IDBRequest)return lH(t);if(Yb.has(t))return Yb.get(t);const e=hH(t);return e!==t&&(Yb.set(t,e),_x.set(e,t)),e}const Qb=t=>_x.get(t);function fH(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),a=bo(s);return i&&s.addEventListener("upgradeneeded",l=>{i(bo(s.result),l.oldVersion,l.newVersion,bo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pH=["get","getKey","getAll","getAllKeys","count"],mH=["put","add","delete","clear"],Xb=new Map;function pC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xb.get(e))return Xb.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=mH.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||pH.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Xb.set(e,o),o}uH(t=>({...t,get:(e,n,i)=>pC(e,n)||t.get(e,n,i),has:(e,n)=>!!pC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bH(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",mC="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Fd("@firebase/app"),vH="@firebase/app-compat",yH="@firebase/analytics-compat",wH="@firebase/analytics",xH="@firebase/app-check-compat",kH="@firebase/app-check",_H="@firebase/auth",EH="@firebase/auth-compat",CH="@firebase/database",SH="@firebase/database-compat",IH="@firebase/functions",TH="@firebase/functions-compat",AH="@firebase/installations",$H="@firebase/installations-compat",DH="@firebase/messaging",RH="@firebase/messaging-compat",PH="@firebase/performance",OH="@firebase/performance-compat",NH="@firebase/remote-config",LH="@firebase/remote-config-compat",MH="@firebase/storage",FH="@firebase/storage-compat",zH="@firebase/firestore",BH="@firebase/firestore-compat",UH="firebase",VH="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]",jH={[Ky]:"fire-core",[vH]:"fire-core-compat",[wH]:"fire-analytics",[yH]:"fire-analytics-compat",[kH]:"fire-app-check",[xH]:"fire-app-check-compat",[_H]:"fire-auth",[EH]:"fire-auth-compat",[CH]:"fire-rtdb",[SH]:"fire-rtdb-compat",[IH]:"fire-fn",[TH]:"fire-fn-compat",[AH]:"fire-iid",[$H]:"fire-iid-compat",[DH]:"fire-fcm",[RH]:"fire-fcm-compat",[PH]:"fire-perf",[OH]:"fire-perf-compat",[NH]:"fire-rc",[LH]:"fire-rc-compat",[MH]:"fire-gcs",[FH]:"fire-gcs-compat",[zH]:"fire-fst",[BH]:"fire-fst-compat","fire-js":"fire-js",[UH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Map,Gu=new Map;function Tp(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function RD(t,e){t.container.addOrOverwriteComponent(e)}function Pi(t){const e=t.name;if(Gu.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Gu.set(e,t);for(const n of _o.values())Tp(n,t);return!0}function zo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function HH(t,e,n=ko){zo(t,e).clearInstance(n)}function qH(){Gu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cr=new ia("app","Firebase",WH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GH=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=VH;function Wm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ko,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Cr.create("bad-app-name",{appName:String(r)});if(n||(n=kD()),!n)throw Cr.create("no-options");const o=_o.get(r);if(o){if(Ip(n,o.options)&&Ip(i,o.config))return o;throw Cr.create("duplicate-app",{appName:r})}const s=new Zj(r);for(const l of Gu.values())s.addComponent(l);const a=new GH(n,i,s);return _o.set(r,a),a}function Zl(t=ko){const e=_o.get(t);if(!e&&t===ko&&kD())return Wm();if(!e)throw Cr.create("no-app",{appName:t});return e}function KH(){return Array.from(_o.values())}async function PD(t){const e=t.name;_o.has(e)&&(_o.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Yt(t,e,n){var i;let r=(i=jH[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(a.join(" "));return}Pi(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function OD(t,e){if(t!==null&&typeof t!="function")throw Cr.create("invalid-log-argument");rH(t,e)}function ND(t){iH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="firebase-heartbeat-database",QH=1,Ku="firebase-heartbeat-store";let Jb=null;function LD(){return Jb||(Jb=fH(YH,QH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ku)}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Jb}async function XH(t){try{return await(await LD()).transaction(Ku).objectStore(Ku).get(MD(t))}catch(e){if(e instanceof di)Ms.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function gC(t,e){try{const i=(await LD()).transaction(Ku,"readwrite");await i.objectStore(Ku).put(e,MD(t)),await i.done}catch(n){if(n instanceof di)Ms.warn(n.message);else{const i=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(i.message)}}}function MD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=1024,ZH=30*24*60*60*1e3;class eq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nq(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const o=new Date(r.date).valueOf();return Date.now()-o<=ZH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bC(),{heartbeatsToSend:n,unsentEntries:i}=tq(this._heartbeatsCache.heartbeats),r=Ep(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function bC(){return new Date().toISOString().substring(0,10)}function tq(t,e=JH){const n=[];let i=t.slice();for(const r of t){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),vC(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),vC(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?zj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await XH(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return gC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vC(t){return Ep(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t){Pi(new li("platform-logger",e=>new gH(e),"PRIVATE")),Pi(new li("heartbeat",e=>new eq(e),"PRIVATE")),Yt(Ky,mC,t),Yt(Ky,mC,"esm2017"),Yt("fire-js","")}iq("");const rq=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:di,SDK_VERSION:cr,_DEFAULT_ENTRY_NAME:ko,_addComponent:Tp,_addOrOverwriteComponent:RD,_apps:_o,_clearComponents:qH,_components:Gu,_getProvider:zo,_registerComponent:Pi,_removeServiceInstance:HH,deleteApp:PD,getApp:Zl,getApps:KH,initializeApp:Wm,onLog:OD,registerVersion:Yt,setLogLevel:ND},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this._delegate=e,this.firebase=n,Tp(e,new li("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),PD(this._delegate)))}_getService(e,n=ko){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ko){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Tp(this._delegate,e)}_addOrOverwriteComponent(e){RD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},yC=new ia("app-compat","Firebase",sq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){const e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:Yt,setLogLevel:ND,onLog:OD,apps:null,SDK_VERSION:cr,INTERNAL:{registerComponent:a,removeApp:i,useAsService:l,modularAPIs:rq}};n.default=n,Object.defineProperty(n,"apps",{get:s});function i(c){delete e[c]}function r(c){if(c=c||ko,!Ri(e,c))throw yC.create("no-app",{appName:c});return e[c]}r.App=t;function o(c,u={}){const d=Wm(c,u);if(Ri(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function s(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Pi(c)&&c.type==="PUBLIC"){const h=(f=r())=>{if(typeof f[d]!="function")throw yC.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&qu(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){const t=aq(oq);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:FD,extendNamespace:e,createSubscribe:TD,ErrorFactory:ia,deepExtend:qu});function e(n){qu(t,n)}return t}const lq=FD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Fd("@firebase/app-compat"),cq="@firebase/app-compat",uq="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t){Yt(cq,uq,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Nj()&&self.firebase!==void 0){wC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&wC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const hq=lq;dq();var fq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Ex=Ex||{},oe=fq||self;function Gm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function zd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pq(t){return Object.prototype.hasOwnProperty.call(t,Zb)&&t[Zb]||(t[Zb]=++mq)}var Zb="closure_uid_"+(1e9*Math.random()>>>0),mq=0;function gq(t,e,n){return t.call.apply(t.bind,arguments)}function bq(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=gq:an=bq,an.apply(null,arguments)}function Gh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Bo(){this.s=this.s,this.o=this.o}var vq=0;Bo.prototype.s=!1;Bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vq!=0)&&pq(this)};Bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Cx(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function xC(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Gm(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var yq=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch(n){}return t}();function Yu(t){return/^[\s\xa0]*$/.test(t)}function Km(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Hi(t){return Km().indexOf(t)!=-1}function Sx(t){return Sx[" "](t),t}Sx[" "]=function(){};function wq(t,e){var n=hW;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xq=Hi("Opera"),Tl=Hi("Trident")||Hi("MSIE"),BD=Hi("Edge"),Yy=BD||Tl,UD=Hi("Gecko")&&!(Km().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge"))&&!(Hi("Trident")||Hi("MSIE"))&&!Hi("Edge"),kq=Km().toLowerCase().indexOf("webkit")!=-1&&!Hi("Edge");function VD(){var t=oe.document;return t?t.documentMode:void 0}var Qy;e:{var ev="",tv=function(){var t=Km();if(UD)return/rv:([^\);]+)(\)|;)/.exec(t);if(BD)return/Edge\/([\d\.]+)/.exec(t);if(Tl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kq)return/WebKit\/(\S+)/.exec(t);if(xq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tv&&(ev=tv?tv[1]:""),Tl){var nv=VD();if(nv!=null&&nv>parseFloat(ev)){Qy=String(nv);break e}}Qy=ev}var Xy;if(oe.document&&Tl){var kC=VD();Xy=kC||parseInt(Qy,10)||void 0}else Xy=void 0;var _q=Xy;function Qu(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(UD){e:{try{Sx(e.nodeName);var r=!0;break e}catch(o){}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Eq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qu.$.h.call(this)}}Ft(Qu,ln);var Eq={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bd="closure_listenable_"+(1e6*Math.random()|0),Cq=0;function Sq(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Cq,this.fa=this.ia=!1}function Ym(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ix(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function Iq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jD(t){const e={};for(const n in t)e[n]=t[n];return e}const _C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HD(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<_C.length;o++)n=_C[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Qm(t){this.src=t,this.g={},this.h=0}Qm.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Zy(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Sq(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function Jy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=zD(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Ym(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zy(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Tx="closure_lm_"+(1e6*Math.random()|0),iv={};function qD(t,e,n,i,r){if(i&&i.once)return GD(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qD(t,e[o],n,i,r);return null}return n=Dx(n),t&&t[Bd]?t.O(e,n,zd(i)?!!i.capture:!!i,r):WD(t,e,n,!1,i,r)}function WD(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=zd(r)?!!r.capture:!!r,a=$x(t);if(a||(t[Tx]=a=new Qm(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=Tq(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)yq||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(YD(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Tq(){function t(n){return e.call(t.src,t.listener,n)}const e=Aq;return t}function GD(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)GD(t,e[o],n,i,r);return null}return n=Dx(n),t&&t[Bd]?t.P(e,n,zd(i)?!!i.capture:!!i,r):WD(t,e,n,!0,i,r)}function KD(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)KD(t,e[o],n,i,r);else i=zd(i)?!!i.capture:!!i,n=Dx(n),t&&t[Bd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Zy(o,n,i,r),-1<n&&(Ym(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=$x(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zy(e,n,i,r)),(n=-1<t?e[t]:null)&&Ax(n))}function Ax(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bd])Jy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(YD(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=$x(e))?(Jy(n,t),n.h==0&&(n.src=null,e[Tx]=null)):Ym(t)}}}function YD(t){return t in iv?iv[t]:iv[t]="on"+t}function Aq(t,e){if(t.fa)t=!0;else{e=new Qu(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Ax(t),t=n.call(i,e)}return t}function $x(t){return t=t[Tx],t instanceof Qm?t:null}var rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dx(t){return typeof t=="function"?t:(t[rv]||(t[rv]=function(e){return t.handleEvent(e)}),t[rv])}function Mt(){Bo.call(this),this.i=new Qm(this),this.S=this,this.J=null}Ft(Mt,Bo);Mt.prototype[Bd]=!0;Mt.prototype.removeEventListener=function(t,e,n,i){KD(this,t,e,n,i)};function Qt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var r=e;e=new ln(i,t),HD(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=Kh(s,i,!0,e)&&r}if(s=e.g=t,r=Kh(s,i,!0,e)&&r,r=Kh(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=Kh(s,i,!1,e)&&r}Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Ym(n[i]);delete t.g[e],t.h--}}this.J=null};Mt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Mt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Kh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Jy(t.i,s),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Rx=oe.JSON.stringify;class $q{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Dq(){var t=Px;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Rq{constructor(){this.h=this.g=null}add(e,n){const i=QD.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var QD=new $q(()=>new Pq,t=>t.reset());class Pq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Oq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Nq(t){oe.setTimeout(()=>{throw t},0)}let Xu,Ju=!1,Px=new Rq,XD=()=>{const t=oe.Promise.resolve(void 0);Xu=()=>{t.then(Lq)}};var Lq=()=>{for(var t;t=Dq();){try{t.h.call(t.g)}catch(n){Nq(n)}var e=QD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ju=!1};function Xm(t,e){Mt.call(this),this.h=t||1,this.g=e||oe,this.j=an(this.qb,this),this.l=Date.now()}Ft(Xm,Mt);q=Xm.prototype;q.ga=!1;q.T=null;q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(Ox(this),this.start()))}};q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ox(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}q.N=function(){Xm.$.N.call(this),Ox(this),delete this.g};function Nx(t,e,n){if(typeof t=="function")n&&(t=an(t,n));else if(t&&typeof t.handleEvent=="function")t=an(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function JD(t){t.g=Nx(()=>{t.g=null,t.i&&(t.i=!1,JD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Mq extends Bo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JD(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zu(t){Bo.call(this),this.h=t,this.g={}}Ft(Zu,Bo);var EC=[];function ZD(t,e,n,i){Array.isArray(n)||(n&&(EC[0]=n.toString()),n=EC);for(var r=0;r<n.length;r++){var o=qD(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function eR(t){Ix(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ax(e)},t),t.g={}}Zu.prototype.N=function(){Zu.$.N.call(this),eR(this)};Zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jm(){this.g=!0}Jm.prototype.Ea=function(){this.g=!1};function Fq(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function zq(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function Ha(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Uq(t,n)+(i?" "+i:"")})}function Bq(t,e){t.info(function(){return"TIMEOUT: "+e})}Jm.prototype.info=function(){};function Uq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Rx(n)}catch(a){return e}}var ra={},CC=null;function Zm(){return CC=CC||new Mt}ra.Ta="serverreachability";function tR(t){ln.call(this,ra.Ta,t)}Ft(tR,ln);function ed(t){const e=Zm();Qt(e,new tR(e))}ra.STAT_EVENT="statevent";function nR(t,e){ln.call(this,ra.STAT_EVENT,t),this.stat=e}Ft(nR,ln);function mn(t){const e=Zm();Qt(e,new nR(e,t))}ra.Ua="timingevent";function iR(t,e){ln.call(this,ra.Ua,t),this.size=e}Ft(iR,ln);function Ud(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var eg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lx(){}Lx.prototype.h=null;function SC(t){return t.h||(t.h=t.i())}function oR(){}var Vd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mx(){ln.call(this,"d")}Ft(Mx,ln);function Fx(){ln.call(this,"c")}Ft(Fx,ln);var e0;function tg(){}Ft(tg,Lx);tg.prototype.g=function(){return new XMLHttpRequest};tg.prototype.i=function(){return{}};e0=new tg;function jd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Zu(this),this.P=Vq,t=Yy?125:void 0,this.V=new Xm(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sR}function sR(){this.i=null,this.g="",this.h=!1}var Vq=45e3,t0={},Ap={};q=jd.prototype;q.setTimeout=function(t){this.P=t};function n0(t,e,n){t.L=1,t.v=ig(Pr(e)),t.s=n,t.S=!0,aR(t,null)}function aR(t,e){t.G=Date.now(),Hd(t),t.A=Pr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),mR(n.i,"t",i),t.C=0,n=t.l.J,t.h=new sR,t.g=LR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Mq(an(t.Pa,t,t.g),t.O)),ZD(t.U,t.g,"readystatechange",t.nb),e=t.I?jD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ed(),Fq(t.j,t.u,t.A,t.m,t.W,t.s)}q.nb=function(t){t=t.target;const e=this.M;e&&qi(t)==3?e.l():this.Pa(t)};q.Pa=function(t){try{if(t==this.g)e:{const u=qi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Yy||this.g&&(this.h.h||this.g.ja()||$C(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?ed(3):ed(2)),ng(this);var n=this.g.da();this.ca=n;t:if(lR(this)){var i=$C(this.g);t="";var r=i.length,o=qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),uu(this);var s="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,zq(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yu(a)){var c=a;break t}}c=null}if(n=c)Ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,i0(this,n);else{this.i=!1,this.o=3,mn(12),ms(this),uu(this);break e}}this.S?(cR(this,u,s),Yy&&this.i&&u==3&&(ZD(this.U,this.V,"tick",this.mb),this.V.start())):(Ha(this.j,this.m,s,null),i0(this,s)),u==4&&ms(this),this.i&&!this.J&&(u==4?RR(this.l,this):(this.i=!1,Hd(this)))}else cW(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),ms(this),uu(this)}}}catch(u){}finally{}};function lR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function cR(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=jq(t,n),r==Ap){e==4&&(t.o=4,mn(14),i=!1),Ha(t.j,t.m,null,"[Incomplete Response]");break}else if(r==t0){t.o=4,mn(15),Ha(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ha(t.j,t.m,r,null),i0(t,r);lR(t)&&r!=Ap&&r!=t0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hx(e),e.M=!0,mn(11))):(Ha(t.j,t.m,n,"[Invalid Chunked Response]"),ms(t),uu(t))}q.mb=function(){if(this.g){var t=qi(this.g),e=this.g.ja();this.C<e.length&&(ng(this),cR(this,t,e),this.i&&t!=4&&Hd(this))}};function jq(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Ap:(n=Number(e.substring(n,i)),isNaN(n)?t0:(i+=1,i+n>e.length?Ap:(e=e.slice(i,i+n),t.C=i+n,e)))}q.cancel=function(){this.J=!0,ms(this)};function Hd(t){t.Y=Date.now()+t.P,uR(t,t.P)}function uR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ud(an(t.lb,t),e)}function ng(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Bq(this.j,this.A),this.L!=2&&(ed(),mn(17)),ms(this),this.o=2,uu(this)):uR(this,this.Y-t)};function uu(t){t.l.H==0||t.J||RR(t.l,t)}function ms(t){ng(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ox(t.V),eR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function i0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||r0(n.i,t))){if(!t.K&&r0(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Rp(n),sg(n);else break e;jx(n),mn(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ud(an(n.ib,n),6e3));if(1>=vR(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else gs(n,11)}else if((t.K||n.g==t)&&Rp(n),!Yu(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(zx(o,o.h),o.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,We(i.I,i.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=NR(i,i.J?i.pa:null,i.Y),s.K){yR(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(ng(a),Hd(a)),i.g=s}else $R(i);0<n.j.length&&ag(n)}else c[0]!="stop"&&c[0]!="close"||gs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?gs(n,7):Vx(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ed(4)}catch(c){}}function Hq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function qq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function dR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=qq(t),i=Hq(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var hR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ks(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ks){this.h=t.h,$p(this,t.j),this.s=t.s,this.g=t.g,Dp(this,t.m),this.l=t.l;var e=t.i,n=new td;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),IC(this,n),this.o=t.o}else t&&(e=String(t).match(hR))?(this.h=!1,$p(this,e[1]||"",!0),this.s=Yc(e[2]||""),this.g=Yc(e[3]||"",!0),Dp(this,e[4]),this.l=Yc(e[5]||"",!0),IC(this,e[6]||"",!0),this.o=Yc(e[7]||"")):(this.h=!1,this.i=new td(null,this.h))}ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qc(e,TC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qc(e,TC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qc(n,n.charAt(0)=="/"?Yq:Kq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qc(n,Xq)),t.join("")};function Pr(t){return new ks(t)}function $p(t,e,n){t.j=n?Yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IC(t,e,n){e instanceof td?(t.i=e,Jq(t.i,t.h)):(n||(e=Qc(e,Qq)),t.i=new td(e,t.h))}function We(t,e,n){t.i.set(e,n)}function ig(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Gq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TC=/[#\/\?@]/g,Kq=/[#\?:]/g,Yq=/[#\?]/g,Qq=/[#\?@]/g,Xq=/#/g;function td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Uo(t){t.g||(t.g=new Map,t.h=0,t.i&&Wq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=td.prototype;q.add=function(t,e){Uo(this),this.i=null,t=ec(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function fR(t,e){Uo(t),e=ec(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pR(t,e){return Uo(t),e=ec(t,e),t.g.has(e)}q.forEach=function(t,e){Uo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};q.ta=function(){Uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};q.Z=function(t){Uo(this);let e=[];if(typeof t=="string")pR(this,t)&&(e=e.concat(this.g.get(ec(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Uo(this),this.i=null,t=ec(this,t),pR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mR(t,e,n){fR(t,e),0<n.length&&(t.i=null,t.g.set(ec(t,e),Cx(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function ec(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Jq(t,e){e&&!t.j&&(Uo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(fR(this,i),mR(this,r,n))},t)),t.j=e}var Zq=class{constructor(t,e){this.g=t,this.map=e}};function gR(t){this.l=t||eW,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eW=10;function bR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vR(t){return t.h?1:t.g?t.g.size:0}function r0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zx(t,e){t.g?t.g.add(e):t.h=e}function yR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gR.prototype.cancel=function(){if(this.i=wR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function wR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Cx(t.i)}var tW=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function nW(){this.g=new tW}function iW(t,e,n){const i=n||"";try{dR(t,function(r,o){let s=r;zd(r)&&(s=Rx(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function rW(t,e){const n=new Jm;if(oe.Image){const i=new Image;i.onload=Gh(Yh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Gh(Yh,n,i,"TestLoadImage: error",!1,e),i.onabort=Gh(Yh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Gh(Yh,n,i,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Yh(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function qd(t){this.l=t.fc||null,this.j=t.ob||!1}Ft(qd,Lx);qd.prototype.g=function(){return new rg(this.l,this.j)};qd.prototype.i=function(t){return function(){return t}}({});function rg(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(rg,Mt);var Bx=0;q=rg.prototype;q.open=function(t,e){if(this.readyState!=Bx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nd(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wd(this)),this.readyState=Bx};q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nd(this)),this.g&&(this.readyState=3,nd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function xR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wd(this):nd(this),this.readyState==3&&xR(this)}};q.Za=function(t){this.g&&(this.response=this.responseText=t,Wd(this))};q.Ya=function(t){this.g&&(this.response=t,Wd(this))};q.ka=function(){this.g&&Wd(this)};function Wd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nd(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(rg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var oW=oe.JSON.parse;function ct(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kR,this.L=this.M=!1}Ft(ct,Mt);var kR="",sW=/^https?$/i,aW=["POST","PUT"];q=ct.prototype;q.Oa=function(t){this.M=t};q.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():e0.g(),this.C=this.u?SC(this.u):SC(e0),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){AC(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=oe.FormData&&t instanceof oe.FormData,!(0<=zD(aW,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CR(this),0<this.B&&((this.L=lW(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=Nx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){AC(this,o)}};function lW(t){return Tl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.ua=function(){typeof Ex<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))};function AC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_R(t),og(t)}function _R(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),og(this))};q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),og(this,!0)),ct.$.N.call(this)};q.La=function(){this.s||(this.G||this.v||this.l?ER(this):this.kb())};q.kb=function(){ER(this)};function ER(t){if(t.h&&typeof Ex<"u"&&(!t.C[1]||qi(t)!=4||t.da()!=2)){if(t.v&&qi(t)==4)Nx(t.La,0,t);else if(Qt(t,"readystatechange"),qi(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(hR)[1]||null;!r&&oe.self&&oe.self.location&&(r=oe.self.location.protocol.slice(0,-1)),i=!sW.test(r?r.toLowerCase():"")}n=i}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var o=2<qi(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.da()+"]",_R(t)}}finally{og(t)}}}}function og(t,e){if(t.g){CR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function CR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}q.isActive=function(){return!!this.g};function qi(t){return t.g?t.g.readyState:0}q.da=function(){try{return 2<qi(this)?this.g.status:-1}catch(t){return-1}};q.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}};q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),oW(e)}};function $C(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case kR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function cW(t){const e={};t=(t.g&&2<=qi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Yu(t[i]))continue;var n=Oq(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}Iq(e,function(i){return i.join(", ")})}q.Ia=function(){return this.m};q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SR(t){let e="";return Ix(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Ux(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=SR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function Tc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IR(t){this.Ga=0,this.j=[],this.l=new Jm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tc("baseRetryDelayMs",5e3,t),this.hb=Tc("retryDelaySeedMs",1e4,t),this.eb=Tc("forwardChannelMaxRetries",2,t),this.xa=Tc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gR(t&&t.concurrentRequestLimit),this.Ja=new nW,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}q=IR.prototype;q.ra=8;q.H=1;function Vx(t){if(TR(t),t.H==3){var e=t.W++,n=Pr(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Gd(t,n),e=new jd(t,t.l,e),e.L=2,e.v=ig(Pr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=LR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hd(e)}OR(t)}function sg(t){t.g&&(Hx(t),t.g.cancel(),t.g=null)}function TR(t){sg(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Rp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function ag(t){if(!bR(t.i)&&!t.m){t.m=!0;var e=t.Na;Xu||XD(),Ju||(Xu(),Ju=!0),Px.add(e,t),t.C=0}}function uW(t,e){return vR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ud(an(t.Na,t,e),PR(t,t.C)),t.C++,!0)}q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new jd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=jD(o),HD(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AR(this,r,e),n=Pr(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Gd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(SR(o)))+"&"+e:this.o&&Ux(n,this.o,o)),zx(this.i,r),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),r.aa=!0,n0(r,n,null)):n0(r,n,e),this.H=2}}else this.H==3&&(t?DC(this,t):this.j.length==0||bR(this.i)||DC(this))};function DC(t,e){var n;e?n=e.m:n=t.W++;const i=Pr(t.I);We(i,"SID",t.K),We(i,"RID",n),We(i,"AID",t.V),Gd(t,i),t.o&&t.s&&Ux(i,t.o,t.s),n=new jd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zx(t.i,n),n0(n,i,e)}function Gd(t,e){t.na&&Ix(t.na,function(n,i){We(e,i,n)}),t.h&&dR({},function(n,i){We(e,i,n)})}function AR(t,e,n){n=Math.min(t.j.length,n);var i=t.h?an(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{iW(u,s,"req"+c+"_")}catch(d){i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function $R(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xu||XD(),Ju||(Xu(),Ju=!0),Px.add(e,t),t.A=0}}function jx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ud(an(t.Ma,t),PR(t,t.A)),t.A++,!0)}q.Ma=function(){if(this.u=null,DR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ud(an(this.jb,this),t)}};q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),sg(this),DR(this))};function Hx(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function DR(t){t.g=new jd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pr(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Gd(t,e),t.o&&t.s&&Ux(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ig(Pr(e)),n.s=null,n.S=!0,aR(n,t)}q.ib=function(){this.v!=null&&(this.v=null,sg(this),jx(this),mn(19))};function Rp(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function RR(t,e){var n=null;if(t.g==e){Rp(t),Hx(t),t.g=null;var i=2}else if(r0(t.i,e))n=e.F,yR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=Zm(),Qt(i,new iR(i,n)),ag(t)}else $R(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&uW(t,e)||i==2&&jx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:gs(t,5);break;case 4:gs(t,10);break;case 3:gs(t,6);break;default:gs(t,2)}}}function PR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=an(t.pb,t);n||(n=new ks("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||$p(n,"https"),ig(n)),rW(n.toString(),i)}else mn(2);t.H=0,t.h&&t.h.za(e),OR(t),TR(t)}q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))};function OR(t){if(t.H=0,t.ma=[],t.h){const e=wR(t.i);(e.length!=0||t.j.length!=0)&&(xC(t.ma,e),xC(t.ma,t.j),t.i.i.length=0,Cx(t.j),t.j.length=0),t.h.ya()}}function NR(t,e,n){var i=n instanceof ks?Pr(n):new ks(n);if(i.g!="")e&&(i.g=e+"."+i.g),Dp(i,i.m);else{var r=oe.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ks(null);i&&$p(o,i),e&&(o.g=e),r&&Dp(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&We(i,n,e),We(i,"VER",t.ra),Gd(t,i),i}function LR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ct(new qd({ob:!0})):new ct(t.va),e.Oa(t.J),e}q.isActive=function(){return!!this.h&&this.h.isActive(this)};function MR(){}q=MR.prototype;q.Ba=function(){};q.Aa=function(){};q.za=function(){};q.ya=function(){};q.isActive=function(){return!0};q.Va=function(){};function Pp(){if(Tl&&!(10<=Number(_q)))throw Error("Environmental error: no available transport.")}Pp.prototype.g=function(t,e){return new Vn(t,e)};function Vn(t,e){Mt.call(this),this.g=new IR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Yu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tc(this)}Ft(Vn,Mt);Vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=NR(t,null,t.Y),ag(t)};Vn.prototype.close=function(){Vx(this.g)};Vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rx(t),t=n);e.j.push(new Zq(e.fb++,t)),e.H==3&&ag(e)};Vn.prototype.N=function(){this.g.h=null,delete this.j,Vx(this.g),delete this.g,Vn.$.N.call(this)};function FR(t){Mx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(FR,Mx);function zR(){Fx.call(this),this.status=1}Ft(zR,Fx);function tc(t){this.g=t}Ft(tc,MR);tc.prototype.Ba=function(){Qt(this.g,"a")};tc.prototype.Aa=function(t){Qt(this.g,new FR(t))};tc.prototype.za=function(t){Qt(this.g,new zR)};tc.prototype.ya=function(){Qt(this.g,"b")};function dW(){this.blockSize=-1}function Oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ft(Oi,dW);Oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ov(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Oi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)ov(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){ov(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){ov(this,i),r=0;break}}this.h=r,this.i+=e};Oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Re(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var hW={};function qx(t){return-128<=t&&128>t?wq(t,function(e){return new Re([e|0],0>e?-1:0)}):new Re([t|0],0>t?-1:0)}function Wi(t){if(isNaN(t)||!isFinite(t))return ol;if(0>t)return qt(Wi(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=o0;return new Re(e,0)}function BR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qt(BR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wi(Math.pow(e,8)),i=ol,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Wi(Math.pow(e,o)),i=i.R(o).add(Wi(s))):(i=i.R(n),i=i.add(Wi(s)))}return i}var o0=4294967296,ol=qx(0),s0=qx(1),RC=qx(16777216);q=Re.prototype;q.ea=function(){if(Zn(this))return-qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:o0+i)*e,e*=o0}return t};q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yr(this))return"0";if(Zn(this))return"-"+qt(this).toString(t);for(var e=Wi(Math.pow(t,6)),n=this,i="";;){var r=Np(n,e).g;n=Op(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,yr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zn(t){return t.h==-1}q.X=function(t){return t=Op(this,t),Zn(t)?-1:yr(t)?0:1};function qt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Re(n,~t.h).add(s0)}q.abs=function(){return Zn(this)?qt(this):this};q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Re(n,n[n.length-1]&-2147483648?-1:0)};function Op(t,e){return t.add(qt(e))}q.R=function(t){if(yr(this)||yr(t))return ol;if(Zn(this))return Zn(t)?qt(this).R(qt(t)):qt(qt(this).R(t));if(Zn(t))return qt(this.R(qt(t)));if(0>this.X(RC)&&0>t.X(RC))return Wi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=s*l,Qh(n,2*i+2*r),n[2*i+2*r+1]+=o*l,Qh(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Qh(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Qh(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Re(n,0)};function Qh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ac(t,e){this.g=t,this.h=e}function Np(t,e){if(yr(e))throw Error("division by zero");if(yr(t))return new Ac(ol,ol);if(Zn(t))return e=Np(qt(t),e),new Ac(qt(e.g),qt(e.h));if(Zn(e))return e=Np(t,qt(e)),new Ac(qt(e.g),e.h);if(30<t.g.length){if(Zn(t)||Zn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=s0,i=e;0>=i.X(t);)n=PC(n),i=PC(i);var r=va(n,1),o=va(i,1);for(i=va(i,2),n=va(n,2);!yr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=va(i,1),n=va(n,1)}return e=Op(t,r.R(e)),new Ac(r,e)}for(r=ol;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Wi(n),s=o.R(e);Zn(s)||0<s.X(t);)n-=i,o=Wi(n),s=o.R(e);yr(o)&&(o=s0),r=r.add(o),t=Op(t,s)}return new Ac(r,t)}q.gb=function(t){return Np(this,t).h};q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Re(n,this.h&t.h)};q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Re(n,this.h|t.h)};q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Re(n,this.h^t.h)};function PC(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Re(n,t.h)}function va(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Re(r,t.h)}Pp.prototype.createWebChannel=Pp.prototype.g;Vn.prototype.send=Vn.prototype.u;Vn.prototype.open=Vn.prototype.m;Vn.prototype.close=Vn.prototype.close;eg.NO_ERROR=0;eg.TIMEOUT=8;eg.HTTP_ERROR=6;rR.COMPLETE="complete";oR.EventType=Vd;Vd.OPEN="a";Vd.CLOSE="b";Vd.ERROR="c";Vd.MESSAGE="d";Mt.prototype.listen=Mt.prototype.O;ct.prototype.listenOnce=ct.prototype.P;ct.prototype.getLastError=ct.prototype.Sa;ct.prototype.getLastErrorCode=ct.prototype.Ia;ct.prototype.getStatus=ct.prototype.da;ct.prototype.getResponseJson=ct.prototype.Wa;ct.prototype.getResponseText=ct.prototype.ja;ct.prototype.send=ct.prototype.ha;ct.prototype.setWithCredentials=ct.prototype.Oa;Oi.prototype.digest=Oi.prototype.l;Oi.prototype.reset=Oi.prototype.reset;Oi.prototype.update=Oi.prototype.j;Re.prototype.add=Re.prototype.add;Re.prototype.multiply=Re.prototype.R;Re.prototype.modulo=Re.prototype.gb;Re.prototype.compare=Re.prototype.X;Re.prototype.toNumber=Re.prototype.ea;Re.prototype.toString=Re.prototype.toString;Re.prototype.getBits=Re.prototype.D;Re.fromNumber=Wi;Re.fromString=BR;var fW=function(){return new Pp},pW=function(){return Zm()},sv=eg,mW=rR,gW=ra,OC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bW=qd,Xh=oR,vW=ct,yW=Oi,sl=Re;const NC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Fd("@firebase/firestore");function a0(){return Eo.logLevel}function wW(t){Eo.setLogLevel(t)}function P(t,...e){if(Eo.logLevel<=pe.DEBUG){const n=e.map(Wx);Eo.debug(`Firestore (${nc}): ${t}`,...n)}}function dt(t,...e){if(Eo.logLevel<=pe.ERROR){const n=e.map(Wx);Eo.error(`Firestore (${nc}): ${t}`,...n)}}function Ni(t,...e){if(Eo.logLevel<=pe.WARN){const n=e.map(Wx);Eo.warn(`Firestore (${nc}): ${t}`,...n)}}function Wx(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function te(t,e){t||K()}function xW(t,e){t||K()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class _W{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let EW=class{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(te(typeof i.accessToken=="string"),new UR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string"),new $t(e)}};class CW{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class SW{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new CW(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TW{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=o=>{o.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,P("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te(typeof n.token=="string"),this.T=n.token,new IW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=AW(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function Al(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function jR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new nt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new nt(0,0))}static max(){return new ee(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,i){n===void 0?n=0:n>e.length&&K(),i===void 0?i=e.length-n:i>e.length-n&&K(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return id.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof id?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends id{construct(e,n,i){return new xe(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new R(A.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const $W=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends id{construct(e,n,i){return new ht(e,n,i)}static isValidIdentifier(e){return $W.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new R(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new R(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new R(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new R(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(xe.fromString(e))}static fromName(e){return new B(xe.fromString(e).popFirst(5))}static empty(){return new B(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}}function l0(t){return t.fields.find(e=>e.kind===2)}function es(t){return t.fields.filter(e=>e.kind!==2)}HR.UNKNOWN_ID=-1;class DW{constructor(e,n){this.fieldPath=e,this.kind=n}}class Lp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Lp(0,jn.min())}}function qR(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new jn(r,B.empty(),e)}function WR(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new jn(ee.min(),B.empty(),-1)}static max(){return new jn(ee.max(),B.empty(),-1)}}function Gx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==GR)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,i)=>{n(e)})}static reject(e){return new I((n,i)=>{i(e)})}static waitFor(e){return new I((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(e){let n=I.resolve(!1);for(const i of e)n=n.next(r=>r?I.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new I((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new I((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Nt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new du(e,n.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Kx(i.target.error);this.v.reject(new du(e,r))}}static open(e,n,i,r){try{return new lg(n,e.transaction(r,i))}catch(o){throw new du(n,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new PW(n)}}class xi{constructor(e,n,i){this.name=e,this.version=n,this.V=i,xi.S(Et())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),is(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!SD())return!1;if(xi.C())return!0;const e=Et(),n=xi.S(e),i=0<n&&n<10,r=xi.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async $(e){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const s=o.target.result;n(s)},r.onblocked=()=>{i(new du(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const s=o.target.error;s.name==="VersionError"?i(new R(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new R(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new du(e,s))},r.onupgradeneeded=o=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.V.O(s,r.transaction,o.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.$(e);const a=lg.open(this.db,e,o?"readonly":"readwrite",i),l=r(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),I.reject(c))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(P("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class RW{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return is(this.L.delete())}}class du extends R{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jo(t){return t.name==="IndexedDbTransactionError"}class PW{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),is(i)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),is(this.store.add(e))}get(e){return is(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),is(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),is(this.store.count())}j(e,n){const i=this.options(e,n);if(i.index||typeof this.store.getAll!="function"){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new I((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new I((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,n){P("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.W(r,n)}Z(e){const n=this.cursor({});return new I((i,r)=>{n.onerror=o=>{const s=Kx(o.target.error);r(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,n){const i=[];return new I((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new RW(a),c=n(a.primaryKey,a.value,l);if(c instanceof I){const u=c.catch(d=>(l.done(),I.reject(d)));i.push(u)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>I.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function is(t){return new I((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=Kx(i.target.error);n(r)}})}let LC=!1;function Kx(t){const e=xi.S(Et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new R("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LC||(LC=!0,setTimeout(()=>{throw i},0)),i}}return t}class OW{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){P("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{P("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){jo(n)?P("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Vo(n)}await this.et(6e4)})}}class NW{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const i=new Set;let r=n,o=!0;return I.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return P("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}it(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(P("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}rt(e,n){let i=e;return n.changes.forEach((r,o)=>{const s=WR(o);Gx(s,i)>0&&(i=s)}),new jn(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}En.ct=-1;function Kd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function YR(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MC(e)),e=LW(t.get(n),e);return MC(e)}function LW(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function MC(t){return t+""}function Gi(t){const e=t.length;if(te(e>=2),e===2)return te(t.charAt(0)===""&&t.charAt(1)===""),xe.emptyPath();const n=e-2,i=[];let r="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&K(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:K()}o=s+2}return new xe(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e){return[t,bn(e)]}function QR(t,e,n){return[t,bn(e),n]}const MW={},FW=["prefixPath","collectionGroup","readTime","documentId"],zW=["prefixPath","collectionGroup","documentId"],BW=["collectionGroup","readTime","prefixPath","documentId"],UW=["canonicalId","targetId"],VW=["targetId","path"],jW=["path","targetId"],HW=["collectionId","parent"],qW=["indexId","uid"],WW=["uid","sequenceNumber"],GW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KW=["indexId","uid","orderedDocumentKey"],YW=["userId","collectionPath","documentId"],QW=["userId","collectionPath","largestBatchId"],XW=["userId","collectionGroup","largestBatchId"],XR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JW=[...XR,"documentOverlays"],JR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZR=JR,ZW=[...ZR,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends KR{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function zt(t,e){const n=H(t);return xi.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:Ht.RED,this.left=r!=null?r:Ht.EMPTY,this.right=o!=null?o:Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Ht(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ht.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BC(this.data.getIterator())}getIteratorFrom(e){return new BC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class BC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ya(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ye(ht.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new tP("Invalid base64 string: "+r):r}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const t7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(te(!!t),typeof t=="string"){let e=0;const n=t7.exec(t);if(te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yx(t){const e=t.mapValue.fields.__previous_value__;return cg(e)?Yx(e):e}function od(t){const e=Co(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,i,r,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sf={nullValue:"NULL_VALUE"};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:nP(t)?9007199254740991:10:K()}function or(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Co(i.timestampValue),s=Co(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return So(i.bytesValue).isEqual(So(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return lt(i.geoPointValue.latitude)===lt(r.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return lt(i.integerValue)===lt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=lt(i.doubleValue),s=lt(r.doubleValue);return o===s?rd(o)===rd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(zC(o)!==zC(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!or(o[a],s[a])))return!1;return!0}(t,e);default:return K()}}function sd(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function To(t,e){if(t===e)return 0;const n=Fs(t),i=Fs(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(r,o){const s=lt(r.integerValue||r.doubleValue),a=lt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return UC(t.timestampValue,e.timestampValue);case 4:return UC(od(t),od(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(r,o){const s=So(r),a=So(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=ae(s[l],a[l]);if(c!==0)return c}return ae(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const s=ae(lt(r.latitude),lt(o.latitude));return s!==0?s:ae(lt(r.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=To(s[l],a[l]);if(c)return c}return ae(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===ao.mapValue&&o===ao.mapValue)return 0;if(r===ao.mapValue)return 1;if(o===ao.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ae(a[u],c[u]);if(d!==0)return d;const h=To(s[a[u]],l[c[u]]);if(h!==0)return h}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw K()}}function UC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Co(t),i=Co(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function $l(t){return u0(t)}function u0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=Co(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?So(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,B.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=u0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${u0(i.fields[a])}`;return o+"}"}(t.mapValue):K();var e,n}function zs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function ad(t){return!!t&&"arrayValue"in t}function VC(t){return!!t&&"nullValue"in t}function jC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function i7(t){return"nullValue"in t?Sf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zs(Io.empty(),B.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:K()}function r7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zs(Io.empty(),B.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ao:K()}function HC(t,e){const n=To(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qC(t,e){const n=To(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=ht.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=hu(s):r.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];If(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){oa(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Gt(hu(this.value))}}function iP(t){const e=[];return oa(t.fields,(n,i)=>{const r=new ht([n]);if(If(i)){const o=iP(i.mapValue).fields;if(o.length===0)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,ee.min(),ee.min(),ee.min(),Gt.empty(),0)}static newFoundDocument(e,n,i,r){return new Ge(e,1,n,ee.min(),i,r,0)}static newNoDocument(e,n){return new Ge(e,2,n,ee.min(),ee.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,ee.min(),ee.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.position=e,this.inclusive=n}}function WC(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(o.field.isKeyField()?i=B.comparator(B.fromName(s.referenceValue),n.key):i=To(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function GC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n="asc"){this.field=e,this.dir=n}}function o7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{}class he extends rP{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new s7(e,n,i):n==="array-contains"?new c7(e,i):n==="in"?new uP(e,i):n==="not-in"?new u7(e,i):n==="array-contains-any"?new d7(e,i):new he(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new a7(e,i):new l7(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $e extends rP{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new $e(e,n)}matches(e){return Dl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Dl(t){return t.op==="and"}function h0(t){return t.op==="or"}function Qx(t){return oP(t)&&Dl(t)}function oP(t){for(const e of t.filters)if(e instanceof $e)return!1;return!0}function f0(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(Qx(t))return t.filters.map(e=>f0(e)).join(",");{const e=t.filters.map(n=>f0(n)).join(",");return`${t.op}(${e})`}}function sP(t,e){return t instanceof he?function(n,i){return i instanceof he&&n.op===i.op&&n.field.isEqual(i.field)&&or(n.value,i.value)}(t,e):t instanceof $e?function(n,i){return i instanceof $e&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,o,s)=>r&&sP(o,i.filters[s]),!0):!1}(t,e):void K()}function aP(t,e){const n=t.filters.concat(e);return $e.create(n,t.op)}function lP(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${$l(e.value)}`}(t):t instanceof $e?function(e){return e.op.toString()+" {"+e.getFilters().map(lP).join(" ,")+"}"}(t):"Filter"}class s7 extends he{constructor(e,n,i){super(e,n,i),this.key=B.fromName(i.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class a7 extends he{constructor(e,n){super(e,"in",n),this.keys=cP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class l7 extends he{constructor(e,n){super(e,"not-in",n),this.keys=cP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>B.fromName(i.referenceValue))}class c7 extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ad(n)&&sd(n.arrayValue,this.value)}}class uP extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sd(this.value.arrayValue,n)}}class u7 extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sd(this.value.arrayValue,n)}}class d7 extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>sd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function p0(t,e=null,n=[],i=[],r=null,o=null,s=null){return new h7(t,e,n,i,r,o,s)}function Bs(t){const e=H(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>f0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Kd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$l(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$l(i)).join(",")),e.dt=n}return e.dt}function Yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GC(t.startAt,e.startAt)&&GC(t.endAt,e.endAt)}function Mp(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Fp(t,e){return t.filters.filter(n=>n instanceof he&&n.field.isEqual(e))}function KC(t,e,n){let i=Sf,r=!0;for(const o of Fp(t,e)){let s=Sf,a=!0;switch(o.op){case"<":case"<=":s=i7(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Sf}HC({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];HC({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function YC(t,e,n){let i=ao,r=!0;for(const o of Fp(t,e)){let s=ao,a=!0;switch(o.op){case">=":case">":s=r7(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ao}qC({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];qC({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function dP(t,e,n,i,r,o,s,a){return new Fr(t,e,n,i,r,o,s,a)}function ic(t){return new Fr(t)}function QC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xx(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ug(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Jx(t){return t.collectionGroup!==null}function _s(t){const e=H(t);if(e.wt===null){e.wt=[];const n=ug(e),i=Xx(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new al(n)),e.wt.push(new al(ht.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new al(ht.keyField(),o))}}}return e.wt}function Pn(t){const e=H(t);if(!e._t)if(e.limitType==="F")e._t=p0(e.path,e.collectionGroup,_s(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of _s(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new al(o.field,s))}const i=e.endAt?new Ao(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ao(e.startAt.position,e.startAt.inclusive):null;e._t=p0(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function m0(t,e){e.getFirstInequalityField(),ug(t);const n=t.filters.concat([e]);return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zp(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qd(t,e){return Yd(Pn(t),Pn(e))&&t.limitType===e.limitType}function hP(t){return`${Bs(Pn(t))}|lt:${t.limitType}`}function g0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>lP(i)).join(", ")}]`),Kd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$l(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$l(i)).join(",")),`Target(${n})`}(Pn(t))}; limitType=${t.limitType})`}function Xd(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):B.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of _s(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,o,s){const a=WC(r,o,s);return r.inclusive?a<=0:a<0}(n.startAt,_s(n),i)||n.endAt&&!function(r,o,s){const a=WC(r,o,s);return r.inclusive?a>=0:a>0}(n.endAt,_s(n),i))}(t,e)}function fP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pP(t){return(e,n)=>{let i=!1;for(const r of _s(t)){const o=f7(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function f7(t,e,n){const i=t.field.isKeyField()?B.comparator(e.key,n.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return a!==null&&l!==null?To(a,l):K()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return eP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Ue(B.comparator);function Sn(){return p7}const mP=new Ue(B.comparator);function Xc(...t){let e=mP;for(const n of t)e=e.insert(n.key,n);return e}function gP(t){let e=mP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ki(){return fu()}function bP(){return fu()}function fu(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const m7=new Ue(B.comparator),g7=new Ye(B.comparator);function le(...t){let e=g7;for(const n of t)e=e.add(n);return e}const b7=new Ye(ae);function Zx(){return b7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function yP(t){return{integerValue:""+t}}function wP(t,e){return YR(e)?yP(e):vP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this._=void 0}}function v7(t,e,n){return t instanceof Rl?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&cg(r)&&(r=Yx(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):t instanceof Us?kP(t,e):t instanceof Vs?_P(t,e):function(i,r){const o=xP(i,r),s=XC(o)+XC(i.gt);return d0(o)&&d0(i.gt)?yP(s):vP(i.serializer,s)}(t,e)}function y7(t,e,n){return t instanceof Us?kP(t,e):t instanceof Vs?_P(t,e):n}function xP(t,e){return t instanceof Pl?d0(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class Rl extends dg{}class Us extends dg{constructor(e){super(),this.elements=e}}function kP(t,e){const n=EP(e);for(const i of t.elements)n.some(r=>or(r,i))||n.push(i);return{arrayValue:{values:n}}}class Vs extends dg{constructor(e){super(),this.elements=e}}function _P(t,e){let n=EP(e);for(const i of t.elements)n=n.filter(r=>!or(r,i));return{arrayValue:{values:n}}}class Pl extends dg{constructor(e,n){super(),this.serializer=e,this.gt=n}}function XC(t){return lt(t.integerValue||t.doubleValue)}function EP(t){return ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.field=e,this.transform=n}}function w7(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Us&&i instanceof Us||n instanceof Vs&&i instanceof Vs?Al(n.elements,i.elements,or):n instanceof Pl&&i instanceof Pl?or(n.gt,i.gt):n instanceof Rl&&i instanceof Rl}(t.transform,e.transform)}class x7{constructor(e,n){this.version=e,this.transformResults=n}}class tt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tt}static exists(e){return new tt(void 0,e)}static updateTime(e){return new tt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hg{}function CP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oc(t.key,tt.none()):new rc(t.key,t.data,tt.none());{const n=t.data,i=Gt.empty();let r=new Ye(ht.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new zr(t.key,i,new Cn(r.toArray()),tt.none())}}function k7(t,e,n){t instanceof rc?function(i,r,o){const s=i.value.clone(),a=ZC(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof zr?function(i,r,o){if(!Tf(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=ZC(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(SP(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pu(t,e,n,i){return t instanceof rc?function(r,o,s,a){if(!Tf(r.precondition,o))return s;const l=r.value.clone(),c=eS(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof zr?function(r,o,s,a){if(!Tf(r.precondition,o))return s;const l=eS(r.fieldTransforms,a,o),c=o.data;return c.setAll(SP(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(r,o,s){return Tf(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function _7(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=xP(i.transform,r||null);o!=null&&(n===null&&(n=Gt.empty()),n.set(i.field,o))}return n||null}function JC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Al(n,i,(r,o)=>w7(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rc extends hg{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zr extends hg{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function SP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ZC(t,e,n){const i=new Map;te(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,y7(s,a,n[r]))}return i}function eS(t,e,n){const i=new Map;for(const r of t){const o=r.transform,s=n.data.field(r.field);i.set(r.field,v7(o,s,e))}return i}class oc extends hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e1 extends hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&k7(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=bP();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;const l=CP(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,(n,i)=>JC(n,i))&&Al(this.baseMutations,e.baseMutations,(n,i)=>JC(n,i))}}class n1{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){te(e.mutations.length===i.length);let r=m7;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n1(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,ye;function IP(t){switch(t){default:return K();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function TP(t){if(t===void 0)return dt("GRPC error has no .code"),A.UNKNOWN;switch(t){case gt.OK:return A.OK;case gt.CANCELLED:return A.CANCELLED;case gt.UNKNOWN:return A.UNKNOWN;case gt.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case gt.INTERNAL:return A.INTERNAL;case gt.UNAVAILABLE:return A.UNAVAILABLE;case gt.UNAUTHENTICATED:return A.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case gt.NOT_FOUND:return A.NOT_FOUND;case gt.ALREADY_EXISTS:return A.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return A.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case gt.ABORTED:return A.ABORTED;case gt.OUT_OF_RANGE:return A.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return A.UNIMPLEMENTED;case gt.DATA_LOSS:return A.DATA_LOSS;default:return K()}}(ye=gt||(gt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zh}static getOrCreateInstance(){return Zh===null&&(Zh=new r1),Zh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new sl([4294967295,4294967295],0);function tS(t){const e=AP().encode(t),n=new yW;return n.update(e),new Uint8Array(n.digest())}function nS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sl([n,i],0),new sl([r,o],0)]}class o1{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jc(`Invalid padding: ${n}`);if(i<0)throw new Jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=sl.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(sl.fromNumber(i)));return r.compare(C7)===1&&(r=new sl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=tS(e),[i,r]=nS(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new o1(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=tS(e),[i,r]=nS(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zd(ee.min(),r,new Ue(ae),Sn(),le())}}class eh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new eh(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class $P{constructor(e,n){this.targetId=e,this.Vt=n}}class DP{constructor(e,n,i=Ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class iS{constructor(){this.St=0,this.Dt=oS(),this.Ct=Ct.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),i=le();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K()}}),new eh(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=oS()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class S7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Sn(),this.zt=rS(),this.Wt=new Ue(ae)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(Mp(s))if(r===0){const a=new B(s.path);this.Yt(i,a,Ge.newNoDocument(a,ee.min()))}else te(r===1);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(i);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,c)}(n=r1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,y,g;const b={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(b.bloomFilter={applied:c===0,hashCount:(h=v==null?void 0:v.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=v==null?void 0:v.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(g=(y=v==null?void 0:v.bits)===null||y===void 0?void 0:y.padding)!==null&&g!==void 0?g:0}),b}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=So(o).toUint8Array()}catch(u){if(u instanceof tP)return Ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new o1(l,s,a)}catch(u){return Ni(u instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Mp(a.target)){const l=new B(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,Ge.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let i=le();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Zd(e,n,this.Wt,this.jt,i);return this.jt=Sn(),this.zt=rS(),this.Wt=new Ue(ae),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new iS,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ye(ae),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iS),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rS(){return new Ue(B.comparator)}function oS(){return new Ue(B.comparator)}const I7=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),T7=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),A7=(()=>({and:"AND",or:"OR"}))();class $7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b0(t,e){return t.useProto3Json||Kd(e)?e:{value:e}}function Ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D7(t,e){return Ol(t,e.toTimestamp())}function pt(t){return te(!!t),ee.fromTimestamp(function(e){const n=Co(e);return new nt(n.seconds,n.nanos)}(t))}function s1(t,e){return function(n){return new xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function PP(t){const e=xe.fromString(t);return te(VP(e)),e}function ld(t,e){return s1(t.databaseId,e.path)}function Zi(t,e){const n=PP(e);if(n.get(1)!==t.databaseId.projectId)throw new R(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(NP(n))}function v0(t,e){return s1(t.databaseId,e)}function OP(t){const e=PP(t);return e.length===4?xe.emptyPath():NP(e)}function cd(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NP(t){return te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sS(t,e,n){return{name:ld(t,e),fields:n.value.mapValue.fields}}function LP(t,e,n){const i=Zi(t,e.name),r=pt(e.updateTime),o=e.createTime?pt(e.createTime):ee.min(),s=new Gt({mapValue:{fields:e.fields}}),a=Ge.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function R7(t,e){return"found"in e?function(n,i){te(!!i.found),i.found.name,i.found.updateTime;const r=Zi(n,i.found.name),o=pt(i.found.updateTime),s=i.found.createTime?pt(i.found.createTime):ee.min(),a=new Gt({mapValue:{fields:i.found.fields}});return Ge.newFoundDocument(r,o,s,a)}(t,e):"missing"in e?function(n,i){te(!!i.missing),te(!!i.readTime);const r=Zi(n,i.missing),o=pt(i.readTime);return Ge.newNoDocument(r,o)}(t,e):K()}function P7(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(te(c===void 0||typeof c=="string"),Ct.fromBase64String(c||"")):(te(c===void 0||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?A.UNKNOWN:TP(l.code);return new R(c,l.message||"")}(s);n=new DP(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Zi(t,i.document.name),o=pt(i.document.updateTime),s=i.document.createTime?pt(i.document.createTime):ee.min(),a=new Gt({mapValue:{fields:i.document.fields}}),l=Ge.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Af(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Zi(t,i.document),o=i.readTime?pt(i.readTime):ee.min(),s=Ge.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Af([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Zi(t,i.document),o=i.removedTargetIds||[];n=new Af([],o,r,null)}else{if(!("filter"in e))return K();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,s=new E7(r,o),a=i.targetId;n=new $P(a,s)}}return n}function ud(t,e){let n;if(e instanceof rc)n={update:sS(t,e.key,e.value)};else if(e instanceof oc)n={delete:ld(t,e.key)};else if(e instanceof zr)n={update:sS(t,e.key,e.data),updateMask:z7(e.fieldMask)};else{if(!(e instanceof e1))return K();n={verify:ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Rl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Us)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Vs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Pl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw K()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:D7(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:K()}(t,e.precondition)),n}function y0(t,e){const n=e.currentDocument?function(r){return r.updateTime!==void 0?tt.updateTime(pt(r.updateTime)):r.exists!==void 0?tt.exists(r.exists):tt.none()}(e.currentDocument):tt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;if("setToServerValue"in s)te(s.setToServerValue==="REQUEST_TIME"),a=new Rl;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];a=new Us(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];a=new Vs(c)}else"increment"in s?a=new Pl(o,s.increment):K();const l=ht.fromServerFormat(s.fieldPath);return new Jd(l,a)}(t,r)):[];if(e.update){e.update.name;const r=Zi(t,e.update.name),o=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const l=a.fieldPaths||[];return new Cn(l.map(c=>ht.fromServerFormat(c)))}(e.updateMask);return new zr(r,o,s,n,i)}return new rc(r,o,n,i)}if(e.delete){const r=Zi(t,e.delete);return new oc(r,n)}if(e.verify){const r=Zi(t,e.verify);return new e1(r,n)}return K()}function O7(t,e){return t&&t.length>0?(te(e!==void 0),t.map(n=>function(i,r){let o=i.updateTime?pt(i.updateTime):pt(r);return o.isEqual(ee.min())&&(o=pt(r)),new x7(o,i.transformResults||[])}(n,e))):[]}function MP(t,e){return{documents:[v0(t,e.path)]}}function FP(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=v0(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=v0(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return UP($e.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Aa(u.field),direction:L7(u.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=b0(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function zP(t){let e=OP(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){te(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(u){const d=BP(u);return d instanceof $e&&Qx(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(u=>function(d){return new al($a(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,Kd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new Ao(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new Ao(h,d)}(n.endAt)),dP(e,r,s,o,a,"F",l,c)}function N7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BP(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=$a(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=$a(e.unaryFilter.field);return he.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$a(e.unaryFilter.field);return he.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$a(e.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(e){return he.create($a(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return $e.create(e.compositeFilter.filters.map(n=>BP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return K()}}(e.compositeFilter.op))}(t):K()}function L7(t){return I7[t]}function M7(t){return T7[t]}function F7(t){return A7[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function $a(t){return ht.fromServerFormat(t.fieldPath)}function UP(t){return t instanceof he?function(e){if(e.op==="=="){if(jC(e.value))return{unaryFilter:{field:Aa(e.field),op:"IS_NAN"}};if(VC(e.value))return{unaryFilter:{field:Aa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jC(e.value))return{unaryFilter:{field:Aa(e.field),op:"IS_NOT_NAN"}};if(VC(e.value))return{unaryFilter:{field:Aa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(e.field),op:M7(e.op),value:e.value}}}(t):t instanceof $e?function(e){const n=e.getFilters().map(i=>UP(i));return n.length===1?n[0]:{compositeFilter:{op:F7(e.op),filters:n}}}(t):K()}function z7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,i,r,o=ee.min(),s=ee.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.fe=e}}function B7(t,e){let n;if(e.document)n=LP(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=B.fromSegments(e.noDocument.path),r=Hs(e.noDocument.readTime);n=Ge.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return K();{const i=B.fromSegments(e.unknownDocument.path),r=Hs(e.unknownDocument.version);n=Ge.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(i){const r=new nt(i[0],i[1]);return ee.fromTimestamp(r)}(e.readTime)),n}function aS(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Bp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(r,o){return{name:ld(r,o.key),fields:o.data.value.mapValue.fields,updateTime:Ol(r,o.version.toTimestamp()),createTime:Ol(r,o.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:js(e.version)};else{if(!e.isUnknownDocument())return K();i.unknownDocument={path:n.path.toArray(),version:js(e.version)}}return i}function Bp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function js(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hs(t){const e=new nt(t.seconds,t.nanoseconds);return ee.fromTimestamp(e)}function rs(t,e){const n=(e.baseMutations||[]).map(o=>y0(t.fe,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map(o=>y0(t.fe,o)),r=nt.fromMillis(e.localWriteTimeMs);return new t1(e.batchId,r,n,i)}function Zc(t){const e=Hs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Hs(t.lastLimboFreeSnapshotVersion):ee.min();let i;var r;return t.query.documents!==void 0?(te((r=t.query).documents.length===1),i=Pn(ic(OP(r.documents[0])))):i=function(o){return Pn(zP(o))}(t.query),new wr(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ct.fromBase64String(t.resumeToken))}function HP(t,e){const n=js(e.snapshotVersion),i=js(e.lastLimboFreeSnapshotVersion);let r;r=Mp(e.target)?MP(t.fe,e.target):FP(t.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bs(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function a1(t){const e=zP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zp(e,e.limit,"L"):e}function av(t,e){return new i1(e.largestBatchId,y0(t.fe,e.overlayMutation))}function lS(t,e){const n=e.path.lastSegment();return[t,bn(e.path.popLast()),n]}function cS(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:js(i.readTime),documentKey:bn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{getBundleMetadata(e,n){return uS(e).get(n).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Hs(r.createTime),version:r.version};var r})}saveBundleMetadata(e,n){return uS(e).put({bundleId:(i=n).id,createTime:js(pt(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return dS(e).get(n).next(i=>{if(i)return{name:(r=i).name,query:a1(r.bundledQuery),readTime:Hs(r.readTime)};var r})}saveNamedQuery(e,n){return dS(e).put(function(i){return{name:i.name,readTime:js(pt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function uS(t){return zt(t,"bundles")}function dS(t){return zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const i=n.uid||"";return new fg(e,i)}getOverlay(e,n){return $c(e).get(lS(this.userId,n)).next(i=>i?av(this.serializer,i):null)}getOverlays(e,n){const i=Ki();return I.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){const r=[];return i.forEach((o,s)=>{const a=new i1(n,s);r.push(this.we(e,a))}),I.waitFor(r)}removeOverlaysForBatchId(e,n,i){const r=new Set;n.forEach(s=>r.add(bn(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push($c(e).J("collectionPathOverlayIndex",a))}),I.waitFor(o)}getOverlaysForCollection(e,n,i){const r=Ki(),o=bn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return $c(e).j("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=av(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){const o=Ki();let s;const a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $c(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=av(this.serializer,c);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,n){return $c(e).put(function(i,r,o){const[s,a,l]=lS(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ud(i.fe,o.mutation)}}(this.serializer,this.userId,n))}}function $c(t){return zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(lt(e.integerValue));else if("doubleValue"in e){const i=lt(e.doubleValue);isNaN(i)?this.ye(n,13):(this.ye(n,15),rd(i)?n.pe(0):n.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(n,20),typeof i=="string"?n.Ie(i):(n.Ie(`${i.seconds||""}`),n.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(So(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(n,45),n.pe(i.latitude||0),n.pe(i.longitude||0)}else"mapValue"in e?nP(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):K()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const i=e.fields||{};this.ye(n,55);for(const r of Object.keys(i))this.Te(r,n),this.me(i[r],n)}Pe(e,n){const i=e.values||[];this.ye(n,50);for(const r of i)this.me(r,n)}ve(e,n){this.ye(n,37),B.fromName(e).path.forEach(i=>{this.ye(n,60),this.be(i,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}os.Ve=new os;function V7(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function hS(t){const e=64-function(n){let i=0;for(let r=0;r<8;++r){const o=V7(255&n[r]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class j7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.De(i.value),i=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ne(i.value),i=n.next();this.ke()}Me(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=n.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=n.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const n=this.Fe(e),i=hS(n);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Le(e){const n=this.Fe(e),i=hS(n);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class H7{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class q7{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Dc{constructor(){this.je=new j7,this.ze=new H7(this.je),this.We=new q7(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ss(this.indexId,this.documentKey,this.arrayValue,i)}}function qr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fS(t.arrayValue,e.arrayValue),n!==0?n:(n=fS(t.directionalValue,e.directionalValue),n!==0?n:B.comparator(t.documentKey,e.documentKey)))}function fS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const i=n;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){te(e.collectionGroup===this.collectionId);const n=l0(e);if(n!==void 0&&!this.en(n))return!1;const i=es(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Ze!==void 0){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o){const a=i[o];if(s>=this.Ye.length||!this.sn(this.Ye[s++],a))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){var e,n;if(te(t instanceof he||t instanceof $e),t instanceof he){if(t instanceof uP){const r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>he.create(t.field,"==",o)))||[];return $e.create(r,"or")}return t}const i=t.filters.map(r=>qP(r));return $e.create(i,t.op)}function G7(t){if(t.getFilters().length===0)return[];const e=k0(qP(t));return te(WP(e)),w0(e)||x0(e)?[e]:e.getFilters()}function w0(t){return t instanceof he}function x0(t){return t instanceof $e&&Qx(t)}function WP(t){return w0(t)||x0(t)||function(e){if(e instanceof $e&&h0(e)){for(const n of e.getFilters())if(!w0(n)&&!x0(n))return!1;return!0}return!1}(t)}function k0(t){if(te(t instanceof he||t instanceof $e),t instanceof he)return t;if(t.filters.length===1)return k0(t.filters[0]);const e=t.filters.map(i=>k0(i));let n=$e.create(e,t.op);return n=Up(n),WP(n)?n:(te(n instanceof $e),te(Dl(n)),te(n.filters.length>1),n.filters.reduce((i,r)=>l1(i,r)))}function l1(t,e){let n;return te(t instanceof he||t instanceof $e),te(e instanceof he||e instanceof $e),n=t instanceof he?e instanceof he?function(i,r){return $e.create([i,r],"and")}(t,e):pS(t,e):e instanceof he?pS(e,t):function(i,r){if(te(i.filters.length>0&&r.filters.length>0),Dl(i)&&Dl(r))return aP(i,r.getFilters());const o=h0(i)?i:r,s=h0(i)?r:i,a=o.filters.map(l=>l1(l,s));return $e.create(a,"or")}(t,e),Up(n)}function pS(t,e){if(Dl(e))return aP(e,t.getFilters());{const n=e.filters.map(i=>l1(t,i));return $e.create(n,"or")}}function Up(t){if(te(t instanceof he||t instanceof $e),t instanceof he)return t;const e=t.getFilters();if(e.length===1)return Up(e[0]);if(oP(t))return t;const n=e.map(r=>Up(r)),i=[];return n.forEach(r=>{r instanceof he?i.push(r):r instanceof $e&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:$e.create(i,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.rn=new c1}addToCollectionParentIndex(e,n){return this.rn.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(jn.min())}updateCollectionGroup(e,n,i){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class c1{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ye(xe.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ye(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Uint8Array(0);class Y7{constructor(e,n){this.user=e,this.databaseId=n,this.on=new c1,this.un=new Ho(i=>Bs(i),(i,r)=>Yd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const o={collectionId:i,parent:bn(r)};return mS(e).put(o)}return I.resolve()}getCollectionParents(e,n){const i=[],r=IDBKeyRange.bound([n,""],[jR(n),""],!1,!0);return mS(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==n)break;i.push(Gi(s.parent))}return i})}addFieldIndex(e,n){const i=tf(e),r=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete r.indexId;const o=i.add(r);if(n.indexState){const s=Pc(e);return o.next(a=>{s.put(cS(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const i=tf(e),r=Pc(e),o=Rc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const i=Rc(e);let r=!0;const o=new Map;return I.forEach(this.cn(n),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=le();const a=[];return I.forEach(o,(l,c)=>{var u;P("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${Bs(n)}`);const d=function(v,k){const $=l0(k);if($===void 0)return null;for(const _ of Fp(v,$.fieldPath))switch(_.op){case"array-contains-any":return _.value.arrayValue.values||[];case"array-contains":return[_.value]}return null}(c,l),h=function(v,k){const $=new Map;for(const _ of es(k))for(const x of Fp(v,_.fieldPath))switch(x.op){case"==":case"in":$.set(_.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return $.set(_.fieldPath.canonicalString(),x.value),Array.from($.values())}return null}(c,l),f=function(v,k){const $=[];let _=!0;for(const x of es(k)){const S=x.kind===0?KC(v,x.fieldPath,v.startAt):YC(v,x.fieldPath,v.startAt);$.push(S.value),_&&(_=S.inclusive)}return new Ao($,_)}(c,l),p=function(v,k){const $=[];let _=!0;for(const x of es(k)){const S=x.kind===0?YC(v,x.fieldPath,v.endAt):KC(v,x.fieldPath,v.endAt);$.push(S.value),_&&(_=S.inclusive)}return new Ao($,_)}(c,l),m=this.hn(l,c,f),y=this.hn(l,c,p),g=this.ln(l,c,h),b=this.fn(l.indexId,d,m,f.inclusive,y,p.inclusive,g);return I.forEach(b,v=>i.H(v,n.limit).next(k=>{k.forEach($=>{const _=B.fromSegments($.documentKey);s.has(_)||(s=s.add(_),a.push(_))})}))}).next(()=>a)}return I.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=G7($e.create(e.filters,"and")).map(i=>p0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,i,r,o,s,a){const l=(n!=null?n.length:1)*Math.max(i.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/c]):ef,f=this.wn(e,h,i[d%c],r),p=this._n(e,h,o[d%c],s),m=a.map(y=>this.wn(e,h,y,!0));u.push(...this.createRange(f,p,m))}return u}wn(e,n,i,r){const o=new ss(e,B.empty(),n,i);return r?o:o.Je()}_n(e,n,i,r){const o=new ss(e,B.empty(),n,i);return r?o.Je():o}an(e,n){const i=new W7(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2;const r=this.cn(n);return I.forEach(r,o=>this.an(e,o).next(s=>{s?i!==0&&s.fields.length<function(a){let l=new Ye(ht.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(o)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}mn(e,n){const i=new Dc;for(const r of es(e)){const o=n.data.field(r.fieldPath);if(o==null)return null;const s=i.He(r.kind);os.Ve._e(o,s)}return i.Qe()}dn(e){const n=new Dc;return os.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const i=new Dc;return os.Ve._e(zs(this.databaseId,n),i.He(function(r){const o=es(r);return o.length===0?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,n,i){if(i===null)return[];let r=[];r.push(new Dc);let o=0;for(const s of es(e)){const a=i[o++];for(const l of r)if(this.yn(n,s.fieldPath)&&ad(a))r=this.pn(r,s,a);else{const c=l.He(s.kind);os.Ve._e(a,c)}}return this.In(r)}hn(e,n,i){return this.ln(e,n,i.position)}In(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Qe();return n}pn(e,n,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Dc;l.seed(a.Qe()),os.Ve._e(s,l.He(n.kind)),o.push(l)}return o}yn(e,n){return!!e.filters.find(i=>i instanceof he&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){const i=tf(e),r=Pc(e);return(n?i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.j()).next(o=>{const s=[];return I.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(c,u){const d=u?new Lp(u.sequenceNumber,new jn(Hs(u.readTime),new B(Gi(u.documentKey)),u.largestBatchId)):Lp.empty(),h=c.fields.map(([f,p])=>new DW(ht.fromServerFormat(f),p));return new HR(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:ae(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const r=tf(e),o=Pc(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>I.forEach(a,l=>o.put(cS(l.indexId,this.user,s,i)))))}updateIndexEntries(e,n){const i=new Map;return I.forEach(n,(r,o)=>{const s=i.get(r.collectionGroup);return(s?I.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),I.forEach(a,l=>this.En(e,r,l).next(c=>{const u=this.An(o,l);return c.isEqual(u)?I.resolve():this.vn(e,o,l,c,u)}))))})}Rn(e,n,i,r){return Rc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,i,r){return Rc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,n.key),n.key.path.toArray()])}En(e,n,i){const r=Rc(e);let o=new Ye(qr);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,n)])},(s,a)=>{o=o.add(new ss(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,n){let i=new Ye(qr);const r=this.mn(n,e);if(r==null)return i;const o=l0(n);if(o!=null){const s=e.data.field(o.fieldPath);if(ad(s))for(const a of s.arrayValue.values||[])i=i.add(new ss(n.indexId,e.key,this.dn(a),r))}else i=i.add(new ss(n.indexId,e.key,ef,r));return i}vn(e,n,i,r,o){P("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,l,c,u,d){const h=a.getIterator(),f=l.getIterator();let p=ya(h),m=ya(f);for(;p||m;){let y=!1,g=!1;if(p&&m){const b=c(p,m);b<0?g=!0:b>0&&(y=!0)}else p!=null?g=!0:y=!0;y?(u(m),m=ya(f)):g?(d(p),p=ya(h)):(p=ya(h),m=ya(f))}}(r,o,qr,a=>{s.push(this.Rn(e,n,i,a))},a=>{s.push(this.Pn(e,n,i,a))}),I.waitFor(s)}Tn(e){let n=1;return Pc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>qr(s,a)).filter((s,a,l)=>!a||qr(s,l[a-1])!==0);const r=[];r.push(e);for(const s of i){const a=qr(s,e),l=qr(s,n);if(a===0)r[0]=e.Je();else if(a>0&&l<0)r.push(s),r.push(s.Je());else if(l>0)break}r.push(n);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,ef,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,ef,[]];o.push(IDBKeyRange.bound(a,l))}return o}bn(e,n){return qr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gS)}getMinOffset(e,n){return I.mapArray(this.cn(n),i=>this.an(e,i).next(r=>r||K())).next(gS)}}function mS(t){return zt(t,"collectionParents")}function Rc(t){return zt(t,"indexEntries")}function tf(t){return zt(t,"indexConfiguration")}function Pc(t){return zt(t,"indexState")}function gS(t){te(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;Gx(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xn{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{te(a===1)}));const c=[];for(const u of n.mutations){const d=QR(e,u.key.path,n.batchId);o.push(r.delete(d)),c.push(u.key)}return I.waitFor(o).next(()=>c)}function Vp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw K();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class pg{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,n,i,r){te(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new pg(o,n,i,r)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){const o=Da(e),s=Wr(e);return s.add({}).next(a=>{te(typeof a=="number");const l=new t1(a,n,i,r),c=function(h,f,p){const m=p.baseMutations.map(g=>ud(h.fe,g)),y=p.mutations.map(g=>ud(h.fe,g));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:y}}(this.serializer,this.userId,l),u=[];let d=new Ye((h,f)=>ae(h.canonicalString(),f.canonicalString()));for(const h of r){const f=QR(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(f,MW))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),I.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Wr(e).get(n).next(i=>i?(te(i.userId===this.userId),rs(this.serializer,i)):null)}Sn(e,n){return this.Vn[n]?I.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const r=i.keys();return this.Vn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Wr(e).X({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(te(a.batchId>=i),o=rs(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Wr(e).X({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wr(e).j("userMutationsIndex",n).next(i=>i.map(r=>rs(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=Cf(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Da(e).X({range:r},(s,a,l)=>{const[c,u,d]=s,h=Gi(u);if(c===this.userId&&n.path.isEqual(h))return Wr(e).get(d).next(f=>{if(!f)throw K();te(f.userId===this.userId),o.push(rs(this.serializer,f))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ye(ae);const r=[];return n.forEach(o=>{const s=Cf(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Da(e).X({range:a},(c,u,d)=>{const[h,f,p]=c,m=Gi(f);h===this.userId&&o.path.isEqual(m)?i=i.add(p):d.done()});r.push(l)}),I.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1,o=Cf(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Ye(ae);return Da(e).X({range:s},(l,c,u)=>{const[d,h,f]=l,p=Gi(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const i=[],r=[];return n.forEach(o=>{r.push(Wr(e).get(o).next(s=>{if(s===null)throw K();te(s.userId===this.userId),i.push(rs(this.serializer,s))}))}),I.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return GP(e.ht,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),I.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return I.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Da(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Gi(o[1]);r.push(l)}else a.done()}).next(()=>{te(r.length===0)})})}containsKey(e,n){return KP(e,this.userId,n)}xn(e){return YP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function KP(t,e,n){const i=Cf(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Da(t).X({range:o,Y:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),c.done()}).next(()=>s)}function Wr(t){return zt(t,"mutations")}function Da(t){return zt(t,"documentMutations")}function YP(t){return zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new qs(0)}static Mn(){return new qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const i=new qs(n.highestTargetId);return n.highestTargetId=i.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ee.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.On(e,r)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(n,i),this.On(e,i))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>wa(e).delete(n.targetId)).next(()=>this.$n(e)).next(i=>(te(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,n,i){let r=0;const o=[];return wa(e).X((s,a)=>{const l=Zc(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>I.waitFor(o)).next(()=>r)}forEachTarget(e,n){return wa(e).X((i,r)=>{const o=Zc(r);n(o)})}$n(e){return vS(e).get("targetGlobalKey").next(n=>(te(n!==null),n))}On(e,n){return vS(e).put("targetGlobalKey",n)}Fn(e,n){return wa(e).put(HP(this.serializer,n))}Bn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const i=Bs(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return wa(e).X({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=Zc(a);Yd(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,i){const r=[],o=Zr(e);return n.forEach(s=>{const a=bn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),I.waitFor(r)}removeMatchingKeys(e,n,i){const r=Zr(e);return I.forEach(n,o=>{const s=bn(o.path);return I.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){const i=Zr(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Zr(e);let o=le();return r.X({range:i,Y:!0},(s,a,l)=>{const c=Gi(s[1]),u=new B(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const i=bn(n.path),r=IDBKeyRange.bound([i],[jR(i)],!1,!0);let o=0;return Zr(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}le(e,n){return wa(e).get(n).next(i=>i?Zc(i):null)}}function wa(t){return zt(t,"targets")}function vS(t){return zt(t,"targetGlobal")}function Zr(t){return zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS([t,e],[n,i]){const r=ae(t,n);return r===0?ae(e,i):r}class X7{constructor(e){this.Ln=e,this.buffer=new Ye(yS),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();yS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J7{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){P("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Qn(3e5)})}}class Z7{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return I.resolve(En.ct);const i=new X7(n);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),I.resolve(bS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bS):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),a0()<=pe.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),I.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}function eG(t,e){return new Z7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,n){this.db=e,this.garbageCollector=eG(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Jn(e){let n=0;return this.Wn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(i,r)=>n(r))}addReference(e,n,i){return nf(e,i)}removeReference(e,n,i){return nf(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return nf(e,n)}Xn(e,n){return function(i,r){let o=!1;return YP(i).Z(s=>KP(i,s,r).next(a=>(a&&(o=!0),I.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=n){const l=this.Xn(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ee.min()),Zr(e).delete([0,bn(s.path)])))});r.push(l)}}).next(()=>I.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return nf(e,n)}Yn(e,n){const i=Zr(e);let r,o=En.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==En.ct&&n(new B(Gi(r)),o),o=c,r=l):o=En.ct}).next(()=>{o!==En.ct&&n(new B(Gi(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nf(t,e){return Zr(t).put(function(n,i){return{targetId:0,path:bn(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.changes=new Ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?I.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Qo(e).put(i)}removeEntry(e,n,i){return Qo(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Bp(o),s[s.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.Zn(e,i)))}getEntry(e,n){let i=Ge.newInvalidDocument(n);return Qo(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Oc(n))},(r,o)=>{i=this.ts(n,o)}).next(()=>i)}es(e,n){let i={size:0,document:Ge.newInvalidDocument(n)};return Qo(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Oc(n))},(r,o)=>{i={document:this.ts(n,o),size:Vp(o)}}).next(()=>i)}getEntries(e,n){let i=Sn();return this.ns(e,n,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,n){let i=Sn(),r=new Ue(B.comparator);return this.ns(e,n,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,Vp(s))}).next(()=>({documents:i,rs:r}))}ns(e,n,i){if(n.isEmpty())return I.resolve();let r=new Ye(kS);n.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Oc(r.first()),Oc(r.last())),s=r.getIterator();let a=s.getNext();return Qo(e).X({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=B.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&kS(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.G(Oc(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),Bp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).j(IDBKeyRange.bound(s,a,!0)).next(l=>{let c=Sn();for(const u of l){const d=this.ts(B.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Xd(n,d)||r.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,i,r){let o=Sn();const s=xS(n,i),a=xS(n,jn.max());return Qo(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.ts(B.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new iG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wS(e).get("remoteDocumentGlobalKey").next(n=>(te(!!n),n))}Zn(e,n){return wS(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const i=B7(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(ee.min())))return i}return Ge.newInvalidDocument(e)}}function XP(t){return new nG(t)}class iG extends QP{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Ho(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const n=[];let i=0,r=new Ye((o,s)=>ae(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(n.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=aS(this.os.serializer,s);r=r.add(o.path.popLast());const c=Vp(l);i+=c-a.size,n.push(this.os.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=aS(this.os.serializer,s.convertToNoDocument(ee.min()));n.push(this.os.addEntry(e,o,l))}}),r.forEach(o=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.os.updateMetadata(e,i)),I.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(i=>(this.us.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function wS(t){return zt(t,"remoteDocumentGlobal")}function Qo(t){return zt(t,"remoteDocumentsV14")}function Oc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xS(t,e){const n=e.documentKey.path.toArray();return[t,Bp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function kS(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=ae(n[o],i[o]),r)return r;return r=ae(n.length,i.length),r||(r=ae(n[n.length-2],i[i.length-2]),r||ae(n[n.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&pu(i.mutation,r,Cn.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const r=Ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Xc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=Ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=Sn();const s=fu(),a=fu();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof zr)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),pu(u.mutation,c,u.mutation.getFieldMask(),nt.now())):s.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new rG(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=fu();let r=new Ue((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||Cn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||le()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=bP();u.forEach(h=>{if(!o.has(h)){const f=CP(n.get(h),i.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return B.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):I.resolve(Ki());let a=-1,l=o;return s.next(c=>I.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?I.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,le())).next(u=>({batchId:a,changes:gP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(i=>{let r=Xc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let o=Xc();return this.indexManager.getCollectionParents(e,r).next(s=>I.forEach(s,a=>{const l=function(c,u){return new Fr(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Ge.newInvalidDocument(c)))});let s=Xc();return o.forEach((a,l)=>{const c=r.get(a);c!==void 0&&pu(c.mutation,l,Cn.empty(),nt.now()),Xd(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return I.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:pt(i.createTime)}),I.resolve()}getNamedQuery(e,n){return I.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:a1(i.bundledQuery),readTime:pt(i.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this.overlays=new Ue(B.comparator),this.ls=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ki();return I.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.we(e,n,o)}),I.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),I.resolve()}getOverlaysForCollection(e,n,i){const r=Ki(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return I.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ue((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=o.get(c.largestBatchId);u===null&&(u=Ki(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ki(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return I.resolve(a)}we(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new i1(n,i));let o=this.ls.get(n);o===void 0&&(o=le(),this.ls.set(n,o)),this.ls.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.fs=new Ye(Tt.ds),this.ws=new Ye(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new Tt(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new B(new xe([])),i=new Tt(n,e),r=new Tt(n,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new B(new xe([])),i=new Tt(n,e),r=new Tt(n,e+1);let o=le();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Tt(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return B.comparator(e.key,n.key)||ae(e.As,n.As)}static _s(e,n){return ae(e.As,n.As)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ye(Tt.ds)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new t1(o,n,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(s)}lookupMutationBatch(e,n){return I.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.bs(i),o=r<0?0:r;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Tt(n,0),r=new Tt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ye(ae);return n.forEach(r=>{const o=new Tt(r,0),s=new Tt(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),I.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;B.isDocumentKey(o)||(o=o.child(""));const s=new Tt(new B(o),0);let a=new Ye(ae);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},s),I.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){te(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return I.forEach(n.mutations,r=>{const o=new Tt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new Tt(n,0),r=this.Rs.firstAfterOrEqual(i);return I.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.Ds=e,this.docs=new Ue(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return I.resolve(i?i.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let i=Sn();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ge.newInvalidDocument(r))}),I.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Sn();const s=n.path,a=new B(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Gx(WR(u),i)<=0||(r.has(u.key)||Xd(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,n,i,r){K()}Cs(e,n){return I.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new cG(this)}getSize(e){return I.resolve(this.size)}}class cG extends QP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),I.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.persistence=e,this.xs=new Ho(n=>Bs(n),Yd),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Ns=0,this.ks=new u1,this.targetCount=0,this.Ms=qs.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),I.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Fn(n),I.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),I.waitFor(o).next(()=>r)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return I.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),I.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),I.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return I.resolve(i)}containsKey(e,n){return I.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.$s={},this.overlays={},this.Os=new En(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uG(this),this.indexManager=new K7,this.remoteDocumentCache=function(i){return new lG(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new jP(n),this.qs=new oG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new aG(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){P("MemoryPersistence","Starting transaction:",e);const r=new dG(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,n){return I.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class dG extends KR{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Qs=new u1,this.js=null}static zs(e){return new mg(e)}get Ws(){if(this.js)return this.js;throw K()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),I.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),I.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Ws,i=>{const r=B.fromPath(i);return this.Hs(e,r).next(o=>{o||n.removeEntry(r,ee.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return I.or([()=>I.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.serializer=e}O(e,n,i,r){const o=new lg("createOrUpgrade",n);i<1&&r>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FC,{unique:!0}),a.createObjectStore("documentMutations")}(e),_S(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=I.resolve();return i<3&&r>=3&&(i!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),_S(e)),s=s.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ee.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FC,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return I.waitFor(d)})}(e,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:YW});l.createIndex("collectionPathOverlayIndex",QW,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",XW,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:FW});l.createIndex("documentKeyIndex",zW),l.createIndex("collectionGroupIndex",BW)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:qW}).createIndex("sequenceNumberIndex",WW,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:GW}).createIndex("documentKeyIndex",KW,{unique:!1})}(e))),s}Xs(e){let n=0;return e.store("remoteDocuments").X((i,r)=>{n+=Vp(r)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.j().next(r=>I.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>I.forEach(a,l=>{te(l.userId===o.userId);const c=rs(this.serializer,l);return GP(e,o.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const l=new xe(s),c=function(u){return[0,bn(u)]}(l);o.push(n.get(c).next(u=>u?I.resolve():(d=>n.put({targetId:0,path:bn(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>I.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:HW});const i=n.store("collectionParents"),r=new c1,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:bn(l)})}};return n.store("remoteDocuments").X({Y:!0},(s,a)=>{const l=new xe(s);return o(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([s,a,l],c)=>{const u=Gi(a);return o(u.popLast())}))}ei(e){const n=e.store("targets");return n.X((i,r)=>{const o=Zc(r),s=HP(this.serializer,o);return n.put(s)})}ni(e,n){const i=n.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(c=s,c.document?new B(xe.fromString(c.document.name).popFirst(5)):c.noDocument?B.fromSegments(c.noDocument.path):c.unknownDocument?B.fromSegments(c.unknownDocument.path):K()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>I.waitFor(r))}si(e,n){const i=n.store("mutations"),r=XP(this.serializer),o=new ZP(mg.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:le();rs(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),I.forEach(a,(l,c)=>{const u=new $t(c),d=fg.de(this.serializer,u),h=o.getIndexManager(u),f=pg.de(u,this.serializer,h,o.referenceDelegate);return new JP(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new c0(n,En.ct),l).next()})})}}function _S(t){t.createObjectStore("targetDocuments",{keyPath:VW}).createIndex("documentTargetsIndex",jW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UW,{unique:!0}),t.createObjectStore("targetGlobal")}const lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class d1{constructor(e,n,i,r,o,s,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=c,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!d1.D())throw new R(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tG(this,r),this.di=n+"main",this.serializer=new jP(l),this.wi=new xi(this.di,this.ui,new hG(this.serializer)),this.Bs=new Q7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=XP(this.serializer),this.qs=new U7,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,u===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new R(A.FAILED_PRECONDITION,lv);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new En(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(jo(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Nc(e).get("owner").next(n=>I.resolve(this.Ri(n)))}Pi(e){return rf(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=zt(n,"clientMetadata");return i.j().next(r=>{const o=this.Si(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return I.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?I.resolve(!0):Nc(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new R(A.FAILED_PRECONDITION,lv);return!1}}return!(!this.networkEnabled||!this.inForeground)||rf(e).j().next(i=>this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&P("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new c0(e,En.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(i=>this.Vi(i.updateTimeMs,n)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>rf(e).j().next(n=>this.Si(n,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return pg.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Y7(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return fg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,i){P("IndexedDbPersistence","Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",o=(s=this.ui)===15?ZW:s===14?ZR:s===13?JR:s===12?JW:s===11?XR:void K();var s;let a;return this.wi.runTransaction(e,r,o,l=>(a=new c0(l,this.Os?this.Os.next():En.ct),n==="readwrite-primary"?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new R(A.FAILED_PRECONDITION,GR);return i(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>i(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return Nc(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new R(A.FAILED_PRECONDITION,lv)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Nc(e).put("owner",n)}static D(){return xi.D()}Ai(e){const n=Nc(e);return n.get("owner").next(i=>this.Ri(i)?(P("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):I.resolve())}Vi(e,n){const i=Date.now();return!(e<i-n)&&(!(e>i)||(dt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;Fj()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const i=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return P("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Nc(t){return zt(t,"owner")}function rf(t){return zt(t,"clientMetadata")}function h1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=le(),r=le();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new f1(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(o=>o||this.Gi(e,n,r,i)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(QC(n))return I.resolve(null);let i=Pn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=zp(n,null,"F"),i=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=le(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(n,a);return this.zi(n,c,s,l.readTime)?this.Ki(e,zp(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,i,r){return QC(n)||r.isEqual(ee.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(n,o);return this.zi(n,s,i,r)?this.Qi(e,n):(a0()<=pe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),g0(n)),this.Wi(e,s,n,qR(r,-1)))})}ji(e,n){let i=new Ye(pP(e));return n.forEach((r,o)=>{Xd(e,o)&&(i=i.add(o))}),i}zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,n){return a0()<=pe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",g0(n)),this.Ui.getDocumentsMatchingQuery(e,n,jn.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Ue(ae),this.Yi=new Ho(o=>Bs(o),Yd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function tO(t,e,n,i){return new fG(t,e,n,i)}async function nO(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=le();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}function pG(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=I.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);te(m!==null),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=le();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function iO(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function mG(t,e){const n=H(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(p,m,y){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&a.push(n.Bs.updateTargetData(o,f))});let l=Sn(),c=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(rO(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(ee.min())){const u=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return I.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ji=r,o))}function rO(t,e,n){let i=le(),r=le();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Sn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:r}})}function gG(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Nl(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(o=>o?(r=o,I.resolve(r)):n.Bs.allocateTargetId(i).next(s=>(r=new wr(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function Ll(t,e,n){const i=H(t),r=i.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!jo(s))throw s;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function jp(t,e,n){const i=H(t);let r=ee.min(),o=le();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=H(a),d=u.Yi.get(c);return d!==void 0?I.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,s,Pn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,n?r:ee.min(),n?o:le())).next(a=>(aO(i,fP(e),a),{documents:a,ir:o})))}function oO(t,e){const n=H(t),i=H(n.Bs),r=n.Ji.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(s=>s?s.target:null))}function sO(t,e){const n=H(t),i=n.Xi.get(e)||ee.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.Zi.getAllFromCollectionGroup(r,e,qR(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(aO(n,e,r),r))}function aO(t,e,n){let i=t.Xi.get(e)||ee.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Xi.set(e,i)}async function bG(t,e,n,i){const r=H(t);let o=le(),s=Sn();for(const c of n){const u=e.rr(c.metadata.name);c.document&&(o=o.add(u));const d=e.ur(c);d.setReadTime(e.cr(c.metadata.readTime)),s=s.insert(u,d)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await Nl(r,function(c){return Pn(ic(xe.fromString(`__bundle__/docs/${c}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>rO(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Bs.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.nr,u.sr)).next(()=>u.nr)))}async function vG(t,e,n=le()){const i=await Nl(t,Pn(a1(e.bundledQuery))),r=H(t);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=pt(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.qs.saveNamedQuery(o,e);const a=i.withResumeToken(Ct.EMPTY_BYTE_STRING,s);return r.Ji=r.Ji.insert(a.targetId,a),r.Bs.updateTargetData(o,a).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,n,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}function ES(t,e){return`firestore_clients_${t}_${e}`}function CS(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function cv(t,e){return`firestore_targets_${t}_${e}`}class Hp{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static ar(e,n,i){const r=JSON.parse(i);let o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new R(r.error.code,r.error.message))),s?new Hp(e,n,r.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mu{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static ar(e,n){const i=JSON.parse(n);let r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new R(i.error.code,i.error.message))),o?new mu(e,i.state,r):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const i=JSON.parse(n);let r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=Zx();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=YR(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new qp(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class p1{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new p1(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _0{constructor(){this.activeTargetIds=Zx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uv{constructor(e,n,i,r,o){this.window=e,this.ii=n,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ue(ae),this.started=!1,this.yr=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=ES(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new _0),this.Tr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const i of e){if(i===this.wr)continue;const r=this.getItem(ES(this.persistenceKey,i));if(r){const o=qp.ar(i,r);o&&(this.gr=this.gr.insert(o.clientId,o))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const i=this.br(n);i&&this.Vr(i)}for(const i of this.yr)this.mr(i);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,i){this.Dr(e,n,i),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(cv(this.persistenceKey,e));if(i){const r=mu.ar(e,i);r&&(n=r.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cv(this.persistenceKey,e))}updateQueryState(e,n,i){this.kr(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return P("SharedClientState","READ",e,n),n}setItem(e,n){P("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(P("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const i=this.Or(n.key);return this.Fr(i,null)}{const i=this.Br(n.key,n.newValue);if(i)return this.Fr(i.clientId,i)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const i=this.Lr(n.key,n.newValue);if(i)return this.qr(i)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const i=this.Ur(n.key,n.newValue);if(i)return this.Kr(i)}}else if(n.key===this.vr){if(n.newValue!==null){const i=this.br(n.newValue);if(i)return this.Vr(i)}}else if(n.key===this.Ir){const i=function(r){let o=En.ct;if(r!=null)try{const s=JSON.parse(r);te(typeof s=="number"),o=s}catch(s){dt("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);i!==En.ct&&this.sequenceNumberHandler(i)}else if(n.key===this.Rr){const i=this.Gr(n.newValue);await Promise.all(i.map(r=>this.syncEngine.Qr(r)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,i){const r=new Hp(this.currentUser,e,n,i),o=CS(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const n=CS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,i){const r=cv(this.persistenceKey,e),o=new mu(e,n,i);this.setItem(r,o.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const i=this.Or(e);return qp.ar(i,n)}Lr(e,n){const i=this.Er.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Hp.ar(new $t(o),r,n)}Ur(e,n){const i=this.Ar.exec(e),r=Number(i[1]);return mu.ar(r,n)}br(e){return p1.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);P("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const i=n?this.gr.insert(e,n):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Wr(s,a).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Zx();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class lO{constructor(){this.Hr=new _0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function dv(){return of===null?of=268435456+Math.round(2147483648*Math.random()):of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class kG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,o){const s=dv(),a=this.To(e,n);P("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.Eo(l,r,o),this.Ao(e,a,l,i).then(c=>(P("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Ni("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,n,i,r,o,s){return this.Io(e,n,i,r,o)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+nc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,n){const i=wG[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const o=dv();return new Promise((s,a)=>{const l=new vW;l.setWithCredentials(!0),l.listenOnce(mW.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sv.NO_ERROR:const u=l.getResponseJson();P(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case sv.TIMEOUT:P(tn,`RPC '${e}' ${o} timed out`),a(new R(A.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:const d=l.getStatus();if(P(tn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(y)>=0?y:A.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new R(A.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{P(tn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);P(tn,`RPC '${e}' ${o} sending request:`,r),l.send(n,"POST",c,i,15)})}Ro(e,n,i){const r=dv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fW(),a=pW(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new bW({})),this.Eo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=o.join("");P(tn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const p=new xG({ro:y=>{f?P(tn,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(h||(P(tn,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),P(tn,`RPC '${e}' stream ${r} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,g,b)=>{y.listen(g,v=>{try{b(v)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,Xh.EventType.OPEN,()=>{f||P(tn,`RPC '${e}' stream ${r} transport opened.`)}),m(d,Xh.EventType.CLOSE,()=>{f||(f=!0,P(tn,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(d,Xh.EventType.ERROR,y=>{f||(f=!0,Ni(tn,`RPC '${e}' stream ${r} transport errored:`,y),p.wo(new R(A.UNAVAILABLE,"The operation could not be completed")))}),m(d,Xh.EventType.MESSAGE,y=>{var g;if(!f){const b=y.data[0];te(!!b);const v=b,k=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(k){P(tn,`RPC '${e}' stream ${r} received error:`,k);const $=k.status;let _=function(S){const G=gt[S];if(G!==void 0)return TP(G)}($),x=k.message;_===void 0&&(_=A.INTERNAL,x="Unknown error status: "+$+" with message "+k.message),f=!0,p.wo(new R(_,x)),d.close()}else P(tn,`RPC '${e}' stream ${r} received:`,b),p._o(b)}}),m(a,gW.STAT_EVENT,y=>{y.stat===OC.PROXY?P(tn,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===OC.NOPROXY&&P(tn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof window<"u"?window:null}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new $7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&P("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,i,r,o,s,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new m1(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new R(A.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _G extends uO{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=P7(this.serializer,e),i=function(r){if(!("targetChange"in r))return ee.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?pt(o.readTime):ee.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=cd(this.serializer),n.addTarget=function(r,o){let s;const a=o.target;if(s=Mp(a)?{documents:MP(r,a)}:{query:FP(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=RP(r,o.resumeToken);const l=b0(r,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){s.readTime=Ol(r,o.snapshotVersion.toTimestamp());const l=b0(r,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const i=N7(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=cd(this.serializer),n.removeTarget=e,this.Wo(n)}}class EG extends uO{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=O7(e.writeResults,e.commitTime),i=pt(e.commitTime);return this.listener.cu(i,n)}return te(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=cd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>ud(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new R(A.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new R(A.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(A.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class SG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(dt(n),this.mu=!1):P("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{i.enqueueAndForget(async()=>{qo(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=H(a);l.vu.add(4),await sc(l),l.bu.set("Unknown"),l.vu.delete(4),await nh(l)}(this))})}),this.bu=new SG(i,r)}}async function nh(t){if(qo(t))for(const e of t.Ru)await e(!0)}async function sc(t){for(const e of t.Ru)await e(!1)}function gg(t,e){const n=H(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),v1(n)?b1(n):lc(n).Ko()&&g1(n,e))}function dd(t,e){const n=H(t),i=lc(n);n.Au.delete(e),i.Ko()&&dO(n,e),n.Au.size===0&&(i.Ko()?i.jo():qo(n)&&n.bu.set("Unknown"))}function g1(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).su(e)}function dO(t,e){t.Vu.qt(e),lc(t).iu(e)}function b1(t){t.Vu=new S7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.bu.gu()}function v1(t){return qo(t)&&!lc(t).Uo()&&t.Au.size>0}function qo(t){return H(t).vu.size===0}function hO(t){t.Vu=void 0}async function TG(t){t.Au.forEach((e,n)=>{g1(t,e)})}async function AG(t,e){hO(t),v1(t)?(t.bu.Iu(e),b1(t)):t.bu.set("Unknown")}async function $G(t,e,n){if(t.bu.set("Online"),e instanceof DP&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const s of r.targetIds)i.Au.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Au.delete(s),i.Vu.removeTarget(s))}(t,e)}catch(i){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wp(t,i)}else if(e instanceof Af?t.Vu.Ht(e):e instanceof $P?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ee.min()))try{const i=await iO(t.localStore);n.compareTo(i)>=0&&await function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),dO(r,a);const u=new wr(c.target,a,l,c.sequenceNumber);g1(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(i){P("RemoteStore","Failed to raise snapshot:",i),await Wp(t,i)}}async function Wp(t,e,n){if(!jo(e))throw e;t.vu.add(1),await sc(t),t.bu.set("Offline"),n||(n=()=>iO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await nh(t)})}function fO(t,e){return e().catch(n=>Wp(t,n,e))}async function ac(t){const e=H(t),n=$o(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DG(e);)try{const r=await gG(e.localStore,i);if(r===null){e.Eu.length===0&&n.jo();break}i=r.batchId,RG(e,r)}catch(r){await Wp(e,r)}pO(e)&&mO(e)}function DG(t){return qo(t)&&t.Eu.length<10}function RG(t,e){t.Eu.push(e);const n=$o(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function pO(t){return qo(t)&&!$o(t).Uo()&&t.Eu.length>0}function mO(t){$o(t).start()}async function PG(t){$o(t).hu()}async function OG(t){const e=$o(t);for(const n of t.Eu)e.uu(n.mutations)}async function NG(t,e,n){const i=t.Eu.shift(),r=n1.from(i,e,n);await fO(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ac(t)}async function LG(t,e){e&&$o(t).ou&&await async function(n,i){if(r=i.code,IP(r)&&r!==A.ABORTED){const o=n.Eu.shift();$o(n).Qo(),await fO(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ac(n)}var r}(t,e),pO(t)&&mO(t)}async function IS(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const i=qo(n);n.vu.add(3),await sc(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await nh(n)}async function E0(t,e){const n=H(t);e?(n.vu.delete(2),await nh(n)):e||(n.vu.add(2),await sc(n),n.bu.set("Unknown"))}function lc(t){return t.Su||(t.Su=function(e,n,i){const r=H(e);return r.fu(),new _G(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:TG.bind(null,t),ao:AG.bind(null,t),nu:$G.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),v1(t)?b1(t):t.bu.set("Unknown")):(await t.Su.stop(),hO(t))})),t.Su}function $o(t){return t.Du||(t.Du=function(e,n,i){const r=H(e);return r.fu(),new EG(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:PG.bind(null,t),ao:LG.bind(null,t),au:OG.bind(null,t),cu:NG.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ac(t)):(await t.Du.stop(),t.Eu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,i,r,o){const s=Date.now()+i,a=new y1(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(t,e){if(dt("AsyncQueue",`${e}: ${t}`),jo(t))return new R(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.comparator=e?(n,i)=>e(n,i)||B.comparator(n.key,i.key):(n,i)=>B.comparator(n.key,i.key),this.keyedMap=Xc(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ll;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Cu=new Ue(B.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):K():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ml{constructor(e,n,i,r,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ml(e,n,ll.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.Nu=void 0,this.listeners=[]}}class FG{constructor(){this.queries=new Ho(e=>hP(e),Qd),this.onlineState="Unknown",this.ku=new Set}}async function w1(t,e){const n=H(t),i=e.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new MG),r)try{o.Nu=await n.onListen(i)}catch(s){const a=cc(s,`Initialization of query '${g0(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&k1(n)}async function x1(t,e){const n=H(t),i=e.query;let r=!1;const o=n.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function zG(t,e){const n=H(t);let i=!1;for(const r of e){const o=r.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&k1(n)}function BG(t,e,n){const i=H(t),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(e)}function k1(t){t.ku.forEach(e=>{e.next()})}class _1{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.serializer=e}rr(e){return Zi(this.serializer,e)}ur(e){return e.metadata.exists?LP(this.serializer,e.document,!1):Ge.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return pt(e)}}class VG{constructor(e,n,i){this.ju=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gO(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const i=xe.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,i=new AS(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const s of r.metadata.queries){const a=(n.get(s)||le()).add(o);n.set(s,a)}}return n}async complete(){const e=await bG(this.localStore,new AS(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const i of this.queries)await vG(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function gO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.key=e}}class vO{constructor(e){this.key=e}}class yO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=pP(e),this.ec=new ll(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new TS,r=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Xd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),y=!0):this.rc(h,f)||(i.track({type:2,doc:f}),y=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),y=!0):h&&!f&&(i.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Ml(this.query,e.ec,r,o,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new TS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new vO(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new bO(i))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ml.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class jG{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class HG{constructor(e){this.key=e,this.fc=!1}}class qG{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ho(a=>hP(a),Qd),this._c=new Map,this.mc=new Set,this.gc=new Ue(B.comparator),this.yc=new Map,this.Ic=new u1,this.Tc={},this.Ec=new Map,this.Ac=qs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function WG(t,e){const n=T1(t);let i,r;const o=n.wc.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=await Nl(n.localStore,Pn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=await E1(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&gg(n.remoteStore,s)}return r}async function E1(t,e,n,i,r){t.Rc=(d,h,f)=>async function(p,m,y,g){let b=m.view.sc(y);b.zi&&(b=await jp(p.localStore,m.query,!1).then(({documents:$})=>m.view.sc($,b)));const v=g&&g.targetChanges.get(m.targetId),k=m.view.applyChanges(b,p.isPrimaryClient,v);return C0(p,m.targetId,k.cc),k.snapshot}(t,d,h,f);const o=await jp(t.localStore,e,!0),s=new yO(e,o.ir),a=s.sc(o.documents),l=eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=s.applyChanges(a,t.isPrimaryClient,l);C0(t,n,c.cc);const u=new jG(e,n,s);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function GG(t,e){const n=H(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(o=>!Qd(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ll(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),dd(n.remoteStore,i.targetId),Fl(n,i.targetId)}).catch(Vo)):(Fl(n,i.targetId),await Ll(n.localStore,i.targetId,!0))}async function KG(t,e,n){const i=A1(t);try{const r=await function(o,s){const a=H(o),l=nt.now(),c=s.reduce((h,f)=>h.add(f.key),le());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Sn(),p=le();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((y,g)=>{g.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const y=[];for(const g of s){const b=_7(g,u.get(g.key).overlayedDocument);b!=null&&y.push(new zr(g.key,b,iP(b.value.mapValue),tt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:gP(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new Ue(ae)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(i,r.batchId,n),await Br(i,r.changes),await ac(i.remoteStore)}catch(r){const o=cc(r,"Failed to persist write");n.reject(o)}}async function wO(t,e){const n=H(t);try{const i=await mG(n.localStore,e);e.targetChanges.forEach((r,o)=>{const s=n.yc.get(o);s&&(te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?te(s.fc):r.removedDocuments.size>0&&(te(s.fc),s.fc=!1))}),await Br(n,i,e)}catch(i){await Vo(i)}}function $S(t,e,n){const i=H(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=H(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&k1(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function YG(t,e,n){const i=H(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new Ue(B.comparator);s=s.insert(o,Ge.newNoDocument(o,ee.min()));const a=le().add(o),l=new Zd(ee.min(),new Map,new Ue(ae),s,a);await wO(i,l),i.gc=i.gc.remove(o),i.yc.delete(e),I1(i)}else await Ll(i.localStore,e,!1).then(()=>Fl(i,e,n)).catch(Vo)}async function QG(t,e){const n=H(t),i=e.batch.batchId;try{const r=await pG(n.localStore,e);S1(n,i,null),C1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Br(n,r)}catch(r){await Vo(r)}}async function XG(t,e,n){const i=H(t);try{const r=await function(o,s){const a=H(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(te(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);S1(i,e,n),C1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Br(i,r)}catch(r){await Vo(r)}}async function JG(t,e){const n=H(t);qo(n.remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(o){const s=H(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(i===-1)return void e.resolve();const r=n.Ec.get(i)||[];r.push(e),n.Ec.set(i,r)}catch(i){const r=cc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}function C1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function S1(t,e,n){const i=H(t);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||xO(t,i)})}function xO(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(dd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),I1(t))}function C0(t,e,n){for(const i of n)i instanceof bO?(t.Ic.addReference(i.key,e),ZG(t,i)):i instanceof vO?(P("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||xO(t,i.key)):K()}function ZG(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(P("SyncEngine","New document in limbo: "+n),t.mc.add(i),I1(t))}function I1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new B(xe.fromString(e)),i=t.Ac.next();t.yc.set(i,new HG(n)),t.gc=t.gc.insert(n,i),gg(t.remoteStore,new wr(Pn(ic(n.path)),i,"TargetPurposeLimboResolution",En.ct))}}async function Br(t,e,n){const i=H(t),r=[],o=[],s=[];i.wc.isEmpty()||(i.wc.forEach((a,l)=>{s.push(i.Rc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=f1.Li(l.targetId,c);o.push(u)}}))}),await Promise.all(s),i.dc.nu(r),await async function(a,l){const c=H(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>I.forEach(l,d=>I.forEach(d.Fi,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>I.forEach(d.Bi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!jo(u))throw u;P("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const h=c.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);c.Ji=c.Ji.insert(d,p)}}}(i.localStore,o))}async function eK(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const i=await nO(n.localStore,e);n.currentUser=e,function(r,o){r.Ec.forEach(s=>{s.forEach(a=>{a.reject(new R(A.CANCELLED,o))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Br(n,i.er)}}function tK(t,e){const n=H(t),i=n.yc.get(e);if(i&&i.fc)return le().add(i.key);{let r=le();const o=n._c.get(e);if(!o)return r;for(const s of o){const a=n.wc.get(s);r=r.unionWith(a.view.nc)}return r}}async function nK(t,e){const n=H(t),i=await jp(n.localStore,e.query,!0),r=e.view.hc(i);return n.isPrimaryClient&&C0(n,e.targetId,r.cc),r}async function iK(t,e){const n=H(t);return sO(n.localStore,e).then(i=>Br(n,i))}async function rK(t,e,n,i){const r=H(t),o=await function(s,a){const l=H(s),c=H(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Sn(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):I.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?await ac(r.remoteStore):n==="acknowledged"||n==="rejected"?(S1(r,e,i||null),C1(r,e),function(s,a){H(H(s).mutationQueue).Cn(a)}(r.localStore,e)):K(),await Br(r,o)):P("SyncEngine","Cannot apply mutation batch with id: "+e)}async function oK(t,e){const n=H(t);if(T1(n),A1(n),e===!0&&n.vc!==!0){const i=n.sharedClientState.getAllActiveQueryTargets(),r=await DS(n,i.toArray());n.vc=!0,await E0(n.remoteStore,!0);for(const o of r)gg(n.remoteStore,o)}else if(e===!1&&n.vc!==!1){const i=[];let r=Promise.resolve();n._c.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Fl(n,s),Ll(n.localStore,s,!0))),dd(n.remoteStore,s)}),await r,await DS(n,i),function(o){const s=H(o);s.yc.forEach((a,l)=>{dd(s.remoteStore,l)}),s.Ic.Ts(),s.yc=new Map,s.gc=new Ue(B.comparator)}(n),n.vc=!1,await E0(n.remoteStore,!1)}}async function DS(t,e,n){const i=H(t),r=[],o=[];for(const s of e){let a;const l=i._c.get(s);if(l&&l.length!==0){a=await Nl(i.localStore,Pn(l[0]));for(const c of l){const u=i.wc.get(c),d=await nK(i,u);d.snapshot&&o.push(d.snapshot)}}else{const c=await oO(i.localStore,s);a=await Nl(i.localStore,c),await E1(i,kO(c),s,!1,a.resumeToken)}r.push(a)}return i.dc.nu(o),r}function kO(t){return dP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sK(t){const e=H(t);return H(H(e.localStore).persistence).$i()}async function aK(t,e,n,i){const r=H(t);if(r.vc)return void P("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await sO(r.localStore,fP(o[0])),a=Zd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ct.EMPTY_BYTE_STRING);await Br(r,s,a);break}case"rejected":await Ll(r.localStore,e,!0),Fl(r,e,i);break;default:K()}}async function lK(t,e,n){const i=T1(t);if(i.vc){for(const r of e){if(i._c.has(r)){P("SyncEngine","Adding an already active target "+r);continue}const o=await oO(i.localStore,r),s=await Nl(i.localStore,o);await E1(i,kO(o),s.targetId,!1,s.resumeToken),gg(i.remoteStore,s)}for(const r of n)i._c.has(r)&&await Ll(i.localStore,r,!1).then(()=>{dd(i.remoteStore,r),Fl(i,r)}).catch(Vo)}}function T1(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YG.bind(null,e),e.dc.nu=zG.bind(null,e.eventManager),e.dc.Pc=BG.bind(null,e.eventManager),e}function A1(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XG.bind(null,e),e}function cK(t,e,n){const i=H(t);(async function(r,o,s){try{const a=await o.getMetadata();if(await function(d,h){const f=H(d),p=pt(h.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",m=>f.qs.getBundleMetadata(m,h.id)).then(m=>!!m&&m.createTime.compareTo(p)>=0)}(r.localStore,a))return await o.close(),s._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);s._updateProgress(gO(a));const l=new VG(a,r.localStore,o.serializer);let c=await o.bc();for(;c;){const d=await l.zu(c);d&&s._updateProgress(d),c=await o.bc()}const u=await l.complete();return await Br(r,u.Ju,void 0),await function(d,h){const f=H(d);return f.persistence.runTransaction("Save bundle","readwrite",p=>f.qs.saveBundleMetadata(p,h))}(r.localStore,a),s._completeWith(u.progress),Promise.resolve(u.Hu)}catch(a){return Ni("SyncEngine",`Loading bundle failed with ${a}`),s._failWith(a),Promise.resolve(new Set)}})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}class S0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tO(this.persistence,new eO,e.initialUser,this.serializer)}createPersistence(e){return new ZP(mg.zs,this.serializer)}createSharedClientState(e){return new lO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _O extends S0{constructor(e,n,i){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await A1(this.Vc.syncEngine),await ac(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return tO(this.persistence,new eO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const i=this.persistence.referenceDelegate.garbageCollector;return new J7(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new NW(n,this.persistence);return new OW(e.asyncQueue,i)}createPersistence(e){const n=h1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new d1(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,cO(),$f(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new lO}}class uK extends _O{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof uv&&(this.sharedClientState.syncEngine={jr:rK.bind(null,n),zr:aK.bind(null,n),Wr:lK.bind(null,n),$i:sK.bind(null,n),Qr:iK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async i=>{await oK(this.Vc.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=cO();if(!uv.D(n))throw new R(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=h1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uv(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class $1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$S(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eK.bind(null,this.syncEngine),await E0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new FG}createDatastore(e){const n=th(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new kG(r));var r;return function(o,s,a,l){return new CG(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>$S(this.syncEngine,a,0),s=SS.D()?new SS:new yG,new IG(n,i,r,o,s);var n,i,r,o,s}createSyncEngine(e,n){return function(i,r,o,s,a,l,c){const u=new qG(i,r,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=H(e);P("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await sc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Nt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),i=Number(n);isNaN(i)&&this.Mc(`length string (${n}) is not valid number`);const r=await this.$c(i);return new UG(JSON.parse(r),e.length+i)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new R(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,r){const o=H(i),s=cd(o.serializer)+"/documents",a={documents:r.map(d=>ld(o.serializer,d))},l=await o.vo("BatchGetDocuments",s,a,r.length),c=new Map;l.forEach(d=>{const h=R7(o.serializer,d);c.set(h.key.toString(),h)});const u=[];return r.forEach(d=>{const h=c.get(d.toString());te(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const r=B.fromPath(i);this.mutations.push(new e1(r,this.precondition(r)))}),await async function(n,i){const r=H(n),o=cd(r.serializer)+"/documents",s={writes:i.map(a=>ud(r.serializer,a))};await r.Io("Commit",o,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw K();n=ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new R(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ee.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ee.min()))throw new R(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new m1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new hK(this.datastore),n=this.qc(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.Uc(r)}))}).catch(i=>{this.Uc(i)})})}qc(e){try{const n=this.updateFunction(e);return!Kd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!IP(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=VR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{P("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=cc(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Df(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await nO(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D1(t);P("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>IS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>IS(e.remoteStore,o)),t._onlineComponents=e}function EO(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function D1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{await Df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!EO(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await Df(t,new S0)}}else P("FirestoreClient","Using default OfflineComponentProvider"),await Df(t,new S0);return t._offlineComponents}async function vg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),await I0(t,new $1))),t._onlineComponents}function CO(t){return D1(t).then(e=>e.persistence)}function R1(t){return D1(t).then(e=>e.localStore)}function SO(t){return vg(t).then(e=>e.remoteStore)}function P1(t){return vg(t).then(e=>e.syncEngine)}function mK(t){return vg(t).then(e=>e.datastore)}async function zl(t){const e=await vg(t),n=e.eventManager;return n.onListen=WG.bind(null,e.syncEngine),n.onUnlisten=GG.bind(null,e.syncEngine),n}function gK(t){return t.asyncQueue.enqueue(async()=>{const e=await CO(t),n=await SO(t);return e.setNetworkEnabled(!0),function(i){const r=H(i);return r.vu.delete(0),nh(r)}(n)})}function bK(t){return t.asyncQueue.enqueue(async()=>{const e=await CO(t),n=await SO(t);return e.setNetworkEnabled(!1),async function(i){const r=H(i);r.vu.add(0),await sc(r),r.bu.set("Offline")}(n)})}function vK(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,r,o){try{const s=await function(a,l){const c=H(a);return c.persistence.runTransaction("read document","readonly",u=>c.localDocuments.getDocument(u,l))}(i,r);s.isFoundDocument()?o.resolve(s):s.isNoDocument()?o.resolve(null):o.reject(new R(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const a=cc(s,`Failed to get document '${r} from cache`);o.reject(a)}}(await R1(t),e,n)),n.promise}function IO(t,e,n={}){const i=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,s,a,l){const c=new bg({next:d=>{o.enqueueAndForget(()=>x1(r,u));const h=d.docs.has(s);!h&&d.fromCache?l.reject(new R(A.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new R(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new _1(ic(s.path),c,{includeMetadataChanges:!0,Ku:!0});return w1(r,u)}(await zl(t),t.asyncQueue,e,n,i)),i.promise}function yK(t,e){const n=new Nt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,r,o){try{const s=await jp(i,r,!0),a=new yO(r,s.ir),l=a.sc(s.documents),c=a.applyChanges(l,!1);o.resolve(c.snapshot)}catch(s){const a=cc(s,`Failed to execute query '${r} against cache`);o.reject(a)}}(await R1(t),e,n)),n.promise}function TO(t,e,n={}){const i=new Nt;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,s,a,l){const c=new bg({next:d=>{o.enqueueAndForget(()=>x1(r,u)),d.fromCache&&a.source==="server"?l.reject(new R(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new _1(s,c,{includeMetadataChanges:!0,Ku:!0});return w1(r,u)}(await zl(t),t.asyncQueue,e,n,i)),i.promise}function wK(t,e){const n=new bg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,r){H(i).ku.add(r),r.next()}(await zl(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(i,r){H(i).ku.delete(r)}(await zl(t),n))}}function xK(t,e,n,i){const r=function(o,s){let a;return a=typeof o=="string"?AP().encode(o):o,function(l,c){return new dK(l,c)}(function(l,c){if(l instanceof Uint8Array)return RS(l,c);if(l instanceof ArrayBuffer)return RS(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),s)}(n,th(e));t.asyncQueue.enqueueAndForget(async()=>{cK(await P1(t),r,i)})}function kK(t,e){return t.asyncQueue.enqueue(async()=>function(n,i){const r=H(n);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(await R1(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e,n){if(!n)throw new R(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $O(t,e,n,i){if(e===!0&&i===!0)throw new R(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OS(t){if(!B.isDocumentKey(t))throw new R(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NS(t){if(B.isDocumentKey(t))throw new R(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yg(t);throw new R(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DO(t,e){if(e<=0)throw new R(A.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new R(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AO((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new R(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new R(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new R(A.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class ih{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new kW;switch(n.type){case"firstParty":return new SW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=PS.get(e);n&&(P("ComponentProvider","Removing Datastore"),PS.delete(e),n.terminate())}(this),Promise.resolve()}}function RO(t,e,n,i={}){var r;const o=(t=_e(t,ih))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=$t.MOCK_USER;else{a=wx(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new R(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(c)}t._authCredentials=new _W(new UR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}}class Jt{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class er extends Jt{constructor(e,n,i){super(e,n,ic(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new B(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function N1(t,e,...n){if(t=ge(t),O1("collection","path",e),t instanceof ih){const i=xe.fromString(e,...n);return NS(i),new er(t,null,i)}{if(!(t instanceof Qe||t instanceof er))throw new R(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xe.fromString(e,...n));return NS(i),new er(t.firestore,null,i)}}function _K(t,e){if(t=_e(t,ih),O1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new R(A.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jt(t,null,function(n){return new Fr(xe.emptyPath(),n)}(e))}function Li(t,e,...n){if(t=ge(t),arguments.length===1&&(e=VR.A()),O1("doc","path",e),t instanceof ih){const i=xe.fromString(e,...n);return OS(i),new Qe(t,null,new B(i))}{if(!(t instanceof Qe||t instanceof er))throw new R(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xe.fromString(e,...n));return OS(i),new Qe(t.firestore,t instanceof er?t.converter:null,new B(i))}}function PO(t,e){return t=ge(t),e=ge(e),(t instanceof Qe||t instanceof er)&&(e instanceof Qe||e instanceof er)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function OO(t,e){return t=ge(t),e=ge(e),t instanceof Jt&&e instanceof Jt&&t.firestore===e.firestore&&Qd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new m1(this,"async_queue_retry"),this.Xc=()=>{const n=$f();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=$f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Nt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!jo(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const r=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i);throw dt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=y1.createAndSchedule(this,e,n,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&K()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function T0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class CK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=-1;class st extends ih{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new EK,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NO(this),this._firestoreClient.terminate()}}function IK(t,e){const n=typeof t=="object"?t:Zl(),i=typeof t=="string"?t:e||"(default)",r=zo(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Hm("firestore");o&&RO(r,...o)}return r}function St(t){return t._firestoreClient||NO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NO(t){var e,n,i;const r=t._freezeSettings(),o=function(s,a,l,c){return new n7(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new pK(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function TK(t,e){MO(t=_e(t,st));const n=St(t);if(n._uninitializedComponentsProvider)throw new R(A.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new $1;return LO(n,r,new _O(r,i.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function AK(t){MO(t=_e(t,st));const e=St(t);if(e._uninitializedComponentsProvider)throw new R(A.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new $1;return LO(e,i,new uK(i,n.cacheSizeBytes))}function LO(t,e,n){const i=new Nt;return t.asyncQueue.enqueue(async()=>{try{await Df(t,n),await I0(t,e),i.resolve()}catch(r){const o=r;if(!EO(o))throw o;Ni("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}}).then(()=>i.promise)}function $K(t){if(t._initialized&&!t._terminated)throw new R(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!xi.D())return Promise.resolve();const i=n+"main";await xi.delete(i)}(h1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function DK(t){return function(e){const n=new Nt;return e.asyncQueue.enqueueAndForget(async()=>JG(await P1(e),n)),n.promise}(St(t=_e(t,st)))}function RK(t){return gK(St(t=_e(t,st)))}function PK(t){return bK(St(t=_e(t,st)))}function OK(t,e){const n=St(t=_e(t,st)),i=new CK;return xK(n,t._databaseId,e,i),i}function NK(t,e){return kK(St(t=_e(t,st)),e).then(n=>n?new Jt(t,null,n.query):null)}function MO(t){if(t._initialized||t._terminated)throw new R(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(Ct.fromBase64String(e))}catch(n){throw new R(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^__.*__$/;class MK{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)}}class FO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class xg{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Gp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(zO(this.ca)&&LK.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class FK{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||th(e)}ya(e,n,i,r=!1){return new xg({ca:e,methodName:n,ga:i,path:ht.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aa(t){const e=t._freezeSettings(),n=th(t._databaseId);return new FK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kg(t,e,n,i,r,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,r);z1("Data must be an object, but it was:",s,i);const a=VO(i,s);let l,c;if(o.merge)l=new Cn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=A0(e,d,n);if(!s.contains(h))throw new R(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HO(u,h)||u.push(h)}l=new Cn(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new MK(new Gt(a),l,c)}class rh extends sa{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function BO(t,e,n){return new xg({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class L1 extends sa{_toFieldTransform(e){return new Jd(e.path,new Rl)}isEqual(e){return e instanceof L1}}class zK extends sa{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=BO(this,e,!0),i=this.pa.map(o=>la(o,n)),r=new Us(i);return new Jd(e.path,r)}isEqual(e){return this===e}}class BK extends sa{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=BO(this,e,!0),i=this.pa.map(o=>la(o,n)),r=new Vs(i);return new Jd(e.path,r)}isEqual(e){return this===e}}class UK extends sa{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Pl(e.serializer,wP(e.serializer,this.Ia));return new Jd(e.path,n)}isEqual(e){return this===e}}function M1(t,e,n,i){const r=t.ya(1,e,n);z1("Data must be an object, but it was:",r,i);const o=[],s=Gt.empty();oa(i,(l,c)=>{const u=B1(e,l,n);c=ge(c);const d=r.da(u);if(c instanceof rh)o.push(u);else{const h=la(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new Cn(o);return new FO(s,a,r.fieldTransforms)}function F1(t,e,n,i,r,o){const s=t.ya(1,e,n),a=[A0(e,i,n)],l=[r];if(o.length%2!=0)throw new R(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(A0(e,o[h])),l.push(o[h+1]);const c=[],u=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!HO(c,a[h])){const f=a[h];let p=l[h];p=ge(p);const m=s.da(f);if(p instanceof rh)c.push(f);else{const y=la(p,m);y!=null&&(c.push(f),u.set(f,y))}}const d=new Cn(c);return new FO(u,d,s.fieldTransforms)}function UO(t,e,n,i=!1){return la(n,t.ya(i?4:3,e))}function la(t,e){if(jO(t=ge(t)))return z1("Unsupported field value:",e,t),VO(t,e);if(t instanceof sa)return function(n,i){if(!zO(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let o=0;for(const s of n){let a=la(s,i.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=ge(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=nt.fromDate(n);return{timestampValue:Ol(i.serializer,r)}}if(n instanceof nt){const r=new nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(i.serializer,r)}}if(n instanceof wg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sr)return{bytesValue:RP(i.serializer,n._byteString)};if(n instanceof Qe){const r=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:s1(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${yg(n)}`)}(t,e)}function VO(t,e){const n={};return eP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,(i,r)=>{const o=la(r,e.ha(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function jO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof wg||t instanceof sr||t instanceof Qe||t instanceof sa)}function z1(t,e,n){if(!jO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=yg(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function A0(t,e,n){if((e=ge(e))instanceof Do)return e._internalPath;if(typeof e=="string")return B1(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const VK=new RegExp("[~\\*/\\[\\]]");function B1(t,e,n){if(e.search(VK)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Do(...e.split("."))._internalPath}catch(i){throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,i,r){const o=i&&!i.isEmpty(),s=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new R(A.INVALID_ARGUMENT,a+t+l)}function HO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jK extends hd{data(){return super.data()}}function _g(t,e){return typeof e=="string"?B1(t,e):e instanceof Do?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U1{}class oh extends U1{}function hr(t,e,...n){let i=[];e instanceof U1&&i.push(e),i=i.concat(n),function(r){const o=r.filter(a=>a instanceof V1).length,s=r.filter(a=>a instanceof Eg).length;if(o>1||o>0&&s>0)throw new R(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Eg extends oh{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Eg(e,n,i)}_apply(e){const n=this._parse(e);return KO(e._query,n),new Jt(e.firestore,e.converter,m0(e._query,n))}_parse(e){const n=aa(e.firestore);return function(r,o,s,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new R(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){FS(u,c);const h=[];for(const f of u)h.push(MS(a,r,f));d={arrayValue:{values:h}}}else d=MS(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||FS(u,c),d=UO(s,o,u,c==="in"||c==="not-in");return he.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WO(t,e,n){const i=e,r=_g("where",t);return Eg._create(r,i,n)}class V1 extends U1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V1(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)KO(o,a),o=m0(o,a)}(e._query,n),new Jt(e.firestore,e.converter,m0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j1 extends oh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j1(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new R(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new R(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new al(r,o);return function(a,l){if(Xx(a)===null){const c=ug(a);c!==null&&YO(a,c,l.field)}}(i,s),s}(e._query,this._field,this._direction);return new Jt(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Fr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function HK(t,e="asc"){const n=e,i=_g("orderBy",t);return j1._create(i,n)}class Cg extends oh{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Cg(e,n,i)}_apply(e){return new Jt(e.firestore,e.converter,zp(e._query,this._limit,this._limitType))}}function qK(t){return DO("limit",t),Cg._create("limit",t,"F")}function WK(t){return DO("limitToLast",t),Cg._create("limitToLast",t,"L")}class Sg extends oh{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Sg(e,n,i)}_apply(e){const n=GO(e,this.type,this._docOrFields,this._inclusive);return new Jt(e.firestore,e.converter,function(i,r){return new Fr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)}(e._query,n))}}function GK(...t){return Sg._create("startAt",t,!0)}function KK(...t){return Sg._create("startAfter",t,!1)}class Ig extends oh{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Ig(e,n,i)}_apply(e){const n=GO(e,this.type,this._docOrFields,this._inclusive);return new Jt(e.firestore,e.converter,function(i,r){return new Fr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)}(e._query,n))}}function YK(...t){return Ig._create("endBefore",t,!1)}function QK(...t){return Ig._create("endAt",t,!0)}function GO(t,e,n,i){if(n[0]=ge(n[0]),n[0]instanceof hd)return function(r,o,s,a,l){if(!a)throw new R(A.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const c=[];for(const u of _s(r))if(u.field.isKeyField())c.push(zs(o,a.key));else{const d=a.data.field(u.field);if(cg(d))throw new R(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=u.field.canonicalString();throw new R(A.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new Ao(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=aa(t.firestore);return function(o,s,a,l,c,u){const d=o.explicitOrderBy;if(c.length>d.length)throw new R(A.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new R(A.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!Jx(o)&&p.indexOf("/")!==-1)throw new R(A.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=o.path.child(xe.fromString(p));if(!B.isDocumentKey(m))throw new R(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const y=new B(m);h.push(zs(s,y))}else{const m=UO(a,l,p);h.push(m)}}return new Ao(h,u)}(t._query,t.firestore._databaseId,r,e,n,i)}}function MS(t,e,n){if(typeof(n=ge(n))=="string"){if(n==="")throw new R(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jx(e)&&n.indexOf("/")!==-1)throw new R(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(xe.fromString(n));if(!B.isDocumentKey(i))throw new R(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zs(t,new B(i))}if(n instanceof Qe)return zs(t,n._key);throw new R(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yg(n)}.`)}function FS(t,e){if(!Array.isArray(t)||t.length===0)throw new R(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KO(t,e){if(e.isInequality()){const i=ug(t),r=e.field;if(i!==null&&!i.isEqual(r))throw new R(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Xx(t);o!==null&&YO(t,r,o)}const n=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new R(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new R(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function YO(t,e,n){if(!n.isEqual(e))throw new R(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class H1{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return oa(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new wg(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Yx(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=Co(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xe.fromString(e);te(VP(i));const r=new Io(i.get(1),i.get(3)),o=new B(i.popFirst(5));return r.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class XK extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends hd{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_g("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class gu extends Or{data(e={}){return super.data(e)}}class Ro{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new bs(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new gu(this._firestore,this._userDataWriter,i.key,i,new bs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const a=new gu(i._firestore,i._userDataWriter,s.doc.key,s.doc,new bs(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||s.type!==3).map(s=>{const a=new gu(i._firestore,i._userDataWriter,s.doc.key,s.doc,new bs(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:JK(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function QO(t,e){return t instanceof Or&&e instanceof Or?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ro&&e instanceof Ro&&t._firestore===e._firestore&&OO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){t=_e(t,Qe);const e=_e(t.firestore,st);return IO(St(e),t._key).then(n=>q1(e,t,n))}class ca extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function ZK(t){t=_e(t,Qe);const e=_e(t.firestore,st),n=St(e),i=new ca(e);return vK(n,t._key).then(r=>new Or(e,i,t._key,r,new bs(r!==null&&r.hasLocalMutations,!0),t.converter))}function eY(t){t=_e(t,Qe);const e=_e(t.firestore,st);return IO(St(e),t._key,{source:"server"}).then(n=>q1(e,t,n))}function XO(t){t=_e(t,Jt);const e=_e(t.firestore,st),n=St(e),i=new ca(e);return qO(t._query),TO(n,t._query).then(r=>new Ro(e,i,t,r))}function tY(t){t=_e(t,Jt);const e=_e(t.firestore,st),n=St(e),i=new ca(e);return yK(n,t._query).then(r=>new Ro(e,i,t,r))}function nY(t){t=_e(t,Jt);const e=_e(t.firestore,st),n=St(e),i=new ca(e);return TO(n,t._query,{source:"server"}).then(r=>new Ro(e,i,t,r))}function Kp(t,e,n){t=_e(t,Qe);const i=_e(t.firestore,st),r=Tg(t.converter,e,n);return uc(i,[kg(aa(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,tt.none())])}function zS(t,e,n,...i){t=_e(t,Qe);const r=_e(t.firestore,st),o=aa(r);let s;return s=typeof(e=ge(e))=="string"||e instanceof Do?F1(o,"updateDoc",t._key,e,n,i):M1(o,"updateDoc",t._key,e),uc(r,[s.toMutation(t._key,tt.exists(!0))])}function iY(t){return uc(_e(t.firestore,st),[new oc(t._key,tt.none())])}function rY(t,e){const n=_e(t.firestore,st),i=Li(t),r=Tg(t.converter,e);return uc(n,[kg(aa(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,tt.exists(!1))]).then(()=>i)}function JO(t,...e){var n,i,r;t=ge(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||T0(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(T0(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[s+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof Qe)c=_e(t.firestore,st),u=ic(t._key.path),l={next:d=>{e[s]&&e[s](q1(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=_e(t,Jt);c=_e(d.firestore,st),u=d._query;const h=new ca(c);l={next:f=>{e[s]&&e[s](new Ro(c,h,d,f))},error:e[s+1],complete:e[s+2]},qO(t._query)}return function(d,h,f,p){const m=new bg(p),y=new _1(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>w1(await zl(d),y)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>x1(await zl(d),y))}}(St(c),u,a,l)}function oY(t,e){return wK(St(t=_e(t,st)),T0(e)?e:{next:e})}function uc(t,e){return function(n,i){const r=new Nt;return n.asyncQueue.enqueueAndForget(async()=>KG(await P1(n),i,r)),r.promise}(St(t),e)}function q1(t,e,n){const i=n.docs.get(e._key),r=new ca(t);return new Or(t,r,e._key,i,new bs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=aa(e)}set(e,n,i){this._verifyNotCommitted();const r=eo(e,this._firestore),o=Tg(r.converter,n,i),s=kg(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,tt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const o=eo(e,this._firestore);let s;return s=typeof(n=ge(n))=="string"||n instanceof Do?F1(this._dataReader,"WriteBatch.update",o._key,n,i,r):M1(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=eo(e,this._firestore);return this._mutations=this._mutations.concat(new oc(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eo(t,e){if((t=ge(t)).firestore!==e)throw new R(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=aa(e)}get(e){const n=eo(e,this._firestore),i=new XK(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return K();const o=r[0];if(o.isFoundDocument())return new hd(this._firestore,i,o.key,o,n.converter);if(o.isNoDocument())return new hd(this._firestore,i,n._key,null,n.converter);throw K()})}set(e,n,i){const r=eo(e,this._firestore),o=Tg(r.converter,n,i),s=kg(this._dataReader,"Transaction.set",r._key,o,r.converter!==null,i);return this._transaction.set(r._key,s),this}update(e,n,i,...r){const o=eo(e,this._firestore);let s;return s=typeof(n=ge(n))=="string"||n instanceof Do?F1(this._dataReader,"Transaction.update",o._key,n,i,r):M1(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=eo(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=eo(e,this._firestore),i=new ca(this._firestore);return super.get(e).then(r=>new Or(this._firestore,i,n._key,r._document,new bs(!1,!1),n.converter))}}function lY(t,e,n){t=_e(t,st);const i=Object.assign(Object.assign({},sY),n);return function(r){if(r.maxAttempts<1)throw new R(A.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,s){const a=new Nt;return r.asyncQueue.enqueueAndForget(async()=>{const l=await mK(r);new fK(r.asyncQueue,l,s,o,a).run()}),a.promise}(St(t),r=>e(new aY(t,r)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(){return new rh("deleteField")}function eN(){return new L1("serverTimestamp")}function uY(...t){return new zK("arrayUnion",t)}function dY(...t){return new BK("arrayRemove",t)}function hY(t){return new UK("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){return St(t=_e(t,st)),new ZO(t,e=>uc(t,e))}(function(t,e=!0){(function(n){nc=n})(cr),Pi(new li("firestore",(n,{instanceIdentifier:i,options:r})=>{const o=n.getProvider("app").getImmediate(),s=new st(new EW(n.getProvider("auth-internal")),new TW(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Yt(NC,"3.13.0",t),Yt(NC,"3.13.0","esm2017")})();const pY="@firebase/firestore-compat",mY="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new R("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){if(typeof Uint8Array>"u")throw new R("unimplemented","Uint8Arrays are not available in this environment.")}function US(){if(!e7())throw new R("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fd{constructor(e){this._delegate=e}static fromBase64String(e){return US(),new fd(sr.fromBase64String(e))}static fromUint8Array(e){return BS(),new fd(sr.fromUint8Array(e))}toBase64(){return US(),this._delegate.toBase64()}toUint8Array(){return BS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){return gY(t,["next","error","complete"])}function gY(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{enableIndexedDbPersistence(e,n){return TK(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return AK(e._delegate)}clearIndexedDbPersistence(e){return $K(e._delegate)}}class tN{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Io||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){RO(this._delegate,e,n,i)}enableNetwork(){return RK(this._delegate)}disableNetwork(){return PK(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,$O("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return DK(this._delegate)}onSnapshotsInSync(e){return oY(this._delegate,e)}get app(){if(!this._appCompat)throw new R("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bl(this,N1(this._delegate,e))}catch(n){throw fn(n,"collection()","Firestore.collection()")}}doc(e){try{return new ti(this,Li(this._delegate,e))}catch(n){throw fn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hn(this,_K(this._delegate,e))}catch(n){throw fn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return lY(this._delegate,n=>e(new nN(this,n)))}batch(){return St(this._delegate),new iN(new ZO(this._delegate,e=>uc(this._delegate,e)))}loadBundle(e){return OK(this._delegate,e)}namedQuery(e){return NK(this._delegate,e).then(n=>n?new hn(this,n):null)}}class Ag extends H1{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(new sr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ti.forKey(n,this.firestore,null)}}function vY(t){wW(t)}class nN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ag(e)}get(e){const n=vs(e);return this._delegate.get(n).then(i=>new pd(this._firestore,new Or(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const r=vs(e);return i?(W1("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=vs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=vs(e);return this._delegate.delete(n),this}}class iN{constructor(e){this._delegate=e}set(e,n,i){const r=vs(e);return i?(W1("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=vs(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=vs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ws{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new gu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new md(this._firestore,i),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=Ws.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new Ws(e,new Ag(e),n),r.set(n,o)),o}}Ws.INSTANCES=new WeakMap;class ti{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ag(e)}static forPath(e,n,i){if(e.length%2!==0)throw new R("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ti(n,new Qe(n._delegate,i,new B(e)))}static forKey(e,n,i){return new ti(n,new Qe(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Bl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bl(this.firestore,N1(this._delegate,e))}catch(n){throw fn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ge(e),e instanceof Qe?PO(this._delegate,e):!1}set(e,n){n=W1("DocumentReference.set",n);try{return n?Kp(this._delegate,e,n):Kp(this._delegate,e)}catch(i){throw fn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?zS(this._delegate,e):zS(this._delegate,e,n,...i)}catch(r){throw fn(r,"updateDoc()","DocumentReference.update()")}}delete(){return iY(this._delegate)}onSnapshot(...e){const n=rN(e),i=oN(e,r=>new pd(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JO(this._delegate,n,i)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=ZK(this._delegate):(e==null?void 0:e.source)==="server"?n=eY(this._delegate):n=sh(this._delegate),n.then(i=>new pd(this.firestore,new Or(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ti(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fn(t,e,n){return t.message=t.message.replace(e,n),t}function rN(t){for(const e of t)if(typeof e=="object"&&!$0(e))return e;return{}}function oN(t,e){var n,i;let r;return $0(t[0])?r=t[0]:$0(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}class pd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ti(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return QO(this._delegate,e._delegate)}}class md extends pd{data(e){const n=this._delegate.data(e);return xW(n!==void 0),n}}class hn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ag(e)}where(e,n,i){try{return new hn(this.firestore,hr(this._delegate,WO(e,n,i)))}catch(r){throw fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new hn(this.firestore,hr(this._delegate,HK(e,n)))}catch(i){throw fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hn(this.firestore,hr(this._delegate,qK(e)))}catch(n){throw fn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new hn(this.firestore,hr(this._delegate,WK(e)))}catch(n){throw fn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hn(this.firestore,hr(this._delegate,GK(...e)))}catch(n){throw fn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hn(this.firestore,hr(this._delegate,KK(...e)))}catch(n){throw fn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hn(this.firestore,hr(this._delegate,YK(...e)))}catch(n){throw fn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hn(this.firestore,hr(this._delegate,QK(...e)))}catch(n){throw fn(n,"endAt()","Query.endAt()")}}isEqual(e){return OO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=tY(this._delegate):(e==null?void 0:e.source)==="server"?n=nY(this._delegate):n=XO(this._delegate),n.then(i=>new D0(this.firestore,new Ro(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=rN(e),i=oN(e,r=>new D0(this.firestore,new Ro(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JO(this._delegate,n,i)}withConverter(e){return new hn(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class yY{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new hn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new md(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new yY(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new md(this._firestore,i))})}isEqual(e){return QO(this._delegate,e._delegate)}}class Bl extends hn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ti(this.firestore,e):null}doc(e){try{return e===void 0?new ti(this.firestore,Li(this._delegate)):new ti(this.firestore,Li(this._delegate,e))}catch(n){throw fn(n,"doc()","CollectionReference.doc()")}}add(e){return rY(this._delegate,e).then(n=>new ti(this.firestore,n))}isEqual(e){return PO(this._delegate,e._delegate)}withConverter(e){return new Bl(this.firestore,e?this._delegate.withConverter(Ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function vs(t){return _e(t,Qe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(...e){this._delegate=new Do(...e)}static documentId(){return new G1(ht.keyField().canonicalString())}isEqual(e){return e=ge(e),e instanceof Do?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._delegate=e}static serverTimestamp(){const e=eN();return e._methodName="FieldValue.serverTimestamp",new as(e)}static delete(){const e=cY();return e._methodName="FieldValue.delete",new as(e)}static arrayUnion(...e){const n=uY(...e);return n._methodName="FieldValue.arrayUnion",new as(n)}static arrayRemove(...e){const n=dY(...e);return n._methodName="FieldValue.arrayRemove",new as(n)}static increment(e){const n=hY(e);return n._methodName="FieldValue.increment",new as(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY={Firestore:tN,GeoPoint:wg,Timestamp:nt,Blob:fd,Transaction:nN,WriteBatch:iN,DocumentReference:ti,DocumentSnapshot:pd,Query:hn,QueryDocumentSnapshot:md,QuerySnapshot:D0,CollectionReference:Bl,FieldPath:G1,FieldValue:as,setLogLevel:vY,CACHE_SIZE_UNLIMITED:SK};function xY(t,e){t.INTERNAL.registerComponent(new li("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},wY)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){xY(t,(e,n)=>new tN(e,n,new bY)),t.registerVersion(pY,mY)}kY(hq);function sN(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _Y=sN,aN=new ia("auth","Firebase",sN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new Fd("@firebase/auth");function EY(t,...e){Yp.logLevel<=pe.WARN&&Yp.warn(`Auth (${cr}): ${t}`,...e)}function Rf(t,...e){Yp.logLevel<=pe.ERROR&&Yp.error(`Auth (${cr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw K1(t,...e)}function tr(t,...e){return K1(t,...e)}function CY(t,e,n){const i=Object.assign(Object.assign({},_Y()),{[e]:n});return new ia("auth","Firebase",i).create(e,{appName:t.name})}function K1(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return aN.create(t,...e)}function re(t,e,...n){if(!t)throw K1(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function Nr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SY(){return VS()==="http:"||VS()==="https:"}function VS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SY()||Lj()||"connection"in navigator)?navigator.onLine:!0}function TY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=xx()||ED()}get(){return IY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=new ah(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,n,i,r={}){return cN(t,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const a=Jl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lN.fetch()(uN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function cN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},AY),e);try{const r=new DY(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw sf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw sf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw sf(t,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CY(t,u,c);Mi(t,u)}}catch(r){if(r instanceof di)throw r;Mi(t,"network-request-failed",{message:String(r)})}}async function lh(t,e,n,i,r={}){const o=await Wo(t,e,n,i,r);return"mfaPendingCredential"in o&&Mi(t,"multi-factor-auth-required",{_serverResponse:o}),o}function uN(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Y1(t.config,r):`${t.config.apiScheme}://${r}`}class DY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),$Y.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=tr(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function PY(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function OY(t,e=!1){const n=ge(t),i=await n.getIdToken(e),r=Q1(i);re(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:bu(hv(r.auth_time)),issuedAtTime:bu(hv(r.iat)),expirationTime:bu(hv(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hv(t){return Number(t)*1e3}function Q1(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Cp(n);return r?JSON.parse(r):(Rf("Failed to decode base64 JWT payload"),null)}catch(r){return Rf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function NY(t){const e=Q1(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof di&&LY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function LY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ul(t,PY(n,{idToken:i}));re(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BY(o.providerUserInfo):[],a=zY(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dN(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function FY(t){const e=ge(t);await Qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zY(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function BY(t){return t.map(e=>{var{providerId:n}=e,i=mt(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,e){const n=await cN(t,{},async()=>{const i=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=uN(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lN.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await UY(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new gd;return i&&(re(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(re(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=mt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dN(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OY(this,e)}reload(){return FY(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Qp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ul(this,RY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:k,isAnonymous:$,providerData:_,stsTokenManager:x}=n;re(v&&x,e,"internal-error");const S=gd.fromJSON(this.name,x);re(typeof v=="string",e,"internal-error"),Gr(d,e.name),Gr(h,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof $=="boolean",e,"internal-error"),Gr(f,e.name),Gr(p,e.name),Gr(m,e.name),Gr(y,e.name),Gr(g,e.name),Gr(b,e.name);const G=new Es({uid:v,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:g,lastLoginAt:b});return _&&Array.isArray(_)&&(G.providerData=_.map(M=>Object.assign({},M))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(e,n,i=!1){const r=new gd;r.updateFromServerResponse(n);const o=new Es({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Qp(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;function kr(t){Nr(t instanceof Function,"Expected a class definition");let e=jS.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hN.type="NONE";const HS=hN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Pf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Pf("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(kr(HS),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=r[0]||kr(HS);const s=Pf(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Es._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new cl(o,e,i):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch(u){}})),new cl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bN(e))return"Blackberry";if(vN(e))return"Webos";if(X1(e))return"Safari";if((e.includes("chrome/")||pN(e))&&!e.includes("edge/"))return"Chrome";if(gN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fN(t=Et()){return/firefox\//i.test(t)}function X1(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pN(t=Et()){return/crios\//i.test(t)}function mN(t=Et()){return/iemobile/i.test(t)}function gN(t=Et()){return/android/i.test(t)}function bN(t=Et()){return/blackberry/i.test(t)}function vN(t=Et()){return/webos/i.test(t)}function $g(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VY(t=Et()){var e;return $g(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jY(){return Mj()&&document.documentMode===10}function yN(t=Et()){return $g(t)||gN(t)||vN(t)||bN(t)||/windows phone/i.test(t)||mN(t)}function HY(){try{return!!(window&&window!==window.top)}catch(t){return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e=[]){let n;switch(t){case"Browser":n=qS(Et());break;case"Worker":n=`${qS(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${i}`}async function xN(t,e){return Wo(t,"GET","/v2/recaptchaConfig",ua(t,e))}function WS(t){return t!==void 0&&t.enterprise!==void 0}class kN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _N(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=tr("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",qY().appendChild(i)})}function WY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const GY="https://www.google.com/recaptcha/enterprise.js?render=",KY="recaptcha-enterprise",YY="NO_RECAPTCHA";class EN{constructor(e){this.type=KY,this.auth=da(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{xN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kN(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function r(o,s,a){const l=window.grecaptcha;WS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(YY)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!n&&WS(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}_N(GY+a).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Vl(t,e,n,i=!1){const r=new EN(t);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GS(this),this.idTokenSubscription=new GS(this),this.beforeStateQueue=new QY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ge(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}async initializeRecaptchaConfig(){const e=await xN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new kN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new EN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return re(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(t){return ge(t)}class GS{constructor(e){this.auth=e,this.observer=null,this.addObserver=TD(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){const n=zo(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Ip(o,e!=null?e:{}))return r;Mi(r,"already-initialized")}return n.initialize({options:e})}function JY(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZY(t,e,n){const i=da(t);re(i._canInitEmulator,i,"emulator-config-failed"),re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=SN(e),{host:s,port:a}=eQ(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||tQ()}function SN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eQ(t){const e=SN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:KS(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:KS(s)}}}function KS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function nQ(t,e){return Wo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fv(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}async function iQ(t,e){return Wo(t,"POST","/v1/accounts:sendOobCode",ua(t,e))}async function pv(t,e){return iQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rQ(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function oQ(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends J1{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new bd(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bd(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await Vl(e,i,"signInWithPassword");return fv(e,r)}else return fv(e,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Vl(e,i,"signInWithPassword");return fv(e,o)}else return Promise.reject(r)});case"emailLink":return rQ(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return nQ(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oQ(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="http://localhost";class Gs extends J1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=mt(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new Gs(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ul(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:sQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lQ(t){const e=Gc(Kc(t)).link,n=e?Gc(Kc(e)).deep_link_id:null,i=Gc(Kc(t)).deep_link_id;return(i?Gc(Kc(i)).link:null)||i||n||e||t}class Z1{constructor(e){var n,i,r,o,s,a;const l=Gc(Kc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=aQ((r=l.mode)!==null&&r!==void 0?r:null);re(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lQ(e);try{return new Z1(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.providerId=dc.PROVIDER_ID}static credential(e,n){return bd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Z1.parseLink(n);return re(i,"argument-error"),bd._fromEmailAndCode(e,i.code,i.tenantId)}}dc.PROVIDER_ID="password";dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends IN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends ch{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch(n){return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return no.credential(n,i)}catch(r){return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ch{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch(n){return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ch{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ro.credential(n,i)}catch(r){return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(t,e){return lh(t,"POST","/v1/accounts:signUp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Es._fromIdTokenResponse(e,i,r),s=YS(i);return new Ks({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=YS(i);return new Ks({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function YS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends di{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Xp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Xp(e,n,i,r)}}function TN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xp._fromErrorAndOperation(t,o,e,i):o})}async function cQ(t,e,n=!1){const i=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Ul(t,TN(i,r,e,t),n);re(o.idToken,i,"internal-error");const s=Q1(o.idToken);re(s,i,"internal-error");const{sub:a}=s;return re(t.uid===a,i,"user-mismatch"),Ks._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e,n=!1){const i="signIn",r=await TN(t,i,e),o=await Ks._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function dQ(t,e){return AN(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e,n){var i;re(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(t,e,n){var i;const r=da(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const s=await Vl(r,o,"getOobCode",!0);n&&gv(r,s,n),await pv(r,s)}else n&&gv(r,o,n),await pv(r,o).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Vl(r,o,"getOobCode",!0);n&&gv(r,a,n),await pv(r,a)}else return Promise.reject(s)})}async function fQ(t,e,n){var i;const r=da(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await Vl(r,o,"signUpPassword");s=mv(r,c)}else s=mv(r,o).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Vl(r,o,"signUpPassword");return mv(r,u)}else return Promise.reject(c)});const a=await s.catch(c=>Promise.reject(c)),l=await Ks._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function pQ(t,e,n){return dQ(ge(t),dc.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(t,e){return Wo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ge(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ul(i,mQ(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function bQ(t,e,n,i){return ge(t).onIdTokenChanged(e,n,i)}function vQ(t,e,n){return ge(t).beforeAuthStateChanged(e,n)}function yQ(t,e,n,i){return ge(t).onAuthStateChanged(e,n,i)}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(){const t=Et();return X1(t)||$g(t)}const xQ=1e3,kQ=10;class DN extends $N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wQ()&&HY(),this.fallbackToPolling=yN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);jY()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,kQ):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},xQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DN.type="LOCAL";const _Q=DN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN extends $N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RN.type="SESSION";const PN=RN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Dg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await EQ(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=ek("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function SQ(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function IQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function TQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AQ(){return ON()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firebaseLocalStorageDb",$Q=1,Zp="firebaseLocalStorage",LN="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function DQ(){const t=indexedDB.deleteDatabase(NN);return new uh(t).toPromise()}function P0(){const t=indexedDB.open(NN,$Q);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Zp,{keyPath:LN})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Zp)?e(i):(i.close(),await DQ(),e(await P0()))})})}async function QS(t,e,n){const i=Rg(t,!0).put({[LN]:e,value:n});return new uh(i).toPromise()}async function RQ(t,e){const n=Rg(t,!1).get(e),i=await new uh(n).toPromise();return i===void 0?null:i.value}function XS(t,e){const n=Rg(t,!0).delete(e);return new uh(n).toPromise()}const PQ=800,OQ=3;class MN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>OQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ON()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dg._getInstance(AQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IQ(),!this.activeServiceWorker)return;this.sender=new CQ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P0();return await QS(e,Jp,"1"),await XS(e,Jp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>QS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>RQ(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Rg(r,!1).getAll();return new uh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MN.type="LOCAL";const FN=MN;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(t,e){return e?kr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends J1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LQ(t){return AN(t.auth,new tk(t),t.bypassAuthState)}function MQ(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),uQ(n,new tk(t),t.bypassAuthState)}async function FQ(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),cQ(n,new tk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LQ;case"linkViaPopup":case"linkViaRedirect":return FQ;case"reauthViaPopup":case"reauthViaRedirect":return MQ;default:Mi(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new ah(2e3,1e4);class qa extends zN{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=ek();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zQ.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="pendingRedirect",Of=new Map;class UQ extends zN{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const i=await VQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VQ(t,e){const n=qQ(e),i=HQ(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function jQ(t,e){Of.set(t._key(),e)}function HQ(t){return kr(t._redirectPersistence)}function qQ(t){return Pf(BQ,t.config.apiKey,t.name)}async function WQ(t,e,n=!1){const i=da(t),r=NQ(i,e),s=await new UQ(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=10*60*1e3;class KQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!BN(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(JS(e))}saveEventToCache(e){this.cachedEventUids.add(JS(e)),this.lastProcessedEventTime=Date.now()}}function JS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JQ=/^https?/;async function ZQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QQ(t);for(const n of e)try{if(eX(n))return}catch(i){}Mi(t,"unauthorized-domain")}function eX(t){const e=R0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!JQ.test(n))return!1;if(XQ.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX=new ah(3e4,6e4);function ZS(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nX(t){return new Promise((e,n)=>{var i,r,o;function s(){ZS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZS(),n(tr(t,"network-request-failed"))},timeout:tX.get()})}if(!((r=(i=nr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=nr().gapi)===null||o===void 0)&&o.load)s();else{const a=WY("iframefcb");return nr()[a]=()=>{gapi.load?s():n(tr(t,"network-request-failed"))},_N(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Nf=null,e})}let Nf=null;function iX(t){return Nf=Nf||nX(t),Nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=new ah(5e3,15e3),oX="__/auth/iframe",sX="emulator/auth/iframe",aX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cX(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y1(e,sX):`https://${t.config.authDomain}/${oX}`,i={apiKey:e.apiKey,appName:t.name,v:cr},r=lX.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Jl(i).slice(1)}`}async function uX(t){const e=await iX(t),n=nr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:cX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aX,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const s=tr(t,"network-request-failed"),a=nr().setTimeout(()=>{o(s)},rX.get());function l(){nr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hX=500,fX=600,pX="_blank",mX="http://localhost";class eI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function gX(t,e,n,i=hX,r=fX){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dX),{width:i.toString(),height:r.toString(),top:o,left:s}),c=Et().toLowerCase();n&&(a=pN(c)?pX:n),fN(c)&&(e=e||mX,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(VY(c)&&a!=="_self")return bX(e||"",a),new eI(null);const d=window.open(e||"",a,u);re(d,t,"popup-blocked");try{d.focus()}catch(h){}return new eI(d)}function bX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX="__/auth/handler",yX="emulator/auth/handler",wX=encodeURIComponent("fac");async function tI(t,e,n,i,r,o){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:cr,eventId:r};if(e instanceof IN){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qy(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof ch){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${wX}=${encodeURIComponent(l)}`:"";return`${xX(t)}?${Jl(a).slice(1)}${c}`}function xX({config:t}){return t.emulator?Y1(t,yX):`https://${t.authDomain}/${vX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="webStorageSupport";class kX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PN,this._completeRedirectFn=WQ,this._overrideRedirectResult=jQ}async _openPopup(e,n,i,r){var o;Nr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await tI(e,n,i,R0(),r);return gX(e,s,ek())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await tI(e,n,i,R0(),r);return SQ(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Nr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await uX(e),i=new KQ(e);return n.register("authEvent",r=>(re(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},r=>{var o;const s=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[bv];s!==void 0&&n(!!s),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yN()||X1()||$g()}}const _X=kX;var nI="@firebase/auth",iI="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function SX(t){Pi(new li("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wN(t)},c=new XY(i,r,o,l);return JY(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Pi(new li("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(i=>new EX(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(nI,iI,CX(t)),Yt(nI,iI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=5*60,TX=_D("authIdTokenMaxAge")||IX;let rI=null;const AX=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>TX)return;const r=n==null?void 0:n.token;rI!==r&&(rI=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $X(t=Zl()){const e=zo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CN(t,{popupRedirectResolver:_X,persistence:[FN,_Q,PN]}),i=_D("authTokenSyncURL");if(i){const o=AX(i);vQ(n,o,()=>o(n.currentUser)),bQ(n,s=>o(s))}const r=xD("auth");return r&&ZY(n,`http://${r}`),n}SX("Browser");const oI="@firebase/database",sI="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UN="";function DX(t){UN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Wt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ri(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RX(e)}}catch(e){}return new PX},ys=VN("localStorage"),O0=VN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Fd("@firebase/database"),OX=function(){let t=1;return function(){return t++}}(),jN=function(t){const e=Yj(t),n=new qj;n.update(e);const i=n.digest();return vx.encodeByteArray(i)},dh=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=dh.apply(null,i):typeof i=="object"?e+=Wt(i):e+=i,e+=" "}return e};let Cs=null,aI=!0;const NX=function(t,e){j(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(dl.logLevel=pe.VERBOSE,Cs=dl.log.bind(dl),e&&O0.set("logging_enabled",!0)):typeof t=="function"?Cs=t:(Cs=null,O0.remove("logging_enabled"))},rn=function(...t){if(aI===!0&&(aI=!1,Cs===null&&O0.get("logging_enabled")===!0&&NX(!0)),Cs){const e=dh.apply(null,t);Cs(e)}},hh=function(t){return function(...e){rn(t,...e)}},N0=function(...t){const e="FIREBASE INTERNAL ERROR: "+dh(...t);dl.error(e)},Lr=function(...t){const e=`FIREBASE FATAL ERROR: ${dh(...t)}`;throw dl.error(e),new Error(e)},Bn=function(...t){const e="FIREBASE WARNING: "+dh(...t);dl.warn(e)},LX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},HN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},MX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jl="[MIN_NAME]",Ys="[MAX_NAME]",hc=function(t,e){if(t===e)return 0;if(t===jl||e===Ys)return-1;if(e===jl||t===Ys)return 1;{const n=lI(t),i=lI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},FX=function(t,e){return t===e?0:t<e?-1:1},Lc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Wt(e))},nk=function(t){if(typeof t!="object"||t===null)return Wt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Wt(e[i]),n+=":",n+=nk(t[e[i]]);return n+="}",n},qN=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ci(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const WN=function(t){j(!HN(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},zX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},UX=new RegExp("^-?(0*)\\d{1,10}$"),VX=-2147483648,jX=2147483647,lI=function(t){if(UX.test(t)){const e=Number(t);if(e>=VX&&e<=jX)return e}return null},fh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Bn("Exception was thrown by user callback.",n),e},Math.floor(0))}},HX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Bn(e)}}class hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="5",GN="v",KN="s",YN="r",QN="f",XN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JN="ls",ZN="p",L0="ac",eL="websocket",tL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ys.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ys.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function GX(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iL(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let i;if(e===eL)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tL)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);GX(t)&&(n.ns=t.namespace);const r=[];return ci(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(){this.counters_={}}incrementCounter(e,n=1){Ri(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Tj(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={},yv={};function rk(t){const e=t.toString();return vv[e]||(vv[e]=new KX),vv[e]}function YX(t,e){const n=t.toString();return yv[n]||(yv[n]=e()),yv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&fh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="start",XX="close",JX="pLPCommand",ZX="pRTLPCB",rL="id",oL="pw",sL="ser",eJ="cb",tJ="seg",nJ="ts",iJ="d",rJ="dframe",aL=1870,lL=30,oJ=aL-lL,sJ=25e3,aJ=3e4;class Wa{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hh(e),this.stats_=rk(n),this.urlFn=l=>(this.appCheckToken&&(l[L0]=this.appCheckToken),iL(n,tL,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new QX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(aJ)),MX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ok((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===cI)this.id=a,this.password=l;else if(s===XX)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[cI]="t",i[sL]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[eJ]=this.scriptTagHolder.uniqueCallbackIdentifier),i[GN]=ik,this.transportSessionId&&(i[KN]=this.transportSessionId),this.lastSessionId&&(i[JN]=this.lastSessionId),this.applicationId&&(i[ZN]=this.applicationId),this.appCheckToken&&(i[L0]=this.appCheckToken),typeof location<"u"&&location.hostname&&XN.test(location.hostname)&&(i[YN]=QN);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wa.forceAllow_=!0}static forceDisallow(){Wa.forceDisallow_=!0}static isAvailable(){return Wa.forceAllow_?!0:!Wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zX()&&!BX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=wD(n),r=qN(i,oJ);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[rJ]="t",i[rL]=e,i[oL]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Wt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ok{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OX(),window[JX+this.uniqueCallbackIdentifier]=e,window[ZX+this.uniqueCallbackIdentifier]=n,this.myIFrame=ok.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){rn("frame writing exception"),a.stack&&rn(a.stack),rn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rn("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[rL]=this.myID,e[oL]=this.myPW,e[sL]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lL+i.length<=aL;){const s=this.pendingSegs.shift();i=i+"&"+tJ+r+"="+s.seg+"&"+nJ+r+"="+s.ts+"&"+iJ+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(sJ)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{rn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=16384,cJ=45e3;let em=null;typeof MozWebSocket<"u"?em=MozWebSocket:typeof WebSocket<"u"&&(em=WebSocket);class wi{constructor(e,n,i,r,o,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hh(this.connId),this.stats_=rk(n),this.connURL=wi.connectionURL_(n,s,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const s={};return s[GN]=ik,typeof location<"u"&&location.hostname&&XN.test(location.hostname)&&(s[YN]=QN),n&&(s[KN]=n),i&&(s[JN]=i),r&&(s[L0]=r),o&&(s[ZN]=o),iL(e,eL,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ys.set("previous_websocket_failure",!0);try{let i;CD(),this.mySock=new em(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&em!==null&&!wi.forceDisallow_}static previouslyFailed(){return ys.isInMemoryStorage||ys.get("previous_websocket_failure")===!0}markConnectionHealthy(){ys.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Wu(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=qN(n,lJ);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(cJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wi.responsesRequiredToBeHealthy=2;wi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wa,wi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wi&&wi.isAvailable();let i=n&&!wi.previouslyFailed();if(e.webSocketOnly&&(n||Bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wi];else{const r=this.transports_=[];for(const o of vd.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);vd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ=6e4,dJ=5e3,hJ=10*1024,fJ=100*1024,wv="t",uI="d",pJ="s",dI="r",mJ="e",hI="o",fI="a",pI="n",mI="p",gJ="h";class bJ{constructor(e,n,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hh("c:"+this.id+":"),this.transportManager_=new vd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=vu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wv in e){const n=e[wv];n===fI?this.upgradeIfSecondaryHealthy_():n===dI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===hI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Lc("t",e),i=Lc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Lc("t",e),i=Lc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Lc(wv,e);if(uI in e){const i=e[uI];if(n===gJ){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===pI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===pJ?this.onConnectionShutdown_(i):n===dI?this.onReset_(i):n===mJ?N0("Server Error: "+i):n===hI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ik!==i&&Bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),vu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ys.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends uL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tm}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=32,bI=768;class Xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Le(){return new Xe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Po(t){return t.pieces_.length-t.pieceNum_}function qe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xe(t.pieces_,e)}function dL(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hL(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function fL(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xe(e,0)}function Pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Xe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Xe(n,0)}function me(t){return t.pieceNum_>=t.pieces_.length}function ni(t,e){const n=we(t),i=we(e);if(n===null)return e;if(n===i)return ni(qe(t),qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pL(t,e){if(Po(t)!==Po(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ki(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Po(t)>Po(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class yJ{constructor(e,n){this.errorPrefix_=n,this.parts_=hL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=qm(this.parts_[i]);mL(this)}}function wJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qm(e),mL(t)}function xJ(t){const e=t.parts_.pop();t.byteLength_-=qm(e),t.parts_.length>0&&(t.byteLength_-=1)}function mL(t){if(t.byteLength_>bI)throw new Error(t.errorPrefix_+"has a key path longer than "+bI+" bytes ("+t.byteLength_+").");if(t.parts_.length>gI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gI+") or object contains a cycle "+ts(t))}function ts(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends uL{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new sk}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=1e3,kJ=60*5*1e3,vI=30*1e3,_J=1.3,EJ=3e4,CJ="server_kill",yI=3;class Sr extends cL{constructor(e,n,i,r,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Sr.nextPersistentConnectionId_++,this.log_=hh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=kJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!CD())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sk.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(Wt(o)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new yx,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;Sr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ri(e,"w")){const i=Il(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Hj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jj(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,s=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";r&&(o.q=i,o.t=r),this.sendRequest(s,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{r&&setTimeout(()=>{r(s.s,s.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const s={p:n,d:i};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Wt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):N0("Unrecognized action received from server: "+Wt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EJ&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_J)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Sr.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,i())},c=function(d){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new bJ(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Bn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(CJ)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Bn(d),l())}}}interrupt(e){rn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qy(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>nk(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Xe(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){rn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yI&&(this.reconnectDelay_=vI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){rn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+UN.replace(/\./g,"-")]=1,xx()?e["framework.cordova"]=1:ED()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tm.getInstance().currentlyOnline();return qy(this.interruptReasons_)&&e}}Sr.nextPersistentConnectionId_=0;Sr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ke(jl,e),r=new ke(jl,n);return this.compare(i,r)!==0}minPost(){return ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;class gL extends Pg{static get __EMPTY_NODE(){return af}static set __EMPTY_NODE(e){af=e}compare(e,n){return hc(e.name,n.name)}isDefinedOn(e){throw Xl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ke.MIN}maxPost(){return new ke(Ys,af)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new ke(e,af)}toString(){return".key"}}const fl=new gL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Dt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:Dt.RED,this.left=r!=null?r:In.EMPTY_NODE,this.right=o!=null?o:In.EMPTY_NODE}copy(e,n,i,r,o){return new Dt(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return In.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Dt.RED=!0;Dt.BLACK=!1;class SJ{copy(e,n,i,r,o){return this}insert(e,n,i){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class In{constructor(e,n=In.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new In(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new In(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lf(this.root_,null,this.comparator_,!0,e)}}In.EMPTY_NODE=new SJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t,e){return hc(t.name,e.name)}function ak(t,e){return hc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0;function TJ(t){M0=t}const bL=function(t){return typeof t=="number"?"number:"+WN(t):"string:"+t},vL=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ri(e,".sv"),"Priority must be a string or number.")}else j(t===M0||t.isEmpty(),"priority of unexpected type.");j(t===M0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wI;class It{constructor(e,n=It.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vL(this.priorityNode_)}static set __childrenNodeConstructor(e){wI=e}static get __childrenNodeConstructor(){return wI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new It(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:we(e)===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:It.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=we(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(j(i!==".priority"||Po(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,It.__childrenNodeConstructor.EMPTY_NODE.updateChild(qe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bL(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=WN(this.value_):e+=this.value_,this.lazyHash_=jN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===It.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof It.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=It.VALUE_TYPE_ORDER.indexOf(n),o=It.VALUE_TYPE_ORDER.indexOf(i);return j(r>=0,"Unknown leaf type: "+n),j(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}It.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yL,wL;function AJ(t){yL=t}function $J(t){wL=t}class DJ extends Pg{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?hc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ke.MIN}maxPost(){return new ke(Ys,new It("[PRIORITY-POST]",wL))}makePost(e,n){const i=yL(e);return new ke(n,new It("[PRIORITY-POST]",i))}toString(){return".priority"}}const sn=new DJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=Math.log(2);class PJ{constructor(e){const n=o=>parseInt(Math.log(o)/RJ,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nm=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Dt(h,d.node,Dt.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=t[f],h=n?n(d):d,new Dt(h,d.node,Dt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const y=d-p,g=d;d-=p;const b=r(y+1,g),v=t[y],k=n?n(v):v;f(new Dt(k,v.node,m,null,b))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));m?h(y,Dt.BLACK):(h(y,Dt.BLACK),h(y,Dt.RED))}return u},s=new PJ(t.length),a=o(s);return new In(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv;const xa={};class _r{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(xa&&sn,"ChildrenNode.ts has not been loaded"),xv=xv||new _r({".priority":xa},{".priority":sn}),xv}get(e){const n=Il(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof In?n:null}hasIndex(e){return Ri(this.indexSet_,e.toString())}addIndex(e,n){j(e!==fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(ke.Wrap);let s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=nm(i,e.getCompare()):a=xa;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new _r(u,c)}addToIndexes(e,n){const i=Sp(this.indexes_,(r,o)=>{const s=Il(this.indexSet_,o);if(j(s,"Missing index implementation for "+o),r===xa)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),nm(a,s.getCompare())}else return xa;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new ke(e.name,a))),l.insert(e,e.node)}});return new _r(i,this.indexSet_)}removeFromIndexes(e,n){const i=Sp(this.indexes_,r=>{if(r===xa)return r;{const o=n.get(e.name);return o?r.remove(new ke(e.name,o)):r}});return new _r(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;class Te{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vL(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fc||(Fc=new Te(new In(ak),null,_r.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fc}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fc:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(qe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ke(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const s=r.isEmpty()?Fc:this.priorityNode_;return new Te(r,s,o)}}updateChild(e,n){const i=we(e);if(i===null)return n;{j(we(e)!==".priority"||Po(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(qe(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(sn,(s,a)=>{n[s]=a.val(e),i++,o&&Te.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+bL(this.getPriority().val())+":"),this.forEachChild(sn,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":jN(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ke(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ke(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ke.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ke.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ph?-1:0}withIndex(e){if(e===fl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(sn),r=n.getIterator(sn);let o=i.getNext(),s=r.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=r.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===fl?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class OJ extends Te{constructor(){super(new In(ak),Te.EMPTY_NODE,_r.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const ph=new OJ;Object.defineProperties(ke,{MIN:{value:new ke(jl,Te.EMPTY_NODE)},MAX:{value:new ke(Ys,ph)}});gL.__EMPTY_NODE=Te.EMPTY_NODE;It.__childrenNodeConstructor=Te;TJ(ph);$J(ph);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ=!0;function on(t,e=null){if(t===null)return Te.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new It(n,on(e))}if(!(t instanceof Array)&&NJ){const n=[];let i=!1;if(ci(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=on(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ke(s,l)))}}),n.length===0)return Te.EMPTY_NODE;const o=nm(n,IJ,s=>s.name,ak);if(i){const s=nm(n,sn.getCompare());return new Te(o,on(e),new _r({".priority":s},{".priority":sn}))}else return new Te(o,on(e),_r.Default)}else{let n=Te.EMPTY_NODE;return ci(t,(i,r)=>{if(Ri(t,i)&&i.substring(0,1)!=="."){const o=on(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(on(e))}}AJ(on);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ extends Pg{constructor(e){super(),this.indexPath_=e,j(!me(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?hc(e.name,n.name):o}makePost(e,n){const i=on(e),r=Te.EMPTY_NODE.updateChild(this.indexPath_,i);return new ke(n,r)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,ph);return new ke(Ys,e)}toString(){return hL(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ extends Pg{compare(e,n){const i=e.node.compareTo(n.node);return i===0?hc(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ke.MIN}maxPost(){return ke.MAX}makePost(e,n){const i=on(e);return new ke(n,i)}toString(){return".value"}}const FJ=new MJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(t){return{type:"value",snapshotNode:t}}function BJ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function UJ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jl}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new lk;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===sn?n="$priority":t.index_===FJ?n="$value":t.index_===fl?n="$key":(j(t.index_ instanceof LJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Wt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Wt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Wt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Wt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Wt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _I(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==sn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends cL{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=hh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=im.getListenId_(e,i),a={};this.listens_[s]=a;const l=kI(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Il(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=im.getListenId_(e,n);delete this.listens_[i]}get(e){const n=kI(e._queryParams),i=e._path.toString(),r=new yx;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Wu(a.responseText)}catch(c){Bn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Bn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){return{value:null,children:new Map}}function xL(t,e,n){if(me(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=we(e);t.children.has(i)||t.children.set(i,rm());const r=t.children.get(i);e=qe(e),xL(r,e,n)}}function F0(t,e,n){t.value!==null?n(e,t.value):HJ(t,(i,r)=>{const o=new Xe(e.toString()+"/"+i);F0(r,o,n)})}function HJ(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ci(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=10*1e3,WJ=30*1e3,GJ=5*60*1e3;class KJ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qJ(e);const i=EI+(WJ-EI)*Math.random();vu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ci(e,(r,o)=>{o>0&&Ri(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),vu(this.reportStats_.bind(this),Math.floor(Math.random()*2*GJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Yi||(Yi={}));function kL(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _L(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function EL(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Yi.ACK_USER_WRITE,this.source=kL()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xe(e));return new om(Le(),n,this.revert)}}else return j(we(this.path)===e,"operationForChild called for unrelated child."),new om(qe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Yi.OVERWRITE}operationForChild(e){return me(this.path)?new Qs(this.source,Le(),this.snap.getImmediateChild(e)):new Qs(this.source,qe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Yi.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Xe(e));return n.isEmpty()?null:n.value?new Qs(this.source,Le(),n.value):new yd(this.source,Le(),n)}else return j(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yd(this.source,qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function YJ(t,e,n,i){const r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(VJ(s.childName,s.snapshotNode))}),zc(t,r,"child_removed",e,i,n),zc(t,r,"child_added",e,i,n),zc(t,r,"child_moved",o,i,n),zc(t,r,"child_changed",e,i,n),zc(t,r,"value",e,i,n),r}function zc(t,e,n,i,r,o){const s=i.filter(a=>a.type===n);s.sort((a,l)=>XJ(t,a,l)),s.forEach(a=>{const l=QJ(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function QJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XJ(t,e,n){if(e.childName==null||n.childName==null)throw Xl("Should only compare child_ events.");const i=new ke(e.childName,e.snapshotNode),r=new ke(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){return{eventCache:t,serverCache:e}}function yu(t,e,n,i){return CL(new ck(e,n,i),t.serverCache)}function SL(t,e,n,i){return CL(t.eventCache,new ck(e,n,i))}function z0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv;const JJ=()=>(kv||(kv=new In(FX)),kv);class He{constructor(e,n=JJ()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return ci(e,(i,r)=>{n=n.set(new Xe(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Le(),value:this.value};if(me(e))return null;{const i=we(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(qe(e),n);return o!=null?{path:Pt(new Xe(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=we(e),i=this.children.get(n);return i!==null?i.subtree(qe(e)):new He(null)}}set(e,n){if(me(e))return new He(n,this.children);{const i=we(e),o=(this.children.get(i)||new He(null)).set(qe(e),n),s=this.children.insert(i,o);return new He(this.value,s)}}remove(e){if(me(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=we(e),i=this.children.get(n);if(i){const r=i.remove(qe(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new He(null):new He(this.value,o)}else return this}}get(e){if(me(e))return this.value;{const n=we(e),i=this.children.get(n);return i?i.get(qe(e)):null}}setTree(e,n){if(me(e))return n;{const i=we(e),o=(this.children.get(i)||new He(null)).setTree(qe(e),n);let s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new He(this.value,s)}}fold(e){return this.fold_(Le(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Pt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Le(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(me(e))return null;{const o=we(e),s=this.children.get(o);return s?s.findOnPath_(qe(e),Pt(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Le(),n)}foreachOnPath_(e,n,i){if(me(e))return this;{this.value&&i(n,this.value);const r=we(e),o=this.children.get(r);return o?o.foreachOnPath_(qe(e),Pt(n,r),i):new He(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new He(null))}}function wu(t,e,n){if(me(e))return new Ti(new He(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const s=ni(r,e);return o=o.updateChild(s,n),new Ti(t.writeTree_.set(r,o))}else{const r=new He(n),o=t.writeTree_.setTree(e,r);return new Ti(o)}}}function CI(t,e,n){let i=t;return ci(n,(r,o)=>{i=wu(i,Pt(e,r),o)}),i}function SI(t,e){if(me(e))return Ti.empty();{const n=t.writeTree_.setTree(e,new He(null));return new Ti(n)}}function B0(t,e){return ha(t,e)!=null}function ha(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ni(n.path,e)):null}function II(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(sn,(i,r)=>{e.push(new ke(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ke(i,r.value))}),e}function vo(t,e){if(me(e))return t;{const n=ha(t,e);return n!=null?new Ti(new He(n)):new Ti(t.writeTree_.subtree(e))}}function U0(t){return t.writeTree_.isEmpty()}function Hl(t,e){return IL(Le(),t.writeTree_,e)}function IL(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(j(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=IL(Pt(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Pt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e){return PL(e,t)}function ZJ(t,e,n,i,r){j(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=wu(t.visibleWrites,e,n)),t.lastWriteId=i}function eZ(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function tZ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&nZ(a,i.path)?r=!1:ki(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return iZ(t),!0;if(i.snap)t.visibleWrites=SI(t.visibleWrites,i.path);else{const a=i.children;ci(a,l=>{t.visibleWrites=SI(t.visibleWrites,Pt(i.path,l))})}return!0}else return!1}function nZ(t,e){if(t.snap)return ki(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ki(Pt(t.path,n),e))return!0;return!1}function iZ(t){t.visibleWrites=AL(t.allWrites,rZ,Le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rZ(t){return t.visible}function AL(t,e,n){let i=Ti.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const s=o.path;let a;if(o.snap)ki(n,s)?(a=ni(n,s),i=wu(i,a,o.snap)):ki(s,n)&&(a=ni(s,n),i=wu(i,Le(),o.snap.getChild(a)));else if(o.children){if(ki(n,s))a=ni(n,s),i=CI(i,a,o.children);else if(ki(s,n))if(a=ni(s,n),me(a))i=CI(i,Le(),o.children);else{const l=Il(o.children,we(a));if(l){const c=l.getChild(qe(a));i=wu(i,Le(),c)}}}else throw Xl("WriteRecord should have .snap or .children")}}return i}function $L(t,e,n,i,r){if(!i&&!r){const o=ha(t.visibleWrites,e);if(o!=null)return o;{const s=vo(t.visibleWrites,e);if(U0(s))return n;if(n==null&&!B0(s,Le()))return null;{const a=n||Te.EMPTY_NODE;return Hl(s,a)}}}else{const o=vo(t.visibleWrites,e);if(!r&&U0(o))return n;if(!r&&n==null&&!B0(o,Le()))return null;{const s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ki(c.path,e)||ki(e,c.path))},a=AL(t.allWrites,s,e),l=n||Te.EMPTY_NODE;return Hl(a,l)}}}function oZ(t,e,n){let i=Te.EMPTY_NODE;const r=ha(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(sn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){const o=vo(t.visibleWrites,e);return n.forEachChild(sn,(s,a)=>{const l=Hl(vo(o,new Xe(s)),a);i=i.updateImmediateChild(s,l)}),II(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const o=vo(t.visibleWrites,e);return II(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function sZ(t,e,n,i,r){j(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Pt(e,n);if(B0(t.visibleWrites,o))return null;{const s=vo(t.visibleWrites,o);return U0(s)?r.getChild(n):Hl(s,r.getChild(n))}}function aZ(t,e,n,i){const r=Pt(e,n),o=ha(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const s=vo(t.visibleWrites,r);return Hl(s,i.getNode().getImmediateChild(n))}else return null}function lZ(t,e){return ha(t.visibleWrites,e)}function cZ(t,e,n,i,r,o,s){let a;const l=vo(t.visibleWrites,e),c=ha(l,Le());if(c!=null)a=c;else if(n!=null)a=Hl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function uZ(){return{visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1}}function V0(t,e,n,i){return $L(t.writeTree,t.treePath,e,n,i)}function DL(t,e){return oZ(t.writeTree,t.treePath,e)}function TI(t,e,n,i){return sZ(t.writeTree,t.treePath,e,n,i)}function sm(t,e){return lZ(t.writeTree,Pt(t.treePath,e))}function dZ(t,e,n,i,r,o){return cZ(t.writeTree,t.treePath,e,n,i,r,o)}function uk(t,e,n){return aZ(t.writeTree,t.treePath,e,n)}function RL(t,e){return PL(Pt(t.treePath,e),t.writeTree)}function PL(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hZ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,xI(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,UJ(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,BJ(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,xI(i,e.snapshotNode,r.oldSnap));else throw Xl("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const OL=new fZ;class dk{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ck(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uk(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xs(this.viewCache_),o=dZ(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}function pZ(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mZ(t,e,n,i,r){const o=new hZ;let s,a;if(n.type===Yi.OVERWRITE){const c=n;c.source.fromUser?s=j0(t,e,c.path,c.snap,i,r,o):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!me(c.path),s=am(t,e,c.path,c.snap,i,r,a,o))}else if(n.type===Yi.MERGE){const c=n;c.source.fromUser?s=bZ(t,e,c.path,c.children,i,r,o):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=H0(t,e,c.path,c.children,i,r,a,o))}else if(n.type===Yi.ACK_USER_WRITE){const c=n;c.revert?s=wZ(t,e,c.path,i,r,o):s=vZ(t,e,c.path,c.affectedTree,i,r,o)}else if(n.type===Yi.LISTEN_COMPLETE)s=yZ(t,e,n.path,i,o);else throw Xl("Unknown operation type: "+n.type);const l=o.getChanges();return gZ(e,s,l),{viewCache:s,changes:l}}function gZ(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=z0(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(zJ(z0(e)))}}function NL(t,e,n,i,r,o){const s=e.eventCache;if(sm(i,n)!=null)return e;{let a,l;if(me(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Xs(e),u=c instanceof Te?c:Te.EMPTY_NODE,d=DL(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=V0(i,Xs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=we(n);if(c===".priority"){j(Po(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=TI(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{const u=qe(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=TI(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=uk(i,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return yu(e,a,s.isFullyInitialized()||me(n),t.filter.filtersNodes())}}function am(t,e,n,i,r,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(me(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=we(n);if(!l.isCompleteForPath(n)&&Po(n)>1)return e;const p=qe(n),y=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,p,OL,null)}const d=SL(e,c,l.isFullyInitialized()||me(n),u.filtersNodes()),h=new dk(r,d,o);return NL(t,d,n,r,h,a)}function j0(t,e,n,i,r,o,s){const a=e.eventCache;let l,c;const u=new dk(r,e,o);if(me(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=yu(e,c,!0,t.filter.filtersNodes());else{const d=we(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=yu(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=qe(n),f=a.getNode().getImmediateChild(d);let p;if(me(h))p=i;else{const m=u.getCompleteChild(d);m!=null?dL(h)===".priority"&&m.getChild(fL(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=Te.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,s);l=yu(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function AI(t,e){return t.eventCache.isCompleteForChild(e)}function bZ(t,e,n,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=Pt(n,l);AI(e,we(u))&&(a=j0(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Pt(n,l);AI(e,we(u))||(a=j0(t,a,u,c,r,o,s))}),a}function $I(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function H0(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;me(n)?c=i:c=new He(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=$I(t,f,h);l=am(t,l,new Xe(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=$I(t,p,h);l=am(t,l,new Xe(d),m,r,o,s,a)}}),l}function vZ(t,e,n,i,r,o,s){if(sm(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(me(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return am(t,e,n,l.getNode().getChild(n),r,o,a,s);if(me(n)){let c=new He(null);return l.getNode().forEachChild(fl,(u,d)=>{c=c.set(new Xe(u),d)}),H0(t,e,n,c,r,o,a,s)}else return e}else{let c=new He(null);return i.foreach((u,d)=>{const h=Pt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),H0(t,e,n,c,r,o,a,s)}}function yZ(t,e,n,i,r){const o=e.serverCache,s=SL(e,o.getNode(),o.isFullyInitialized()||me(n),o.isFiltered());return NL(t,s,n,i,OL,r)}function wZ(t,e,n,i,r,o){let s;if(sm(i,n)!=null)return e;{const a=new dk(i,e,r),l=e.eventCache.getNode();let c;if(me(n)||we(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=V0(i,Xs(e));else{const d=e.serverCache.getNode();j(d instanceof Te,"serverChildren would be complete if leaf node"),u=DL(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=we(n);let d=uk(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,qe(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Te.EMPTY_NODE,qe(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=V0(i,Xs(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||sm(i,Le())!=null,yu(e,c,s,t.filter.filtersNodes())}}function xZ(t,e){const n=Xs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function DI(t,e,n,i){e.type===Yi.MERGE&&e.source.queryId!==null&&(j(Xs(t.viewCache_),"We should always have a full cache before handling merges"),j(z0(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=mZ(t.processor_,r,e,n,i);return pZ(t.processor_,o.viewCache),j(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,kZ(t,o.changes,o.viewCache.eventCache.getNode(),null)}function kZ(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return YJ(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RI;function _Z(t){j(!RI,"__referenceConstructor has already been defined"),RI=t}function hk(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return j(o!=null,"SyncTree gave us an op for an invalid query."),DI(o,e,n,i)}else{let o=[];for(const s of t.views.values())o=o.concat(DI(s,e,n,i));return o}}function fk(t,e){let n=null;for(const i of t.views.values())n=n||xZ(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PI;function EZ(t){j(!PI,"__referenceConstructor has already been defined"),PI=t}class OI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=uZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CZ(t,e,n,i,r){return ZJ(t.pendingWriteTree_,e,n,i,r),r?Ng(t,new Qs(kL(),e,n)):[]}function Ga(t,e,n=!1){const i=eZ(t.pendingWriteTree_,e);if(tZ(t.pendingWriteTree_,e)){let o=new He(null);return i.snap!=null?o=o.set(Le(),!0):ci(i.children,s=>{o=o.set(new Xe(s),!0)}),Ng(t,new om(i.path,o,n))}else return[]}function Og(t,e,n){return Ng(t,new Qs(_L(),e,n))}function SZ(t,e,n){const i=He.fromObject(n);return Ng(t,new yd(_L(),e,i))}function IZ(t,e,n,i){const r=zL(t,i);if(r!=null){const o=BL(r),s=o.path,a=o.queryId,l=ni(s,e),c=new Qs(EL(a),l,n);return UL(t,s,c)}else return[]}function TZ(t,e,n,i){const r=zL(t,i);if(r){const o=BL(r),s=o.path,a=o.queryId,l=ni(s,e),c=He.fromObject(n),u=new yd(EL(a),l,c);return UL(t,s,u)}else return[]}function LL(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=ni(s,e),c=fk(a,l);if(c)return c});return $L(r,e,o,n,!0)}function Ng(t,e){return ML(e,t.syncPointTree_,null,TL(t.pendingWriteTree_,Le()))}function ML(t,e,n,i){if(me(t.path))return FL(t,e,n,i);{const r=e.get(Le());n==null&&r!=null&&(n=fk(r,Le()));let o=[];const s=we(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=RL(i,s);o=o.concat(ML(a,l,c,u))}return r&&(o=o.concat(hk(r,t,i,n))),o}}function FL(t,e,n,i){const r=e.get(Le());n==null&&r!=null&&(n=fk(r,Le()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=RL(i,s),u=t.operationForChild(s);u&&(o=o.concat(FL(u,a,l,c)))}),r&&(o=o.concat(hk(r,t,i,n))),o}function zL(t,e){return t.tagToQueryMap.get(e)}function BL(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xe(t.substr(0,e))}}function UL(t,e,n){const i=t.syncPointTree_.get(e);j(i,"Missing sync point for query tag that we're tracking");const r=TL(t.pendingWriteTree_,e);return hk(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pk(n)}node(){return this.node_}}class mk{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new mk(this.syncTree_,n)}node(){return LL(this.syncTree_,this.path_)}}const AZ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NI=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $Z(t[".sv"],e,n);if(typeof t[".sv"]=="object")return DZ(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$Z=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},DZ=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&j(!1,"Unexpected increment value: "+i);const r=e.node();if(j(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return typeof s!="number"?i:s+i},RZ=function(t,e,n,i){return gk(e,new mk(n,t),i)},PZ=function(t,e,n){return gk(t,new pk(e),n)};function gk(t,e,n){const i=t.getPriority().val(),r=NI(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=NI(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new It(a,on(r)):t}else{const s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new It(r))),s.forEachChild(sn,(a,l)=>{const c=gk(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function vk(t,e){let n=e instanceof Xe?e:new Xe(e),i=t,r=we(n);for(;r!==null;){const o=Il(i.node.children,r)||{children:{},childCount:0};i=new bk(r,i,o),n=qe(n),r=we(n)}return i}function fc(t){return t.node.value}function VL(t,e){t.node.value=e,q0(t)}function jL(t){return t.node.childCount>0}function OZ(t){return fc(t)===void 0&&!jL(t)}function Lg(t,e){ci(t.node.children,(n,i)=>{e(new bk(n,t,i))})}function HL(t,e,n,i){n&&!i&&e(t),Lg(t,r=>{HL(r,e,!0,i)}),n&&i&&e(t)}function NZ(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function mh(t){return new Xe(t.parent===null?t.name:mh(t.parent)+"/"+t.name)}function q0(t){t.parent!==null&&LZ(t.parent,t.name,t)}function LZ(t,e,n){const i=OZ(n),r=Ri(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,q0(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,q0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=/[\[\].#$\/\u0000-\u001F\u007F]/,FZ=/[\[\].#$\u0000-\u001F\u007F]/,_v=10*1024*1024,qL=function(t){return typeof t=="string"&&t.length!==0&&!MZ.test(t)},zZ=function(t){return typeof t=="string"&&t.length!==0&&!FZ.test(t)},BZ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),zZ(t)},WL=function(t,e,n){const i=n instanceof Xe?new yJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ts(i));if(typeof e=="function")throw new Error(t+"contains a function "+ts(i)+" with contents = "+e.toString());if(HN(e))throw new Error(t+"contains "+e.toString()+" "+ts(i));if(typeof e=="string"&&e.length>_v/3&&qm(e)>_v)throw new Error(t+"contains a string greater than "+_v+" utf8 bytes "+ts(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ci(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!qL(s)))throw new Error(t+" contains an invalid key ("+s+") "+ts(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wJ(i,s),WL(t,a,i),xJ(i)}),r&&o)throw new Error(t+' contains ".value" child '+ts(i)+" in addition to actual children.")}},UZ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qL(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BZ(n))throw new Error(Kj(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jZ(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!pL(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function fa(t,e,n){jZ(t,n),HZ(t,i=>ki(i,e)||ki(e,i))}function HZ(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(qZ(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qZ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Cs&&rn("event: "+n.toString()),fh(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="repo_interrupt",GZ=25;class KZ{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rm(),this.transactionQueueTree_=new bk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YZ(t,e,n){if(t.stats_=rk(t.repoInfo_),t.forceRestClient_||HX())t.server_=new im(t.repoInfo_,(i,r,o,s)=>{LI(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>MI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Sr(t.repoInfo_,e,(i,r,o,s)=>{LI(t,i,r,o,s)},i=>{MI(t,i)},i=>{XZ(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=YX(t.repoInfo_,()=>new KJ(t.stats_,t.server_)),t.infoData_=new jJ,t.infoSyncTree_=new OI({startListening:(i,r,o,s)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Og(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),yk(t,"connected",!1),t.serverSyncTree_=new OI({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);fa(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function QZ(t){const n=t.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function GL(t){return AZ({timestamp:QZ(t)})}function LI(t,e,n,i,r){t.dataUpdateCount++;const o=new Xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){const l=Sp(n,c=>on(c));s=TZ(t.serverSyncTree_,o,l,r)}else{const l=on(n);s=IZ(t.serverSyncTree_,o,l,r)}else if(i){const l=Sp(n,c=>on(c));s=SZ(t.serverSyncTree_,o,l)}else{const l=on(n);s=Og(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=xk(t,o)),fa(t.eventQueue_,a,s)}function MI(t,e){yk(t,"connected",e),e===!1&&ZZ(t)}function XZ(t,e){ci(e,(n,i)=>{yk(t,n,i)})}function yk(t,e,n){const i=new Xe("/.info/"+e),r=on(n);t.infoData_.updateSnapshot(i,r);const o=Og(t.infoSyncTree_,i,r);fa(t.eventQueue_,i,o)}function JZ(t){return t.nextWriteId_++}function ZZ(t){KL(t,"onDisconnectEvents");const e=GL(t),n=rm();F0(t.onDisconnect_,Le(),(r,o)=>{const s=RZ(r,o,t.serverSyncTree_,e);xL(n,r,s)});let i=[];F0(n,Le(),(r,o)=>{i=i.concat(Og(t.serverSyncTree_,r,o));const s=iee(t,r);xk(t,s)}),t.onDisconnect_=rm(),fa(t.eventQueue_,Le(),i)}function eee(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WZ)}function KL(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),rn(n,...e)}function YL(t,e,n){return LL(t.serverSyncTree_,e,n)||Te.EMPTY_NODE}function wk(t,e=t.transactionQueueTree_){if(e||Mg(t,e),fc(e)){const n=XL(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&tee(t,mh(e),n)}else jL(e)&&Lg(e,n=>{wk(t,n)})}function tee(t,e,n){const i=n.map(c=>c.currentWriteId),r=YL(t,e,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const u=n[c];j(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ni(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{KL(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ga(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Mg(t,vk(t.transactionQueueTree_,e)),wk(t,t.transactionQueueTree_),fa(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)fh(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Bn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}xk(t,e)}},s)}function xk(t,e){const n=QL(t,e),i=mh(n),r=XL(t,n);return nee(t,r,i),i}function nee(t,e,n){if(e.length===0)return;const i=[];let r=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ni(n,l.path);let u=!1,d;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Ga(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=GZ)u=!0,d="maxretry",r=r.concat(Ga(t.serverSyncTree_,l.currentWriteId,!0));else{const h=YL(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){WL("transaction failed: Data returned ",f,l.path);let p=on(f);typeof f=="object"&&f!=null&&Ri(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=l.currentWriteId,g=GL(t),b=PZ(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=b,l.currentWriteId=JZ(t),s.splice(s.indexOf(y),1),r=r.concat(CZ(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally)),r=r.concat(Ga(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",r=r.concat(Ga(t.serverSyncTree_,l.currentWriteId,!0))}fa(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Mg(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)fh(i[a]);wk(t,t.transactionQueueTree_)}function QL(t,e){let n,i=t.transactionQueueTree_;for(n=we(e);n!==null&&fc(i)===void 0;)i=vk(i,n),e=qe(e),n=we(e);return i}function XL(t,e){const n=[];return JL(t,e,n),n.sort((i,r)=>i.order-r.order),n}function JL(t,e,n){const i=fc(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Lg(e,r=>{JL(t,r,n)})}function Mg(t,e){const n=fc(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,VL(e,n.length>0?n:void 0)}Lg(e,i=>{Mg(t,i)})}function iee(t,e){const n=mh(QL(t,e)),i=vk(t.transactionQueueTree_,e);return NZ(i,r=>{Ev(t,r)}),Ev(t,i),HL(i,r=>{Ev(t,r)}),n}function Ev(t,e){const n=fc(e);if(n){const i=[];let r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(j(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(j(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Ga(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?VL(e,void 0):n.length=o+1,fa(t.eventQueue_,mh(e),r);for(let s=0;s<i.length;s++)fh(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}function oee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Bn(`Invalid query segment '${n}' in query '${t}'`)}return e}const FI=function(t,e){const n=see(t),i=n.namespace;n.domain==="firebase.com"&&Lr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Lr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||LX();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nL(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Xe(n.pathString)}},see=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=ree(t.substring(u,d)));const h=oee(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return me(this._path)?null:dL(this._path)}get ref(){return new pc(this._repo,this._path)}get _queryIdentifier(){const e=_I(this._queryParams),n=nk(e);return n==="{}"?"default":n}get _queryObject(){return _I(this._queryParams)}isEqual(e){if(e=ge(e),!(e instanceof kk))return!1;const n=this._repo===e._repo,i=pL(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+vJ(this._path)}}class pc extends kk{constructor(e,n){super(e,n,new lk,!1)}get parent(){const e=fL(this._path);return e===null?null:new pc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}_Z(pc);EZ(pc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee="FIREBASE_DATABASE_EMULATOR_HOST",W0={};let lee=!1;function cee(t,e,n,i){t.repoInfo_=new nL(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function uee(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||Lr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=FI(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[aee]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=FI(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new hl(hl.OWNER):new WX(t.name,t.options,e);UZ("Invalid Firebase Database URL",s),me(s.path)||Lr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=hee(a,t,u,new qX(t.name,n));return new fee(d,t)}function dee(t,e){const n=W0[e];(!n||n[t.key]!==t)&&Lr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eee(t),delete n[t.key]}function hee(t,e,n,i){let r=W0[e.name];r||(r={},W0[e.name]=r);let o=r[t.toURLString()];return o&&Lr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new KZ(t,lee,n,i),r[t.toURLString()]=o,o}class fee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YZ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pc(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Lr("Cannot call "+e+" on a deleted database.")}}function pee(t=Zl(),e){const n=zo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Hm("database");i&&mee(n,...i)}return n}function mee(t,e,n,i={}){t=ge(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Lr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Lr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new hl(hl.OWNER);else if(i.mockUserToken){const s=typeof i.mockUserToken=="string"?i.mockUserToken:wx(i.mockUserToken,t.app.options.projectId);o=new hl(s)}cee(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gee(t){DX(cr),Pi(new li("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return uee(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Yt(oI,sI,t),Yt(oI,sI,"esm2017")}Sr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Sr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gee();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebasestorage.googleapis.com",bee="storageBucket",vee=2*60*1e3,yee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends di{constructor(e,n,i=0){super(Cv(e),`Firebase Storage: ${n} (${Cv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function Cv(t){return"storage/"+t}function wee(){const t="An unknown error occurred, please check the error payload for server response.";return new ur(ar.UNKNOWN,t)}function xee(){return new ur(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kee(){return new ur(ar.CANCELED,"User canceled the upload/download.")}function _ee(t){return new ur(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function Eee(t){return new ur(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zI(t){return new ur(ar.INVALID_ARGUMENT,t)}function e4(){return new ur(ar.APP_DELETED,"The Firebase app was deleted.")}function Cee(t){return new ur(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=_i.makeFromUrl(e,n)}catch(r){return new _i(e,"")}if(i.path==="")return i;throw Eee(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${r}/o${h}`,"i"),p={bucket:1,path:3},m=n===ZL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${r}/${y}`,"i"),v=[{regex:a,indices:l,postModify:o},{regex:f,indices:p,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<v.length;k++){const $=v[k],_=$.regex.exec(e);if(_){const x=_[$.indices.bucket];let S=_[$.indices.path];S||(S=""),i=new _i(x,S),$.postModify(i);break}}if(i==null)throw _ee(e);return i}}class See{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,t(f,l())},y)}function h(){o&&clearTimeout(o)}function f(y,...g){if(c){h();return}if(y){h(),u.call(null,y,...g);return}if(l()||s){h(),u.call(null,y,...g);return}i<64&&(i*=2);let v;a===1?(a=2,v=0):v=(i+Math.random())*1e3,d(v)}let p=!1;function m(y){p||(p=!0,h(),!c&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function Tee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t){return t!==void 0}function BI(t,e,n,i){if(i<e)throw zI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw zI(`Invalid value for '${t}'. Expected ${n} or less.`)}function $ee(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lm||(lm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,n,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new cf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===lm.NO_ERROR,l=o.getStatus();if(!a||Dee(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===lm.ABORT;i(!1,new cf(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new cf(c,o))})},n=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Aee(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=wee();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){const l=this.appDelete_?e4():kee();s(l)}else{const l=xee();s(l)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=Iee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Pee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Oee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function Nee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Mee(t,e,n,i,r,o,s=!0){const a=$ee(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Nee(c,e),Pee(c,n),Oee(c,o),Lee(c,i),new Ree(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zee(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this._service=e,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cm(e,n)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zee(this._location.path)}get storage(){return this._service}get parent(){const e=Fee(this._location.path);if(e===null)return null;const n=new _i(this._location.bucket,e);return new cm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Cee(e)}}function UI(t,e){const n=e==null?void 0:e[bee];return n==null?null:_i.makeFromBucketSpec(n,t)}function Bee(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:wx(r,t.app.options.projectId))}class Uee{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=ZL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vee,this._maxUploadRetryTime=yee,this._requests=new Set,r!=null?this._bucket=_i.makeFromBucketSpec(r,this._host):this._bucket=UI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=UI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cm(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new See(e4());{const s=Mee(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const VI="@firebase/storage",jI="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="storage";function Vee(t=Zl(),e){t=ge(t);const i=zo(t,t4).getImmediate({identifier:e}),r=Hm("storage");return r&&jee(i,...r),i}function jee(t,e,n,i={}){Bee(t,e,n,i)}function Hee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Uee(n,i,r,e,cr)}function qee(){Pi(new li(t4,Hee,"PUBLIC").setMultipleInstances(!0)),Yt(VI,jI,""),Yt(VI,jI,"esm2017")}qee();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee="type.googleapis.com/google.protobuf.Int64Value",Gee="type.googleapis.com/google.protobuf.UInt64Value";function n4(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function G0(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>G0(e));if(typeof t=="function"||typeof t=="object")return n4(t,e=>G0(e));throw new Error("Data cannot be encoded in JSON: "+t)}function um(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Wee:case Gee:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>um(e)):typeof t=="function"||typeof t=="object"?n4(t,e=>um(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pl extends di{constructor(e,n,i){super(`${_k}/${e}`,n||""),this.details=i}}function Kee(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Yee(t,e){let n=Kee(t),i=n,r;try{const o=e&&e.error;if(o){const s=o.status;if(typeof s=="string"){if(!HI[s])return new pl("internal","internal");n=HI[s],i=s}const a=o.message;typeof a=="string"&&(i=a),r=o.details,r!==void 0&&(r=um(r))}}catch(o){}return n==="ok"?null:new pl(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qee=class{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="us-central1";function Xee(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new pl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Jee{constructor(e,n,i,r,o=K0,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Qee(n,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=K0}catch(a){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Zee(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function ete(t,e,n){return i=>nte(t,e,i,n||{})}async function tte(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch(s){return{status:0,json:null}}let o=null;try{o=await r.json()}catch(s){}return{status:r.status,json:o}}function nte(t,e,n,i){const r=t._url(e);return ite(t,r,n,i)}async function ite(t,e,n,i){n=G0(n);const r={data:n},o={},s=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=i.timeout||7e4,l=Xee(a),c=await Promise.race([tte(e,r,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new pl("cancelled","Firebase Functions instance was deleted.");const u=Yee(c.status,c.json);if(u)throw u;if(!c.json)throw new pl("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new pl("internal","Response is missing data field.");return{data:um(d)}}const qI="@firebase/functions",WI="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="auth-internal",ote="app-check-internal",ste="messaging-internal";function ate(t,e){const n=(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider(rte),a=i.getProvider(ste),l=i.getProvider(ote);return new Jee(o,s,a,l,r,t)};Pi(new li(_k,n,"PUBLIC").setMultipleInstances(!0)),Yt(qI,WI,e),Yt(qI,WI,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t=Zl(),e=K0){const i=zo(ge(t),_k).getImmediate({identifier:e}),r=Hm("functions");return r&&cte(i,...r),i}function cte(t,e,n){Zee(ge(t),e,n)}function Ur(t,e,n){return ete(ge(t),e,n)}ate(fetch.bind(self));var ute="firebase",dte="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt(ute,dte,"app");var i4={exports:{}};(function(t){var e=function(){var n="https://api.spotify.com/v1",i=null,r=null,o=function(h,f){return h.abort=f,h},s=function(h,f){var p;if(r!==null){var m=r.defer();h(function(y){m.resolve(y)},function(y){m.reject(y)}),p=m.promise}else window.Promise&&(p=new window.Promise(h));return p?new o(p,f):null},a=function(){var h=Array.prototype.slice.call(arguments),f=h[0],p=h.slice(1);return f=f||{},p.forEach(function(m){for(var y in m)m.hasOwnProperty(y)&&(f[y]=m[y])}),f},l=function(h,f){var p="";for(var m in f)if(f.hasOwnProperty(m)){var y=f[m];p+=encodeURIComponent(m)+"="+encodeURIComponent(y)+"&"}return p.length>0&&(p=p.substring(0,p.length-1),h=h+"?"+p),h},c=function(h,f){var p=new XMLHttpRequest,m=function(y,g){function b(_){y&&y(_),f&&f(null,_)}function v(){g&&g(p),f&&f(p,null)}var k=h.type||"GET";if(p.open(k,l(h.url,h.params)),i&&p.setRequestHeader("Authorization","Bearer "+i),p.onreadystatechange=function(){if(p.readyState===4){var _=null;try{_=p.responseText?JSON.parse(p.responseText):""}catch(x){console.error(x)}p.status>=200&&p.status<300?b(_):v()}},k==="GET")p.send(null);else{var $=null;h.postData&&(h.contentType==="image/jpeg"?($=h.postData,p.setRequestHeader("Content-Type",h.contentType)):($=JSON.stringify(h.postData),p.setRequestHeader("Content-Type","application/json"))),p.send($)}};return f?(m(),null):s(m,function(){p.abort()})},u=function(h,f,p,m){var y={},g=null;typeof f=="object"?(y=f,g=p):typeof f=="function"&&(g=f);var b=h.type||"GET";return b!=="GET"&&h.postData&&!m?h.postData=a(h.postData,y):h.params=a(h.params,y),c(h,g)},d=function(){};return d.prototype={constructor:e},d.prototype.getGeneric=function(h,f){var p={url:h};return u(p,f)},d.prototype.getMe=function(h,f){var p={url:n+"/me"};return u(p,h,f)},d.prototype.getMySavedTracks=function(h,f){var p={url:n+"/me/tracks"};return u(p,h,f)},d.prototype.addToMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMySavedAlbums=function(h,f){var p={url:n+"/me/albums"};return u(p,h,f)},d.prototype.addToMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMyTopArtists=function(h,f){var p={url:n+"/me/top/artists"};return u(p,h,f)},d.prototype.getMyTopTracks=function(h,f){var p={url:n+"/me/top/tracks"};return u(p,h,f)},d.prototype.getMyRecentlyPlayedTracks=function(h,f){var p={url:n+"/me/player/recently-played"};return u(p,h,f)},d.prototype.followUsers=function(h,f){var p={url:n+"/me/following/",type:"PUT",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.followArtists=function(h,f){var p={url:n+"/me/following/",type:"PUT",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.followPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/followers",type:"PUT",postData:{}};return u(m,f,p)},d.prototype.unfollowUsers=function(h,f){var p={url:n+"/me/following/",type:"DELETE",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.unfollowArtists=function(h,f){var p={url:n+"/me/following/",type:"DELETE",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.unfollowPlaylist=function(h,f){var p={url:n+"/playlists/"+h+"/followers",type:"DELETE"};return u(p,f)},d.prototype.isFollowingUsers=function(h,f){var p={url:n+"/me/following/contains",type:"GET",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.isFollowingArtists=function(h,f){var p={url:n+"/me/following/contains",type:"GET",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.areFollowingPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/followers/contains",type:"GET",params:{ids:f.join(",")}};return u(m,p)},d.prototype.getFollowedArtists=function(h,f){var p={url:n+"/me/following",type:"GET",params:{type:"artist"}};return u(p,h,f)},d.prototype.getUser=function(h,f,p){var m={url:n+"/users/"+encodeURIComponent(h)};return u(m,f,p)},d.prototype.getUserPlaylists=function(h,f,p){var m;return typeof h=="string"?m={url:n+"/users/"+encodeURIComponent(h)+"/playlists"}:(m={url:n+"/me/playlists"},p=f,f=h),u(m,f,p)},d.prototype.getPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h};return u(m,f,p)},d.prototype.getPlaylistTracks=function(h,f,p){var m={url:n+"/playlists/"+h+"/tracks"};return u(m,f,p)},d.prototype.getPlaylistCoverImage=function(h,f){var p={url:n+"/playlists/"+h+"/images"};return u(p,f)},d.prototype.createPlaylist=function(h,f,p){var m={url:n+"/users/"+encodeURIComponent(h)+"/playlists",type:"POST",postData:f};return u(m,f,p)},d.prototype.changePlaylistDetails=function(h,f,p){var m={url:n+"/playlists/"+h,type:"PUT",postData:f};return u(m,f,p)},d.prototype.addTracksToPlaylist=function(h,f,p,m){var y={url:n+"/playlists/"+h+"/tracks",type:"POST",postData:{uris:f}};return u(y,p,m,!0)},d.prototype.replaceTracksInPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/tracks",type:"PUT",postData:{uris:f}};return u(m,{},p)},d.prototype.reorderTracksInPlaylist=function(h,f,p,m,y){var g={url:n+"/playlists/"+h+"/tracks",type:"PUT",postData:{range_start:f,insert_before:p}};return u(g,m,y)},d.prototype.removeTracksFromPlaylist=function(h,f,p){var m=f.map(function(g){return typeof g=="string"?{uri:g}:g}),y={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{tracks:m}};return u(y,{},p)},d.prototype.removeTracksFromPlaylistWithSnapshotId=function(h,f,p,m){var y=f.map(function(b){return typeof b=="string"?{uri:b}:b}),g={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{tracks:y,snapshot_id:p}};return u(g,{},m)},d.prototype.removeTracksFromPlaylistInPositions=function(h,f,p,m){var y={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{positions:f,snapshot_id:p}};return u(y,{},m)},d.prototype.uploadCustomPlaylistCoverImage=function(h,f,p){var m={url:n+"/playlists/"+h+"/images",type:"PUT",postData:f.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(m,{},p)},d.prototype.getAlbum=function(h,f,p){var m={url:n+"/albums/"+h};return u(m,f,p)},d.prototype.getAlbumTracks=function(h,f,p){var m={url:n+"/albums/"+h+"/tracks"};return u(m,f,p)},d.prototype.getAlbums=function(h,f,p){var m={url:n+"/albums/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getTrack=function(h,f,p){var m={};return m.url=n+"/tracks/"+h,u(m,f,p)},d.prototype.getTracks=function(h,f,p){var m={url:n+"/tracks/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getArtist=function(h,f,p){var m={url:n+"/artists/"+h};return u(m,f,p)},d.prototype.getArtists=function(h,f,p){var m={url:n+"/artists/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getArtistAlbums=function(h,f,p){var m={url:n+"/artists/"+h+"/albums"};return u(m,f,p)},d.prototype.getArtistTopTracks=function(h,f,p,m){var y={url:n+"/artists/"+h+"/top-tracks",params:{country:f}};return u(y,p,m)},d.prototype.getArtistRelatedArtists=function(h,f,p){var m={url:n+"/artists/"+h+"/related-artists"};return u(m,f,p)},d.prototype.getFeaturedPlaylists=function(h,f){var p={url:n+"/browse/featured-playlists"};return u(p,h,f)},d.prototype.getNewReleases=function(h,f){var p={url:n+"/browse/new-releases"};return u(p,h,f)},d.prototype.getCategories=function(h,f){var p={url:n+"/browse/categories"};return u(p,h,f)},d.prototype.getCategory=function(h,f,p){var m={url:n+"/browse/categories/"+h};return u(m,f,p)},d.prototype.getCategoryPlaylists=function(h,f,p){var m={url:n+"/browse/categories/"+h+"/playlists"};return u(m,f,p)},d.prototype.search=function(h,f,p,m){var y={url:n+"/search/",params:{q:h,type:f.join(",")}};return u(y,p,m)},d.prototype.searchAlbums=function(h,f,p){return this.search(h,["album"],f,p)},d.prototype.searchArtists=function(h,f,p){return this.search(h,["artist"],f,p)},d.prototype.searchTracks=function(h,f,p){return this.search(h,["track"],f,p)},d.prototype.searchPlaylists=function(h,f,p){return this.search(h,["playlist"],f,p)},d.prototype.searchShows=function(h,f,p){return this.search(h,["show"],f,p)},d.prototype.searchEpisodes=function(h,f,p){return this.search(h,["episode"],f,p)},d.prototype.getAudioFeaturesForTrack=function(h,f){var p={};return p.url=n+"/audio-features/"+h,u(p,{},f)},d.prototype.getAudioFeaturesForTracks=function(h,f){var p={url:n+"/audio-features",params:{ids:h}};return u(p,{},f)},d.prototype.getAudioAnalysisForTrack=function(h,f){var p={};return p.url=n+"/audio-analysis/"+h,u(p,{},f)},d.prototype.getRecommendations=function(h,f){var p={url:n+"/recommendations"};return u(p,h,f)},d.prototype.getAvailableGenreSeeds=function(h){var f={url:n+"/recommendations/available-genre-seeds"};return u(f,{},h)},d.prototype.getMyDevices=function(h){var f={url:n+"/me/player/devices"};return u(f,{},h)},d.prototype.getMyCurrentPlaybackState=function(h,f){var p={url:n+"/me/player"};return u(p,h,f)},d.prototype.getMyCurrentPlayingTrack=function(h,f){var p={url:n+"/me/player/currently-playing"};return u(p,h,f)},d.prototype.transferMyPlayback=function(h,f,p){var m=f||{};m.device_ids=h;var y={type:"PUT",url:n+"/me/player",postData:m};return u(y,f,p)},d.prototype.play=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={};["context_uri","uris","offset","position_ms"].forEach(function(b){b in h&&(m[b]=h[b])});var y={type:"PUT",url:n+"/me/player/play",params:p,postData:m},g=typeof h=="function"?h:{};return u(y,g,f)},d.prototype.queue=function(h,f,p){f=f||{};var m="device_id"in f?{uri:h,device_id:f.device_id}:{uri:h},y={type:"POST",url:n+"/me/player/queue",params:m};return u(y,f,p)},d.prototype.pause=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"PUT",url:n+"/me/player/pause",params:p};return u(m,h,f)},d.prototype.skipToNext=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"POST",url:n+"/me/player/next",params:p};return u(m,h,f)},d.prototype.skipToPrevious=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"POST",url:n+"/me/player/previous",params:p};return u(m,h,f)},d.prototype.seek=function(h,f,p){f=f||{};var m={position_ms:h};"device_id"in f&&(m.device_id=f.device_id);var y={type:"PUT",url:n+"/me/player/seek",params:m};return u(y,f,p)},d.prototype.setRepeat=function(h,f,p){f=f||{};var m={state:h};"device_id"in f&&(m.device_id=f.device_id);var y={type:"PUT",url:n+"/me/player/repeat",params:m};return u(y,f,p)},d.prototype.setVolume=function(h,f,p){f=f||{};var m={volume_percent:h};"device_id"in f&&(m.device_id=f.device_id);var y={type:"PUT",url:n+"/me/player/volume",params:m};return u(y,f,p)},d.prototype.setShuffle=function(h,f,p){f=f||{};var m={state:h};"device_id"in f&&(m.device_id=f.device_id);var y={type:"PUT",url:n+"/me/player/shuffle",params:m};return u(y,f,p)},d.prototype.getShow=function(h,f,p){var m={};return m.url=n+"/shows/"+h,u(m,f,p)},d.prototype.getShows=function(h,f,p){var m={url:n+"/shows/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMySavedShows=function(h,f){var p={url:n+"/me/shows"};return u(p,h,f)},d.prototype.addToMySavedShows=function(h,f,p){var m={url:n+"/me/shows",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedShows=function(h,f,p){var m={url:n+"/me/shows",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedShows=function(h,f,p){var m={url:n+"/me/shows/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getShowEpisodes=function(h,f,p){var m={url:n+"/shows/"+h+"/episodes"};return u(m,f,p)},d.prototype.getEpisode=function(h,f,p){var m={};return m.url=n+"/episodes/"+h,u(m,f,p)},d.prototype.getEpisodes=function(h,f,p){var m={url:n+"/episodes/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getAccessToken=function(){return i},d.prototype.setAccessToken=function(h){i=h},d.prototype.setPromiseImplementation=function(h){var f=!1;try{var p=new h(function(m){m()});typeof p.then=="function"&&typeof p.catch=="function"&&(f=!0)}catch(m){console.error(m)}if(f)r=h;else throw new Error("Unsupported implementation of Promises/A+")},d}();t.exports=e})(i4);var hte=i4.exports;const fte=ql(hte);new fte;const pte={apiKey:"AIzaSyAHV2ukGyxwx_8wADQSd4QXV1rRiU93L44",databaseURL:"https://quantum-61b84-default-rtdb.firebaseio.com",authDomain:"quantum-61b84.firebaseapp.com",projectId:"quantum-61b84",storageBucket:"quantum-61b84.appspot.com",messagingSenderId:"461090594003",appId:"1:461090594003:web:5cb1cac4a16e9031140826",measurementId:"G-JRZ1RJ4P89"},Ek=Wm(pte),ir=Rr.isNativePlatform()?CN(Ek,{persistence:FN}):$X(),Vr=lte(Ek),Ai=IK(Ek);Vee();pee();Ur(Vr,"deletePoll");Ur(Vr,"deleteImage");Ur(Vr,"deleteLikesDocFromRtdb");Ur(Vr,"deleteCommentsFromDeletedPost");Ur(Vr,"sendEmailOnReport");Ur(Vr,"sendCommentsNotification");Ur(Vr,"sendDmNotification");Ur(Vr,"getHumboldtUpdates");Ur(Vr,"askAI");async function mte(t,e,n,i){try{const r=await fQ(ir,e,n);if(r){const o=r.user;await gQ(o,{displayName:t,photoURL:"https://firebasestorage.googleapis.com/v0/b/quantum-61b84.appspot.com/o/profilePictures%2F301-3012952_this-free-clipart-png-design-of-blank-avatar.png?alt=media&token=90117292-9497-4b30-980e-2b17986650cd"});try{await Kp(Li(Ai,"userData",o.uid.toString()),{bio:"",snapchat:"",instagram:"",tiktok:"",spotify:"",userName:t,userEmail:e,uid:o.uid,school:i,notifs:[],timestamp:eN(),notificationsToken:""}),await Kp(Li(Ai,"userPhotoUrls",o.uid.toString()),{url:"https://firebasestorage.googleapis.com/v0/b/quantum-61b84.appspot.com/o/profilePictures%2F301-3012952_this-free-clipart-png-design-of-blank-avatar.png?alt=media&token=90117292-9497-4b30-980e-2b17986650cd"})}catch(s){console.log(s)}return r}}catch(r){return r.message.toString()}}async function gte(t,e){try{const n=await pQ(ir,t,e);return{email:n.user.email,uid:n.user.uid}}catch(n){console.log(n)}}const bte=async t=>{try{const e=Li(Ai,"userData",t),n=await sh(e);if(n.exists())return n.data()}catch(e){console.error(e)}},GI=async t=>{try{if(!t||t.length<=0)return;if(Ai&&ir&&ir.currentUser){const e=ir.currentUser.uid,n=fY(Ai),i=Li(Ai,"userData",e);n.update(i,{notificationsToken:t}),await n.commit().catch(r=>console.log(r))}}catch(e){console.log(e)}};async function vte(t){try{if(Ai){const e=N1(Ai,"userData"),n=hr(e,WO("userName","==",t));if((await XO(n)).empty)return!0}else console.log("auth not defined");return!1}catch(e){return console.log(e),!1}}const yte=async t=>{try{return await hQ(ir,t),!0}catch(e){console.error(e)}},ii=(t,e,n)=>{const i=n==="forward"?"push":"pop";t.push(e,n,i)},wte="/assets/tellU_splash_2_1_2048x2048-dab8f20b.png";const r4=E.createContext(null),xte=({children:t})=>{const[e,n]=E.useState(!1),[i,r]=E.useState(!1),[o,s]=E.useState(!1),[a,l]=E.useState(!1),c=E.useMemo(()=>({showTabs:e,setShowTabs:n,darkMode:i,setDarkMode:r,schoolColorToggled:o,setSchoolColorToggled:s,sensitivityToggled:a,setSensitivityToggled:l}),[e,n,i,r,o,s,a,l]);return Ie(r4.Provider,{value:c,children:[" ",t," "]})},Go=()=>{const t=E.useContext(r4);if(!t)throw new Error("Context is not available");return t};E.createContext(null);const kte={style:kp.Dark},KI=()=>{const t=Go(),e=Vm(),[n,i]=E.useState(!1);return E.useEffect(()=>{t.setDarkMode(!0),document.body.classList.toggle("dark"),t.setDarkMode(!0),Rr.getPlatform()==="md"&&(Rn.setStyle(kte),bD.setStyle({style:_p.Dark}))},[t]),E.useEffect(()=>ir.onAuthStateChanged(async o=>{o?(console.log("logged in"),t.setShowTabs(!0),ii(e,"/home","root")):(await Cj.getStatus()).connected?(console.log("logged out"),t.setShowTabs(!1),ii(e,"/landing-page","root")):i(!0)}),[]),n?C(El,{children:C(_l,{className:"ion-padding",children:C("div",{className:"centered",children:C($8,{children:" You are offline. "})})})}):C(El,{children:C(_l,{fullscreen:!0,style:{"--background":"var(--ion-color-splash-screen-background)"},children:C("div",{className:"centered",children:C("img",{style:{scale:"2"},src:wte})})})})};function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Y0(t,e)}function Oo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Y0(t,e)}var o4={exports:{}},_te="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ete=_te,Cte=Ete;function s4(){}function a4(){}a4.resetWarningCache=s4;var Ste=function(){function t(i,r,o,s,a,l){if(l!==Cte){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a4,resetWarningCache:s4};return n.PropTypes=n,n};o4.exports=Ste();var Ite=o4.exports;const YI=ql(Ite);function ui(){return ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ui.apply(this,arguments)}function uf(t){return t.charAt(0)==="/"}function Sv(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function Tte(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&uf(t),o=e&&uf(e),s=r||o;if(t&&uf(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?Sv(i,u):d===".."?(Sv(i,u),c++):c&&(Sv(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");s&&i[0]!==""&&(!i[0]||!uf(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}var Ate=!0,Iv="Invariant failed";function mc(t,e){if(!t){if(Ate)throw new Error(Iv);var n=typeof e=="function"?e():e,i=n?"".concat(Iv,": ").concat(n):Iv;throw new Error(i)}}function xu(t){return t.charAt(0)==="/"?t:"/"+t}function QI(t){return t.charAt(0)==="/"?t.substr(1):t}function $te(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function l4(t,e){return $te(t,e)?t.substr(e.length):t}function c4(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Dte(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function Qn(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function ri(t,e,n,i){var r;typeof t=="string"?(r=Dte(t),r.state=e):(r=ui({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=Tte(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function Ck(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:o}}var u4=!!(typeof window<"u"&&window.document&&window.document.createElement);function d4(t,e){e(window.confirm(t))}function Rte(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Pte(){return window.navigator.userAgent.indexOf("Trident")===-1}function Ote(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Nte(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var XI="popstate",JI="hashchange";function ZI(){try{return window.history.state||{}}catch(t){return{}}}function h4(t){t===void 0&&(t={}),u4||mc(!1);var e=window.history,n=Rte(),i=!Pte(),r=t,o=r.forceRefresh,s=o===void 0?!1:o,a=r.getUserConfirmation,l=a===void 0?d4:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?c4(xu(t.basename)):"";function h(N){var D=N||{},V=D.key,W=D.state,ie=window.location,ce=ie.pathname,se=ie.search,Fe=ie.hash,Ve=ce+se+Fe;return d&&(Ve=l4(Ve,d)),ri(Ve,W,V)}function f(){return Math.random().toString(36).substr(2,u)}var p=Ck();function m(N){ui(F,N),F.length=e.length,p.notifyListeners(F.location,F.action)}function y(N){Nte(N)||v(h(N.state))}function g(){v(h(ZI()))}var b=!1;function v(N){if(b)b=!1,m();else{var D="POP";p.confirmTransitionTo(N,D,l,function(V){V?m({action:D,location:N}):k(N)})}}function k(N){var D=F.location,V=_.indexOf(D.key);V===-1&&(V=0);var W=_.indexOf(N.key);W===-1&&(W=0);var ie=V-W;ie&&(b=!0,M(ie))}var $=h(ZI()),_=[$.key];function x(N){return d+Qn(N)}function S(N,D){var V="PUSH",W=ri(N,D,f(),F.location);p.confirmTransitionTo(W,V,l,function(ie){if(ie){var ce=x(W),se=W.key,Fe=W.state;if(n)if(e.pushState({key:se,state:Fe},null,ce),s)window.location.href=ce;else{var Ve=_.indexOf(F.location.key),dr=_.slice(0,Ve+1);dr.push(W.key),_=dr,m({action:V,location:W})}else window.location.href=ce}})}function G(N,D){var V="REPLACE",W=ri(N,D,f(),F.location);p.confirmTransitionTo(W,V,l,function(ie){if(ie){var ce=x(W),se=W.key,Fe=W.state;if(n)if(e.replaceState({key:se,state:Fe},null,ce),s)window.location.replace(ce);else{var Ve=_.indexOf(F.location.key);Ve!==-1&&(_[Ve]=W.key),m({action:V,location:W})}else window.location.replace(ce)}})}function M(N){e.go(N)}function L(){M(-1)}function Q(){M(1)}var Oe=0;function Ae(N){Oe+=N,Oe===1&&N===1?(window.addEventListener(XI,y),i&&window.addEventListener(JI,g)):Oe===0&&(window.removeEventListener(XI,y),i&&window.removeEventListener(JI,g))}var Ne=!1;function Ee(N){N===void 0&&(N=!1);var D=p.setPrompt(N);return Ne||(Ae(1),Ne=!0),function(){return Ne&&(Ne=!1,Ae(-1)),D()}}function ze(N){var D=p.appendListener(N);return Ae(1),function(){Ae(-1),D()}}var F={length:e.length,action:"POP",location:$,createHref:x,push:S,replace:G,go:M,goBack:L,goForward:Q,block:Ee,listen:ze};return F}var eT="hashchange",Lte={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+QI(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:QI,decodePath:xu},slash:{encodePath:xu,decodePath:xu}};function f4(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Bc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Mte(t){window.location.hash=t}function Tv(t){window.location.replace(f4(window.location.href)+"#"+t)}function Fte(t){t===void 0&&(t={}),u4||mc(!1);var e=window.history;Ote();var n=t,i=n.getUserConfirmation,r=i===void 0?d4:i,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?c4(xu(t.basename)):"",l=Lte[s],c=l.encodePath,u=l.decodePath;function d(){var D=u(Bc());return a&&(D=l4(D,a)),ri(D)}var h=Ck();function f(D){ui(N,D),N.length=e.length,h.notifyListeners(N.location,N.action)}var p=!1,m=null;function y(D,V){return D.pathname===V.pathname&&D.search===V.search&&D.hash===V.hash}function g(){var D=Bc(),V=c(D);if(D!==V)Tv(V);else{var W=d(),ie=N.location;if(!p&&y(ie,W)||m===Qn(W))return;m=null,b(W)}}function b(D){if(p)p=!1,f();else{var V="POP";h.confirmTransitionTo(D,V,r,function(W){W?f({action:V,location:D}):v(D)})}}function v(D){var V=N.location,W=x.lastIndexOf(Qn(V));W===-1&&(W=0);var ie=x.lastIndexOf(Qn(D));ie===-1&&(ie=0);var ce=W-ie;ce&&(p=!0,L(ce))}var k=Bc(),$=c(k);k!==$&&Tv($);var _=d(),x=[Qn(_)];function S(D){var V=document.querySelector("base"),W="";return V&&V.getAttribute("href")&&(W=f4(window.location.href)),W+"#"+c(a+Qn(D))}function G(D,V){var W="PUSH",ie=ri(D,void 0,void 0,N.location);h.confirmTransitionTo(ie,W,r,function(ce){if(ce){var se=Qn(ie),Fe=c(a+se),Ve=Bc()!==Fe;if(Ve){m=se,Mte(Fe);var dr=x.lastIndexOf(Qn(N.location)),vh=x.slice(0,dr+1);vh.push(se),x=vh,f({action:W,location:ie})}else f()}})}function M(D,V){var W="REPLACE",ie=ri(D,void 0,void 0,N.location);h.confirmTransitionTo(ie,W,r,function(ce){if(ce){var se=Qn(ie),Fe=c(a+se),Ve=Bc()!==Fe;Ve&&(m=se,Tv(Fe));var dr=x.indexOf(Qn(N.location));dr!==-1&&(x[dr]=se),f({action:W,location:ie})}})}function L(D){e.go(D)}function Q(){L(-1)}function Oe(){L(1)}var Ae=0;function Ne(D){Ae+=D,Ae===1&&D===1?window.addEventListener(eT,g):Ae===0&&window.removeEventListener(eT,g)}var Ee=!1;function ze(D){D===void 0&&(D=!1);var V=h.setPrompt(D);return Ee||(Ne(1),Ee=!0),function(){return Ee&&(Ee=!1,Ne(-1)),V()}}function F(D){var V=h.appendListener(D);return Ne(1),function(){Ne(-1),V()}}var N={length:e.length,action:"POP",location:_,createHref:S,push:G,replace:M,go:L,goBack:Q,goForward:Oe,block:ze,listen:F};return N}function tT(t,e,n){return Math.min(Math.max(t,e),n)}function zte(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=Ck();function u(S){ui(x,S),x.length=x.entries.length,c.notifyListeners(x.location,x.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=tT(s,0,r.length-1),f=r.map(function(S){return typeof S=="string"?ri(S,void 0,d()):ri(S,void 0,S.key||d())}),p=Qn;function m(S,G){var M="PUSH",L=ri(S,G,d(),x.location);c.confirmTransitionTo(L,M,n,function(Q){if(Q){var Oe=x.index,Ae=Oe+1,Ne=x.entries.slice(0);Ne.length>Ae?Ne.splice(Ae,Ne.length-Ae,L):Ne.push(L),u({action:M,location:L,index:Ae,entries:Ne})}})}function y(S,G){var M="REPLACE",L=ri(S,G,d(),x.location);c.confirmTransitionTo(L,M,n,function(Q){Q&&(x.entries[x.index]=L,u({action:M,location:L}))})}function g(S){var G=tT(x.index+S,0,x.entries.length-1),M="POP",L=x.entries[G];c.confirmTransitionTo(L,M,n,function(Q){Q?u({action:M,location:L,index:G}):u()})}function b(){g(-1)}function v(){g(1)}function k(S){var G=x.index+S;return G>=0&&G<x.entries.length}function $(S){return S===void 0&&(S=!1),c.setPrompt(S)}function _(S){return c.appendListener(S)}var x={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:m,replace:y,go:g,goBack:b,goForward:v,canGo:k,block:$,listen:_};return x}var gc={exports:{}},Bte=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},dm=Bte;gc.exports=g4;gc.exports.parse=Sk;gc.exports.compile=Vte;gc.exports.tokensToFunction=p4;gc.exports.tokensToRegExp=m4;var Ute=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Sk(t,e){for(var n=[],i=0,r=0,o="",s=e&&e.delimiter||"/",a;(a=Ute.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(r,u),r=u+l.length,c){o+=c[1];continue}var d=t[r],h=a[2],f=a[3],p=a[4],m=a[5],y=a[6],g=a[7];o&&(n.push(o),o="");var b=h!=null&&d!=null&&d!==h,v=y==="+"||y==="*",k=y==="?"||y==="*",$=a[2]||s,_=p||m;n.push({name:f||i++,prefix:h||"",delimiter:$,optional:k,repeat:v,partial:b,asterisk:!!g,pattern:_?qte(_):g?".*":"[^"+Lf($)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&n.push(o),n}function Vte(t,e){return p4(Sk(t,e),e)}function jte(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Hte(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function p4(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",Tk(e)));return function(r,o){for(var s="",a=r||{},l=o||{},c=l.pretty?jte:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(dm(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!n[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");s+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?Hte(h):c(h),!n[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');s+=d.prefix+f}return s}}function Lf(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function qte(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Ik(t,e){return t.keys=e,t}function Tk(t){return t&&t.sensitive?"":"i"}function Wte(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ik(t,e)}function Gte(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(g4(t[r],e,n).source);var o=new RegExp("(?:"+i.join("|")+")",Tk(n));return Ik(o,e)}function Kte(t,e,n){return m4(Sk(t,n),e,n)}function m4(t,e,n){dm(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=Lf(a);else{var l=Lf(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Lf(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),r?o+="$":o+=i&&d?"":"(?="+u+"|$)",Ik(new RegExp("^"+o,Tk(n)),e)}function g4(t,e,n){return dm(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Wte(t,e):dm(t)?Gte(t,e,n):Kte(t,e,n)}var Yte=gc.exports;const Qte=ql(Yte);var Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=typeof Symbol=="function"&&Symbol.for,Ak=Bt?Symbol.for("react.element"):60103,$k=Bt?Symbol.for("react.portal"):60106,Fg=Bt?Symbol.for("react.fragment"):60107,zg=Bt?Symbol.for("react.strict_mode"):60108,Bg=Bt?Symbol.for("react.profiler"):60114,Ug=Bt?Symbol.for("react.provider"):60109,Vg=Bt?Symbol.for("react.context"):60110,Dk=Bt?Symbol.for("react.async_mode"):60111,jg=Bt?Symbol.for("react.concurrent_mode"):60111,Hg=Bt?Symbol.for("react.forward_ref"):60112,qg=Bt?Symbol.for("react.suspense"):60113,Xte=Bt?Symbol.for("react.suspense_list"):60120,Wg=Bt?Symbol.for("react.memo"):60115,Gg=Bt?Symbol.for("react.lazy"):60116,Jte=Bt?Symbol.for("react.block"):60121,Zte=Bt?Symbol.for("react.fundamental"):60117,ene=Bt?Symbol.for("react.responder"):60118,tne=Bt?Symbol.for("react.scope"):60119;function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ak:switch(t=t.type,t){case Dk:case jg:case Fg:case Bg:case zg:case qg:return t;default:switch(t=t&&t.$$typeof,t){case Vg:case Hg:case Gg:case Wg:case Ug:return t;default:return e}}case $k:return e}}}function b4(t){return Wn(t)===jg}Me.AsyncMode=Dk;Me.ConcurrentMode=jg;Me.ContextConsumer=Vg;Me.ContextProvider=Ug;Me.Element=Ak;Me.ForwardRef=Hg;Me.Fragment=Fg;Me.Lazy=Gg;Me.Memo=Wg;Me.Portal=$k;Me.Profiler=Bg;Me.StrictMode=zg;Me.Suspense=qg;Me.isAsyncMode=function(t){return b4(t)||Wn(t)===Dk};Me.isConcurrentMode=b4;Me.isContextConsumer=function(t){return Wn(t)===Vg};Me.isContextProvider=function(t){return Wn(t)===Ug};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ak};Me.isForwardRef=function(t){return Wn(t)===Hg};Me.isFragment=function(t){return Wn(t)===Fg};Me.isLazy=function(t){return Wn(t)===Gg};Me.isMemo=function(t){return Wn(t)===Wg};Me.isPortal=function(t){return Wn(t)===$k};Me.isProfiler=function(t){return Wn(t)===Bg};Me.isStrictMode=function(t){return Wn(t)===zg};Me.isSuspense=function(t){return Wn(t)===qg};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fg||t===jg||t===Bg||t===zg||t===qg||t===Xte||typeof t=="object"&&t!==null&&(t.$$typeof===Gg||t.$$typeof===Wg||t.$$typeof===Ug||t.$$typeof===Vg||t.$$typeof===Hg||t.$$typeof===Zte||t.$$typeof===ene||t.$$typeof===tne||t.$$typeof===Jte)};Me.typeOf=Wn;function v4(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var y4={exports:{}},Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,Rk=Ut?Symbol.for("react.element"):60103,Pk=Ut?Symbol.for("react.portal"):60106,Kg=Ut?Symbol.for("react.fragment"):60107,Yg=Ut?Symbol.for("react.strict_mode"):60108,Qg=Ut?Symbol.for("react.profiler"):60114,Xg=Ut?Symbol.for("react.provider"):60109,Jg=Ut?Symbol.for("react.context"):60110,Ok=Ut?Symbol.for("react.async_mode"):60111,Zg=Ut?Symbol.for("react.concurrent_mode"):60111,eb=Ut?Symbol.for("react.forward_ref"):60112,tb=Ut?Symbol.for("react.suspense"):60113,nne=Ut?Symbol.for("react.suspense_list"):60120,nb=Ut?Symbol.for("react.memo"):60115,ib=Ut?Symbol.for("react.lazy"):60116,ine=Ut?Symbol.for("react.block"):60121,rne=Ut?Symbol.for("react.fundamental"):60117,one=Ut?Symbol.for("react.responder"):60118,sne=Ut?Symbol.for("react.scope"):60119;function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Rk:switch(t=t.type,t){case Ok:case Zg:case Kg:case Qg:case Yg:case tb:return t;default:switch(t=t&&t.$$typeof,t){case Jg:case eb:case ib:case nb:case Xg:return t;default:return e}}case Pk:return e}}}function w4(t){return Gn(t)===Zg}Pe.AsyncMode=Ok;Pe.ConcurrentMode=Zg;Pe.ContextConsumer=Jg;Pe.ContextProvider=Xg;Pe.Element=Rk;Pe.ForwardRef=eb;Pe.Fragment=Kg;Pe.Lazy=ib;Pe.Memo=nb;Pe.Portal=Pk;Pe.Profiler=Qg;Pe.StrictMode=Yg;Pe.Suspense=tb;Pe.isAsyncMode=function(t){return w4(t)||Gn(t)===Ok};Pe.isConcurrentMode=w4;Pe.isContextConsumer=function(t){return Gn(t)===Jg};Pe.isContextProvider=function(t){return Gn(t)===Xg};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rk};Pe.isForwardRef=function(t){return Gn(t)===eb};Pe.isFragment=function(t){return Gn(t)===Kg};Pe.isLazy=function(t){return Gn(t)===ib};Pe.isMemo=function(t){return Gn(t)===nb};Pe.isPortal=function(t){return Gn(t)===Pk};Pe.isProfiler=function(t){return Gn(t)===Qg};Pe.isStrictMode=function(t){return Gn(t)===Yg};Pe.isSuspense=function(t){return Gn(t)===tb};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kg||t===Zg||t===Qg||t===Yg||t===tb||t===nne||typeof t=="object"&&t!==null&&(t.$$typeof===ib||t.$$typeof===nb||t.$$typeof===Xg||t.$$typeof===Jg||t.$$typeof===eb||t.$$typeof===rne||t.$$typeof===one||t.$$typeof===sne||t.$$typeof===ine)};Pe.typeOf=Gn;y4.exports=Pe;var ane=y4.exports,Nk=ane,lne={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},cne={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},une={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},x4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lk={};Lk[Nk.ForwardRef]=une;Lk[Nk.Memo]=x4;function nT(t){return Nk.isMemo(t)?x4:Lk[t.$$typeof]||lne}var dne=Object.defineProperty,hne=Object.getOwnPropertyNames,iT=Object.getOwnPropertySymbols,fne=Object.getOwnPropertyDescriptor,pne=Object.getPrototypeOf,rT=Object.prototype;function k4(t,e,n){if(typeof e!="string"){if(rT){var i=pne(e);i&&i!==rT&&k4(t,i,n)}var r=hne(e);iT&&(r=r.concat(iT(e)));for(var o=nT(t),s=nT(e),a=0;a<r.length;++a){var l=r[a];if(!cne[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=fne(e,l);try{dne(t,l,c)}catch(u){}}}}return t}var mne=k4;const gne=ql(mne);var Av=1073741823,oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function bne(){var t="__global_unique_id__";return oT[t]=(oT[t]||0)+1}function vne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yne(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(o){return o(t,r)})}}}function wne(t){return Array.isArray(t)?t[0]:t}function xne(t,e){var n,i,r="__create-react-context-"+bne()+"__",o=function(a){Oo(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=yne(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;vne(h,f)?p=0:(p=typeof e=="function"?e(h,f):Av,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(E.Component);o.childContextTypes=(n={},n[r]=YI.object.isRequired,n);var s=function(a){Oo(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var y=u.observedBits|0;y&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?Av:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?Av:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return wne(this.props.children)(this.state.value)},l}(E.Component);return s.contextTypes=(i={},i[r]=YI.object,i),{Provider:o,Consumer:s}}var kne=E.createContext||xne,_4=function(e){var n=kne();return n.displayName=e,n},E4=_4("Router-History"),wd=_4("Router"),gh=function(t){Oo(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(o){r._pendingLocation=o})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){r._isMounted&&r.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return E.createElement(wd.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},E.createElement(E4.Provider,{children:this.props.children||null,value:this.props.history}))},e}(E.Component);E.Component;E.Component;var sT={},_ne=1e4,aT=0;function Ene(t,e){var n=""+e.end+e.strict+e.sensitive,i=sT[n]||(sT[n]={});if(i[t])return i[t];var r=[],o=Qte(t,r,e),s={regexp:o,keys:r};return aT<_ne&&(i[t]=s,aT++),s}function Js(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,o=r===void 0?!1:r,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=Ene(h,{end:o,strict:a,sensitive:c}),p=f.regexp,m=f.keys,y=p.exec(t);if(!y)return null;var g=y[0],b=y.slice(1),v=t===g;return o&&!v?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:v,params:m.reduce(function(k,$,_){return k[$.name]=b[_],k},{})}},null)}function Cne(t){return E.Children.count(t)===0}var ns=function(t){Oo(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return E.createElement(wd.Consumer,null,function(o){o||mc(!1);var s=r.props.location||o.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?Js(s.pathname,r.props):o.match,l=ui({},o,{location:s,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&Cne(u)&&(u=null),E.createElement(wd.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?E.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(E.Component);function Mk(t){return t.charAt(0)==="/"?t:"/"+t}function Sne(t,e){return t?ui({},e,{pathname:Mk(t)+e.pathname}):e}function Ine(t,e){if(!t)return e;var n=Mk(t);return e.pathname.indexOf(n)!==0?e:ui({},e,{pathname:e.pathname.substr(n.length)})}function lT(t){return typeof t=="string"?t:Qn(t)}function $v(t){return function(){mc(!1)}}function cT(){}E.Component;E.Component;function Tne(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(r){var o=r.wrappedComponentRef,s=v4(r,["wrappedComponentRef"]);return E.createElement(wd.Consumer,null,function(a){return a||mc(!1),E.createElement(t,ui({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,gne(n,t)}var Ane=E.useContext;function bh(){return Ane(E4)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $ne(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function Dne(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],r=0}finally{i=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ka=function(){return Ka=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ka.apply(this,arguments)},C4=function(t){return{loading:t==null,value:t}},Rne=function(){return function(t,e){switch(e.type){case"error":return Ka(Ka({},t),{error:e.error,loading:!1,value:void 0});case"reset":return C4(e.defaultValue);case"value":return Ka(Ka({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},Pne=function(t){var e=t?t():void 0,n=ne.useReducer(Rne(),C4(e)),i=n[0],r=n[1],o=ne.useCallback(function(){var l=t?t():void 0;r({type:"reset",defaultValue:l})},[t]),s=ne.useCallback(function(l){r({type:"error",error:l})},[]),a=ne.useCallback(function(l){r({type:"value",value:l})},[]);return ne.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:a,value:i.value}},[i.error,i.loading,o,s,a,i.value])},Fk=function(t,e){var n=Pne(function(){return t.currentUser}),i=n.error,r=n.loading,o=n.setError,s=n.setValue,a=n.value;return ne.useEffect(function(){var l=yQ(t,function(c){return $ne(void 0,void 0,void 0,function(){var u;return Dne(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return d.sent(),[3,4];case 3:return u=d.sent(),o(u),[3,4];case 4:return s(c),[2]}})})},o);return function(){l()}},[t]),[a,r,i]};const Dv="/assets/tellU-aeb5dd8c.png",Rv="/assets/tellU_white-58ff05cb.png",One="/assets/tellU_humboldt-9cd6cbb6.png",Nne="/assets/tellU_humboldt_black-6b060f32.png",df="/assets/humboldt_school-174f3787.png",uT="/assets/berkeley_school-df29a281.png";class Lne extends ne.Component{render(){const e=this.props.darkMode,n=this.props.zoom,i=this.props.colorPallete;let r={},o=!1,s=!1;return r={fontWeight:"bold"},this.props.schoolName==="Cal Poly Humboldt"?o=!0:this.props.schoolName==="UC Berkeley"&&(s=!0),e&&o&&i?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${df})`,backgroundSize:"95vw",backgroundPosition:"10% -120%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:One,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):!e&&o&&i?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",bottom:"10vh",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${df})`,backgroundSize:"95vw",backgroundPosition:"10% -120%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Nne,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):e&&o&&!i?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${df})`,backgroundSize:"95vw",backgroundPosition:"10% -120%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Rv,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):!e&&o&&!i?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${df})`,backgroundSize:"95vw",backgroundPosition:"10% -120%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Dv,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):e&&s?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${uT})`,backgroundSize:"95vw",backgroundPosition:"10% -110%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Rv,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):!e&&s?C("div",{style:{width:"100%"},children:C("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${uT})`,backgroundSize:"95vw"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Dv,alt:"QUANTUM",style:{zoom:n}}),C("p",{style:r,children:this.props.schoolName})]})})}):e?C("div",{style:{width:"100%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Rv,alt:"QUANTUM",style:{zoom:n,height:"50px"}}),C("p",{style:r,children:this.props.schoolName})]})}):C("div",{style:{width:"100%"},children:Ie(Mn,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[C("img",{draggable:!1,className:"quantum_logo",src:Dv,alt:"QUANTUM",style:{zoom:n,height:"50px"}}),C("p",{style:r,children:this.props.schoolName})]})})}}const rb=E.memo(Lne),Ir=lr("Preferences",{web:()=>pn(()=>import("./web-b6980dcd.js"),[]).then(t=>new t.PreferencesWeb)}),zk=lr("SplashScreen",{web:()=>pn(()=>import("./web-6b8c909f.js"),[]).then(t=>new t.SplashScreenWeb)});function S4(t){return new Promise(e=>setTimeout(e,t))}const Mne={mode:Sl.Body},Fne=()=>{console.log("landing page");const[t,e]=ne.useState(!1),[n,i,r]=Fk(ir),o=bh(),s=Vm(),a=Go(),l=E.useCallback(async u=>{await Ir.set({key:"school",value:u})},[]);E.useEffect(()=>(e(!0),n&&Ir.get({key:"school"}).then(u=>{if(u.value)console.log(u.value),e(!1),ii(s,"/home","root");else{let d="";const h=Li(Ai,"userData",n.uid);sh(h).then(f=>{f.exists()&&(d=f.data().school,console.log(d),l(d)),e(!1),ii(s,"home","root")})}}).catch(u=>{console.log(u),e(!1),o.replace("/home")}),e(!1),()=>{e(!1)}),[n,i]),E.useEffect(()=>(Rn.addListener("keyboardWillShow",u=>{Rn.setResizeMode(Mne)}),()=>{Rn.removeAllListeners()}),[]);const c=E.useCallback(async()=>{await S4(250),zk.hide()},[]);return E.useEffect(()=>{c()},[]),E.useEffect(()=>{a.setShowTabs(!1)},[]),aD(()=>{a.setShowTabs(!1)}),t?C(lD,{class:"ion-spinner",name:"dots",color:"primary"}):C(El,{children:Ie(_l,{children:[C("div",{style:{height:"15vh"}}),Ie(Mn,{className:"ion-no-border",style:{paddingBottom:"5vh"},children:[C(rb,{darkMode:a.darkMode,schoolName:"",zoom:1.1}),C("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"Arial"},children:"University Chats"})]}),C("div",{style:{height:"30%"}}),Ie(A8,{children:[C("div",{children:C(Ji,{className:"login-button",fill:"clear",expand:"block",id:"signInButton",onClick:()=>ii(s,"/sign-in","forward"),children:"Sign In"})}),C("div",{style:{height:"1vh"}}),C("div",{children:C(Ji,{className:"login-button",fill:"clear",expand:"block",id:"signInButton",onClick:()=>ii(s,"/register","forward"),children:"Register"})})]})]})})};function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q0.apply(this,arguments)}var I4=ne.createContext(null),zne=I4.Provider,ob=function(){return ne.useContext(I4)},Bne=function(e){var n=e.value,i=e.children,r=ne.useState(!1),o=r[0],s=r[1],a=ne.useState(),l=a[0],c=a[1],u=ne.useRef(null),d=ne.useCallback(function(f){var p=function(g){return function(){c(Q0({},n,g)),s(!0)}},m=function(){var g;(g=u.current)===null||g===void 0||g.dismiss()};return{present:p(f),dismiss:m}},[n]),h=ne.useMemo(function(){var f=function(m){return function(y){var g=d({message:y,color:m});return g.present(),g}};return{create:d,success:f("success"),error:f("danger"),warning:f("warning")}},[d]);return E.createElement(zne,{value:h},i,E.createElement(F8,Object.assign({ref:u,isOpen:o,onDidDismiss:function(){return s(!1)}},l)))};const T4=lr("Dialog",{web:()=>pn(()=>import("./web-03c6a48d.js"),[]).then(t=>new t.DialogWeb)}),Une="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",Vne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect stroke-linejoin='round' x='48' y='80' width='416' height='384' rx='48' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='296' cy='232' r='24'/><circle cx='376' cy='232' r='24'/><circle cx='296' cy='312' r='24'/><circle cx='376' cy='312' r='24'/><circle cx='136' cy='312' r='24'/><circle cx='216' cy='312' r='24'/><circle cx='136' cy='392' r='24'/><circle cx='216' cy='392' r='24'/><circle cx='296' cy='392' r='24'/><path stroke-linejoin='round' stroke-linecap='round' d='M128 48v32M384 48v32' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linejoin='round' d='M464 160H48' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M32 456a24 24 0 0024 24h400a24 24 0 0024-24V176H32zm320-244a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm0 80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm-80-80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm0 80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm0 80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm-80-80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm0 80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm-80-80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zm0 80a4 4 0 014-4h40a4 4 0 014 4v40a4 4 0 01-4 4h-40a4 4 0 01-4-4zM456 64h-55.92V32h-48v32H159.92V32h-48v32H56a23.8 23.8 0 00-24 23.77V144h448V87.77A23.8 23.8 0 00456 64z'/></svg>",Hne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.49 380c1.19-4.38-1.44-10.47-3.95-14.86a44.86 44.86 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.65 139.09 140.73 48 255.83 48 356.21 48 440 117.54 459.58 209.85a199 199 0 014.42 41.64c0 112.41-89.49 204.93-204.59 204.93-18.3 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.09 31.09 0 00-11.12-2.07 30.71 30.71 0 00-12.09 2.43l-67.83 24.48a16 16 0 01-4.67 1.22 9.6 9.6 0 01-9.57-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",qne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",A4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M432 448a15.92 15.92 0 01-11.31-4.69l-352-352a16 16 0 0122.62-22.62l352 352A16 16 0 01432 448zM255.66 384c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 00.14-2.94L93.5 161.38a2 2 0 00-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0075.8-12.58 2 2 0 00.77-3.31l-21.58-21.58a4 4 0 00-3.83-1 204.8 204.8 0 01-51.16 6.47zM490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 00-74.89 12.83 2 2 0 00-.75 3.31l21.55 21.55a4 4 0 003.88 1 192.82 192.82 0 0150.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 010 .16 310.72 310.72 0 01-64.12 72.73 2 2 0 00-.15 2.95l19.9 19.89a2 2 0 002.7.13 343.49 343.49 0 0068.64-78.48 32.2 32.2 0 00-.1-34.78z'/><path d='M256 160a95.88 95.88 0 00-21.37 2.4 2 2 0 00-1 3.38l112.59 112.56a2 2 0 003.38-1A96 96 0 00256 160zM165.78 233.66a2 2 0 00-3.38 1 96 96 0 00115 115 2 2 0 001-3.38z'/></svg>",$4="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Wne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Gne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 174.74V48h-80v58.45L256 32 0 272h64v208h144V320h96v160h144V272h64l-96-97.26z'/></svg>",Kne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M313.27 124.64L198.73 51.36a32 32 0 00-29.28.35L56.51 127.49A16 16 0 0048 141.63v295.8a16 16 0 0023.49 14.14l97.82-63.79a32 32 0 0129.5-.24l111.86 73a32 32 0 0029.27-.11l115.43-75.94a16 16 0 008.63-14.2V74.57a16 16 0 00-23.49-14.14l-98 63.86a32 32 0 01-29.24.35zM328 128v336M184 48v336' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Yne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M327.71 130.93L184 39 32 144v336l152.29-98.93L328 473l152-105V32zM312 421l-112-72V91l112 72z'/></svg>",Qne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Xne="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 256a112 112 0 10-112-112 112 112 0 00112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z'/></svg>",Bk=t=>{const e=t.title,n=t.schoolName,i=t.text,r=t.color,o=t.setShowReportModal,s=t.deleteButton,a=t.deleteAccount,l=t.dm,c=t.user,u=t.uid,d=ob(),h=bh(),f=Go(),p=async()=>{const{value:m}=await T4.confirm({title:"Report Post",message:"Are you sure you want to report this post?",okButtonTitle:"Report"});m&&o(!0)};return C(FM,{children:C(Mn,{className:"ion-no-border",children:Ie(O8,{children:[e&&e.length>0&&C(P8,{style:{fontSize:"1.2em"},children:e}),C(Wh,{style:{marginLeft:"-2.5%"},children:C(oj,{defaultHref:"/home",className:"back-button",icon:qne,text:i||"Back",color:r||(f.schoolColorToggled?"tertiary":"primary")})}),n&&o&&C(Wh,{slot:"end",children:C(Ji,{color:n==="Cal Poly Humboldt"&&f.schoolColorToggled?"tertiary":"primary",slot:"end",onClick:()=>{p()},children:C(Vi,{icon:Une})})}),l&&c&&c.uid!==u&&C(Wh,{slot:"end",children:C(Ji,{color:n==="Cal Poly Humboldt"&&f.schoolColorToggled?"tertiary":"primary",slot:"end",mode:"md",onClick:()=>{let m=[];c&&c.uid&&u?(c.uid<u?(m.push(u),m.push(c.uid)):(m.push(c.uid),m.push(u)),h.push("/chatroom/"+n+"/"+m[0]+"_"+m[1],"forward")):(console.log(c.uid),console.log(c),console.log(u),d.create({message:"Unable to open DMs",duration:2e3,color:"toast-error"}).present())},children:C(Vi,{icon:Hne})})}),s&&C(Wh,{slot:"end",children:C(Ji,{onClick:()=>a(),color:"toast-error",mode:"md",fill:"clear",id:"deleteAccount",children:"Delete Account"})})]})})})},Jne={mode:Sl.Body},Zne=()=>{const t=ob(),e=Go(),[n,i]=ne.useState(""),[r,o]=ne.useState(!1),s=()=>{if(o(!0),typeof n!="string"){t.create({message:"Enter an email",duration:2e3,color:"toast-error"}).present(),o(!1);return}if(n.trim().length<=0){t.create({message:"Enter an email",duration:2e3,color:"toast-error"}).present(),o(!1);return}yte(n).then(a=>{if(a){const l=t.create({message:"Email sent! (Check your spam folder)",duration:2e3,color:"toast-success"});l.present(),l.dismiss(),i(""),S4(1500).then(()=>{o(!1)})}else t.create({message:"Email not found, try again",duration:2e3,color:"toast-error"}).present(),o(!1)})};return ne.useEffect(()=>(Rn.addListener("keyboardWillShow",a=>{Rn.setResizeMode(Jne)}),()=>{Rn.removeAllListeners()}),[]),Ie(El,{children:[C(Bk,{color:"primary",text:"Sign In"}),Ie(_l,{children:[Ie(Mn,{className:"ion-no-border",style:{padding:"5vh"},children:[C(rb,{darkMode:e.darkMode,schoolName:"",zoom:1.2}),C("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"sans-serif"},children:"Forgot Password"})]}),C(fs,{color:"primary",className:"login-label",children:"Email"}),C(ps,{className:"login-input",children:C(rl,{type:"email",value:n,placeholder:"Email",onIonChange:a=>{i(a.detail.value)}})}),C("br",{}),C(Ji,{className:"login-button",disabled:r,onClick:()=>{s()},fill:"clear",expand:"block",id:"signInButton",children:"Send Password Reset"})]})]})},eie={mode:Sl.Body},tie={fontSize:"0.85em",textAlign:"right",color:"gray",fontFamily:"Arial",marginTop:"-1.5vh",marginRight:"7.5vw"},nie=()=>{const[t,e]=ne.useState(!1),[n,i]=ne.useState(!1),[r,o,s]=Fk(ir),a=ob(),l=bh(),c=ne.useRef(null),u=ne.useRef(null),[d,h]=cj(),f=Vm(),p=Go(),m=async()=>{const g=c.current,b=u.current;if(g&&b){const v=g.value,k=b.value;if(!v){a.create({message:"Enter an email address",duration:2e3,color:"toast-error"}).present();return}if(!k){a.create({message:"Enter a password",duration:2e3,color:"toast-error"}).present();return}d({message:"Logging In...",duration:0});const $=await gte(v.toString(),k.toString()).catch(_=>{console.log(_),a.error(_)});if($){const _=await bte($.uid);_&&"school"in _&&_.school.length>0&&await Ir.set({key:"school",value:_.school});const x=a.create({message:"Logging In...",duration:2e3,color:"toast-success"});x.present(),x.dismiss(),ii(f,"/home","root"),h()}else a.create({message:"Invalid credentials",duration:2e3,color:"toast-error"}).present();h()}else a.create({message:"Unable to login, check your input method/device",duration:2e3,color:"toast-error"}).present()},y=E.useCallback(async g=>{await Ir.set({key:"school",value:g})},[]);return E.useEffect(()=>(e(!0),r&&Ir.get({key:"school"}).then(g=>{if(g.value)console.log(g.value),e(!1),ii(f,"/home","root");else{let b="";const v=Li(Ai,"userData",r.uid);sh(v).then(k=>{k.exists()&&(b=k.data().school,console.log(b),y(b)),e(!1),ii(f,"home","root")})}}).catch(g=>{console.log(g),e(!1),l.replace("/home")}),e(!1),()=>{e(!1)}),[r,o]),E.useEffect(()=>(Rn.addListener("keyboardWillShow",g=>{Rn.setResizeMode(eie)}),()=>{Rn.removeAllListeners()}),[]),E.useEffect(()=>{zk.hide()},[]),E.useEffect(()=>{p.setShowTabs(!1)},[]),aD(()=>{p.setShowTabs(!1)}),t?C(lD,{className:"ion-spinner",name:"dots",color:"primary"}):Ie(El,{children:[C(Bk,{color:"primary"}),Ie(_l,{children:[Ie(Mn,{className:"ion-no-border",style:{padding:"5vh"},children:[C(rb,{darkMode:p.darkMode,schoolName:"",zoom:1.1}),C("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"Arial"},children:"Sign In"})]}),C(fs,{id:"email-label",className:"login-label",children:"Email"}),C(ps,{className:"login-input",children:C(rl,{"aria-labelledby":"email-input",type:"email",ref:c,placeholder:"email@email.com"})}),C(fs,{id:"password-label",className:"login-label",children:"Password"}),Ie(ps,{className:"login-input",children:[C(rl,{"aria-labelledby":"password-label",clearInput:!0,clearOnEdit:!1,type:n?"text":"password",ref:u,placeholder:""}),C(Ji,{slot:"end",fill:"clear",onClick:()=>{i(!n)},children:C(Vi,{color:"medium",icon:n?$4:A4})})]}),C("p",{style:tie,children:C(R8,{onClick:()=>{ii(f,"/forgot-password","forward")},children:"forgot your password?"})}),C("div",{style:{height:"5%"}}),C(Ji,{className:"login-button",onClick:()=>{m()},fill:"clear",expand:"block",id:"signInButton",children:"Sign In"}),C("div",{style:{height:"1%"}})]})]})},X0=lr("FCM",{web:()=>pn(()=>import("./web-e22ed4a8.js"),[]).then(t=>new t.FCMWeb)}),dT=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,iie={mode:Sl.Body},rie={fontSize:"0.85em",textAlign:"right",color:"var(--ion-color-primary)",fontFamily:"Arial",marginTop:"-1vh",height:"0.5vh",marginRight:"10vw"},Uc={fontSize:"0.85em",textAlign:"right",color:"var(--ion-color-toast-error)",fontFamily:"Arial",marginTop:"-1vh",height:"0.5vh",marginRight:"10vw"},oie={header:"University",subHeader:"Select your university",cssClass:"custom-alert"},sie=()=>{const[t,e]=E.useState(""),[n,i]=E.useState(""),[r,o]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(!1),[u,d]=E.useState(""),[h,f]=E.useState(!1),[p,m]=Fk(ir),y=ob(),g=Vm(),b=bh(),v=Go();async function k(){if(f(!0),s){var x=t.lastIndexOf("@");if(!(x>-1&&t.slice(x+1).toLowerCase()===u)){y.create({message:"Use your University's email address",duration:2e3,color:"toast-error"}).present(),f(!1);return}}if(n.trim()===""||r.trim()===""||t.trim()==="")y.create({message:"Enter a value in each field",duration:2e3,color:"toast-error"}).present();else if(s.length==0)y.create({message:"Select a University",duration:2e3,color:"toast-error"}).present();else if(((t.trim()||"").match(dT)||[]).length>0)y.create({message:"Email cannot contain emojis",duration:2e3,color:"toast-error"}).present();else if(((n.trim()||"").match(dT)||[]).length>0)y.create({message:"Username cannot contain emojis",duration:2e3,color:"toast-error"}).present();else if(n.trim().length>15)y.create({message:"Username cannot be more than 15 characters",duration:2e3,color:"toast-error"}).present();else if(r.length<8)y.create({message:"Password must be 8 or more characters",duration:2e3,color:"toast-error"}).present();else if(n.includes(" "))y.create({message:"Username cannot contain spaces",duration:2e3,color:"toast-error"}).present();else if(!await vte(n.trim()))y.create({message:"Username has been taken!",duration:2e3,color:"toast-error"}).present();else{if(await T4.alert({title:"Agree to Terms and Conditions",message:"Don't post anything offensive, obscene, or harmful! Be nice... read our privacy policy at https://tellu-app.com/page/privacy-policy"}),typeof await mte(n.trim(),t.trim(),r,s)=="string")y.error("Connection interrupted. Your account should be created, try logging in");else{await $(s);const M=localStorage.getItem("notificationsToken")||"";M.length<=0?(X0.deleteInstance().then(()=>console.log("FCM instance deleted")).catch(Q=>console.log(Q)),X0.getToken().then(Q=>{localStorage.setItem("notificationsToken",Q.token),GI(Q.token)})):GI(M);const L=y.create({message:"Registered Successfully",duration:2e3,color:"toast-success"});L.present(),L.dismiss()}f(!1)}f(!1)}const $=E.useCallback(async x=>{await Ir.set({key:"school",value:x})},[]);E.useEffect(()=>(f(!0),p&&Ir.get({key:"school"}).then(x=>{if(x.value)console.log(x.value),f(!1),ii(g,"home","root");else{let S="";const G=Li(Ai,"userData",p.uid);sh(G).then(M=>{M.exists()&&(S=M.data().school,console.log(S),$(S)),f(!1),ii(g,"home","root")})}}).catch(x=>{console.log(x),f(!1),b.replace("/home")}),f(!1),()=>{f(!1)}),[p,m]),E.useEffect(()=>(Rn.addListener("keyboardWillShow",x=>{Rn.setResizeMode(iie)}),()=>{Rn.removeAllListeners()}),[]);const _=x=>{i(x.detail.value)};return Ie(El,{children:[C(Bk,{color:"primary"}),Ie(_l,{children:[Ie(Mn,{className:"ion-no-border",style:{paddingBottom:"5vh"},children:[C(rb,{darkMode:v.darkMode,schoolName:"",zoom:1.1}),C("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"Arial"},children:"Register"})]}),C(fs,{id:"university-label",className:"login-label",children:"University"}),C(ps,{className:"register-input-select",children:Ie(D8,{"aria-label":"university-label",value:s,interfaceOptions:oie,placeholder:"University of California",onIonChange:x=>{a(x.detail.value),x.detail.value=="Cal Poly Humboldt"?d("humboldt.edu"):x.detail.value=="UC Berkeley"?d("berkeley.edu"):x.detail.value=="UC Davis"?d("ucdavis.edu"):x.detail.value=="UC Irvine"?d("uci.edu"):x.detail.value=="UCLA"?d("ucla.edu"):x.detail.value=="UC Merced"?d("ucmerced.edu"):x.detail.value=="UC Riverside"?d("ucr.edu"):x.detail.value=="UC San Diego"?d("ucsd.edu"):x.detail.value=="UCSF"?d("ucsf.edu"):x.detail.value=="UC Santa Barbara"?d("ucsb.edu"):x.detail.value=="UC Santa Cruz"?d("ucsc.edu"):x.detail.value=="Cal Poly Pomona"?d("cpp.edu"):x.detail.value=="Cal Poly San Luis Obispo"?d("calpoly.edu"):x.detail.value=="Cal State Fullerton"?d("fullerton.edu"):x.detail.value=="Cal State East Bay"?d("csueastbay.edu"):x.detail.value=="Cal State LA"?d("calstatela.edu"):x.detail.value=="Cal Maritime"?d("csum.edu"):x.detail.value=="Cal State San Bernardino"?d("csusb.edu"):x.detail.value=="Cal State Long Beach"?d("csulb.edu"):x.detail.value=="SF State"?d("sfsu.edu"):x.detail.value=="San Jose State"?d("sjsu.edu"):x.detail.value=="Chico State"?d("csuchico.edu"):x.detail.value=="Fresno State"?d("csufresno.edu"):x.detail.value=="Stanislaus State"?d("csustan.edu"):x.detail.value=="Sac State"?d("csus.edu"):x.detail.value=="CSUN"?d("csun.edu"):x.detail.value=="CSU Bakersfield"?d("csub.edu"):x.detail.value=="CSU Dominguez Hills"||x.detail.value=="CSU Dominguez Hills"?d("csudh.edu"):x.detail.value=="CSU Channel Islands"?d("csuci.edu"):x.detail.value=="CSU Monterey Bay"&&d("csumb.edu")},children:[C(Ce,{value:"Cal Poly Humboldt",children:"Cal Poly Humboldt"}),C(Ce,{disabled:!0,value:"Cal Poly Pomona",children:"Cal Poly Pomona"}),C(Ce,{disabled:!0,value:"Cal Poly San Luis Obispo",children:"Cal Poly San Luis Obispo"}),C(Ce,{disabled:!0,value:"Cal State Fullerton",children:"Cal State Fullerton"}),C(Ce,{disabled:!0,value:"Cal State East Bay",children:"Cal State East Bay"}),C(Ce,{disabled:!0,value:"Cal State LA",children:"Cal State LA"}),C(Ce,{disabled:!0,value:"Cal Maritime",children:"Cal Maritime"}),C(Ce,{disabled:!0,value:"Cal State San Bernardino",children:"Cal State San Bernardino"}),C(Ce,{disabled:!0,value:"Cal State Long Beach",children:"Cal State Long Beach"}),C(Ce,{disabled:!0,value:"SF State",children:"SF State"}),C(Ce,{disabled:!0,value:"San Jose State",children:"San Jose State"}),C(Ce,{disabled:!0,value:"Chico State",children:"Chico State"}),C(Ce,{disabled:!0,value:"Fresno State",children:"Fresno State"}),C(Ce,{disabled:!0,value:"San Diego State",children:"San Diego State"}),C(Ce,{disabled:!0,value:"Sonoma State",children:"Sonoma State"}),C(Ce,{disabled:!0,value:"Stanislaus State",children:"Stanislaus State"}),C(Ce,{disabled:!0,value:"Sac State",children:"Sac State"}),C(Ce,{disabled:!0,value:"CSUN",children:"CSUN"}),C(Ce,{disabled:!0,value:"CSU Bakersfield",children:"CSU Bakersfield"}),C(Ce,{disabled:!0,value:"CSU Dominguez Hills",children:"CSU Dominguez Hills"}),C(Ce,{disabled:!0,value:"CSU Channel Islands",children:"CSU Channel Islands"}),C(Ce,{disabled:!0,value:"CSU Monterey Bay",children:"CSU Monterey Bay"}),C(Ce,{disabled:!0,value:"UC Berkeley",children:"UC Berkeley"}),C(Ce,{disabled:!0,value:"UC Davis",children:"UC Davis"}),C(Ce,{disabled:!0,value:"UC Irvine",children:"UC Irvine"}),C(Ce,{disabled:!0,value:"UCLA",children:"UCLA"}),C(Ce,{disabled:!0,value:"UC Merced",children:"UC Merced"}),C(Ce,{disabled:!0,value:"UC Riverside",children:"UC Riverside"}),C(Ce,{disabled:!0,value:"UC San Diego",children:"UC San Diego"}),C(Ce,{disabled:!0,value:"UCSF",children:"UCSF"}),C(Ce,{disabled:!0,value:"UC Santa Barbara",children:"UC Santa Barbara"}),C(Ce,{disabled:!0,value:"UC Santa Cruz",children:"UC Santa Cruz"}),C(Ce,{disabled:!0,value:"More schools to come!...",children:"More schools to come!..."})]})}),C(fs,{id:"school-email-label",className:"login-label",children:"School Email"}),C(ps,{className:"register-input",children:C(rl,{"aria-labelledby":"school-email-label",clearInput:!0,value:t,type:"email",placeholder:"email@email.com",id:"emailSignUp",onIonChange:x=>e(x.detail.value)})}),t.length>0&&s.length<=0?C("p",{style:Uc,children:"Select a University"}):t.lastIndexOf("@")>-1&&t.slice(t.lastIndexOf("@")+1).toLowerCase()!==u?C("p",{style:Uc,children:"Use your University's email"}):C("p",{style:Uc,children:" "}),C(fs,{id:"username-label-reg",className:"login-label",children:"Username"}),C(ps,{className:"register-input",children:C(rl,{"aria-labelledby":"username-label-reg",maxlength:15,clearInput:!0,value:n,type:"text",placeholder:"userName1234",id:"userNameSignUp",onIonChange:x=>{_(x)}})}),Ie("p",{style:rie,children:[" ",n.length," / 15 "]}),C(fs,{id:"password-label-reg",className:"login-label",children:"Password"}),Ie(ps,{className:"register-input",children:[C(rl,{"aria-labelledby":"password-label-reg",value:r,clearInput:!0,clearOnEdit:!1,type:l?"text":"password",placeholder:"",id:"passwordSignUp",onIonChange:x=>o(x.detail.value)}),C(Ji,{slot:"end",fill:"clear",onClick:()=>{c(!l)},children:C(Vi,{color:"medium",icon:l?$4:A4})})]}),r.length>0&&r.length<8?Ie("p",{style:Uc,children:[" ",r.length>0&&r.length<8?"Password must be at least 8 characters":""," "]}):Ie("p",{style:Uc,children:[" ",r.length>0&&r.length<8?"Password must be at least 8 characters":""," "]}),C("div",{style:{height:"1%"}}),C(Ji,{className:"login-button",onClick:()=>{k()},fill:"clear",expand:"block",id:"signInButton",children:"Register"}),C("div",{style:{height:"1%"}}),C(M8,{message:"Please wait...",duration:0,isOpen:h})]})]})};class aie extends E.PureComponent{render(){return E.createElement(ns,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}class lie extends fj{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,r){const o={id:xp("viewItem"),outletId:e,ionPageElement:r,reactElement:n,mount:!0,ionRoute:!1},s={exact:n.props.exact,path:n.props.path||n.props.from,component:n.props.component},a=Js(i.pathname,s);return n.type===bx&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:a,childProps:n.props},o}getChildrenToRender(e,n,i){const r=this.getViewItemsForOutlet(e);return E.Children.forEach(n.props.children,s=>{const a=r.find(l=>hT(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),r.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=E.createElement(aC,{key:`view-${s.id}`,mount:s.mount,removeView:()=>this.remove(s)},E.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=hT(s.reactElement,i.pathname);a=E.createElement(aC,{key:`view-${s.id}`,mount:s.mount,removeView:()=>this.remove(s)},E.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:r,match:o}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&r&&o&&(r.routeData.match=o),r}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,n,!1,i);return r}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i,r){let o,s,a;if(n)a=this.getViewItemsForOutlet(n),a.some(l),o||a.some(c);else{const u=this.getAllViewItems();u.some(l),o||u.some(c)}return{viewItem:o,match:s};function l(u){if(r&&!u.ionRoute)return!1;const d={exact:i?!0:u.routeData.childProps.exact,path:u.routeData.childProps.path||u.routeData.childProps.from,component:u.routeData.childProps.component},h=Js(e,d);return h?(o=u,s=h,!0):!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},o=u,!0):!1}}}function hT(t,e,n){const i={exact:n?!0:t.props.exact,path:t.props.path||t.props.from,component:t.props.component};return Js(e,i)}function cie(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const fT=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class uie extends E.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=xp("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&r!==o&&(o.mount=!1));const s=die((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=s:s&&(r=this.context.createViewItem(this.id,s,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===o&&r.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),fT(r.ionPageElement)&&o!==void 0&&!fT(o.ionPageElement)))return;this.transitionPage(e,r,o)}else o&&!s&&!r&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=px();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:o}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},r=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:r}}async transitionPage(e,n,i,r,o=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(hie(i.reactElement,e.pathname,!0)){const d=cie(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!o&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=E.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return E.createElement(mx.Provider,{value:this.stackContextValue},E.cloneElement(n,{ref:r=>{n.props.setRef&&n.props.setRef(r),n.props.forwardedRef&&(n.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:o}=n;typeof o=="function"&&o(r)}},i))}static get contextType(){return pD}}function die(t,e){let n;return E.Children.forEach(t,i=>{const r={exact:i.props.exact,path:i.props.path||i.props.from,component:i.props.component};Js(e.pathname,r)&&(n=i)}),n||(E.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function hie(t,e,n){const i={exact:n?!0:t.props.exact,path:t.props.path||t.props.from,component:t.props.component};return Js(e,i)}class fie extends E.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new dj,this.viewStack=new lie,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:xp("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[o,s]=n.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===o?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(o+(s?"?"+s:"")))):this.handleNavigate(o,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,r,o;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:xp("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=(u==null?void 0:u.routeDirection)||l.routeDirection,l.routeAnimation=(u==null?void 0:u.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,r,o,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:o,routeAnimation:r,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=px();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const o=this.locationHistory.findLastLocation(r);if(o)if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:n||r.routeAnimation}),r.lastPathname===r.pushedByRoute||o.pathname===r.pushedByRoute&&r.tab===""&&o.tab===""){const s=this.props.history;(s.goBack||s.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back");else this.handleNavigate(e,"pop","back")}else this.handleNavigate(e,"pop","back")}handleResetTab(e,n,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const o=Object.assign({},r);o.pathname=n,o.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return E.createElement(pD.Provider,{value:this.routeMangerContextState},E.createElement(hj,{ionRoute:aie,ionRedirect:{},stackManager:uie,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const sb=Tne(fie);sb.displayName="IonRouter";class pie extends E.Component{constructor(e){super(e);const{history:n}=e,i=mt(e,["history"]);this.history=n||h4(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return E.createElement(gh,Object.assign({history:this.history},i),E.createElement(sb,{registerHistoryListener:this.registerHistoryListener},n))}}class vre extends E.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return E.createElement(gh,Object.assign({},i),E.createElement(sb,{registerHistoryListener:this.registerHistoryListener},n))}}class yre extends E.Component{constructor(e){super(e);const{history:n}=e,i=mt(e,["history"]);this.history=n||Fte(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return E.createElement(gh,Object.assign({history:this.history},i),E.createElement(sb,{registerHistoryListener:this.registerHistoryListener},n))}}const ku=lr("PushNotifications",{});const mie="/assets/aiFilled-ebe7c625.svg",gie="/assets/aiUnfilled-af6cbbe4.svg";uj({mode:"md"});const bie=h4();zk.show({autoHide:!0,fadeInDuration:300,fadeOutDuration:300});const vie={style:kp.Dark},yie=()=>{const t=Go(),e=bh(),[n,i]=E.useState("home"),[r]=lj();let o=t.showTabs;const s=(a,l,c)=>{a=a.replace(" sent a DM",""),r({message:a,duration:3500,position:c,buttons:[{text:"Open",role:"info",handler:()=>{e.push(l)}},{text:"Dismiss",role:"cancel",handler:()=>{}}],cssClass:"toast-options"})};return ne.useEffect(()=>{Rr.getPlatform()==="ios"&&(ku.addListener("pushNotificationReceived",a=>{let c=a.data["gcm.notification.data"].toString().replaceAll("\\",""),u=c.substring(7,c.length),d=u.slice(1,u.length-2);s(a.body||"",d||"","top")}).then(()=>{console.log("adding listener for push notif received")}),ku.addListener("pushNotificationActionPerformed",a=>{let c=a.notification.data["gcm.notification.data"].toString().replaceAll("\\",""),u=c.substring(7,c.length),d=u.slice(1,u.length-2);e.push(d)}).then(()=>{console.log("adding listener for notif action performed")}))},[]),C(Bne,{value:{color:"primary",duration:2e3},children:Ie(rj,{onIonTabsDidChange:a=>{i(a.detail.tab)},children:[Ie(jy,{children:[C(ns,{path:"/",exact:!0,component:KI}),C(ns,{path:"/loadingPage",exact:!0,component:KI}),C(ns,{path:"/landing-page",exact:!0,component:Fne}),C(ns,{path:"/sign-in",exact:!0,component:nie}),C(ns,{path:"/forgot-password",exact:!0,component:Zne}),C(ns,{path:"/register",exact:!0,component:sie})]}),Ie(Hy,{style:o?{}:{display:"none"},slot:"bottom",children:[C(Jr,{className:t.darkMode?"tab-dark":"tab-light",tab:"home",href:"/home",children:C(Vi,{size:"large",style:{bottom:"-20px"},icon:n==="home"?Gne:Wne,color:"primary"})}),C(Jr,{className:t.darkMode?"tab-dark":"tab-light",tab:"events",href:"/events",children:C(Vi,{size:"large",icon:n==="events"?jne:Vne,color:"primary"})}),C(Jr,{tab:"hank",href:"/hank",children:n==="hank"?C(Vi,{style:{transform:"scale(1.1)"},src:mie}):C(Vi,{style:{transform:"scale(1.1)"},src:gie})}),C(Jr,{className:t.darkMode?"tab-dark":"tab-light",tab:"maps",href:"/maps",children:C(Vi,{size:"large",icon:n==="maps"?Yne:Kne,color:"primary"})}),C(Jr,{className:t.darkMode?"tab-dark":"tab-light",tab:"settings",href:"/settings",children:C(Vi,{size:"large",icon:n==="settings"?Xne:Qne,color:"primary"})})]})]})})},wie=()=>{const t=Go(),e=E.useCallback(async()=>{document.body.classList.toggle("dark"),t.setDarkMode(!0),Rr.getPlatform()==="md"&&(Rn.setStyle(vie),bD.setStyle({style:_p.Dark}))},[]),n=E.useCallback(async()=>{t.setSchoolColorToggled(!1)},[]),i=E.useCallback(async()=>{(await Ir.get({key:"sensitivityToggled"})).value==="false"?t.setSensitivityToggled(!1):t.setSensitivityToggled(!0)},[]),r=async()=>{let s=await ku.checkPermissions();if(console.log(s.receive),s.receive==="prompt"){if(s=await ku.requestPermissions(),s.receive!=="granted")throw new Error("User denied permissions!");ku.register().then(()=>{X0.getToken().then(a=>{localStorage.setItem("notificationsToken",a.token),console.log("setting notif token item: ",a.token),console.log(a.token)})})}},o=E.useCallback(async()=>{await Ir.set({key:"school",value:"Cal Poly Humboldt"})},[]);return ne.useEffect(()=>{o().catch(s=>console.log(s)),e().catch(s=>{console.log(s)}),n().catch(s=>{console.log(s)}),i().catch(s=>{console.log(s)}),Rr.getPlatform()==="ios"&&r()},[]),C(W8,{children:C(pie,{history:bie,children:C(yie,{})})})},xie=document.getElementById("root"),kie=IA(xie);kie.render(C(xte,{children:C(wie,{})}));export{MB as K,gD as W,Cie as __vite_legacy_guard,Zw as a,Ps as b,m5 as c,Jw as d,HA as e,Bie as f,My as g,Rt as h,w$ as i,Oy as j,Vie as k,Z as l,Tie as m,Sie as n,Iie as p,Rs as r,Uie as s,Di as w};
