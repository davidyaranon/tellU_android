function PZ(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function fl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oT={exports:{}},bp={},sT={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),AL=Symbol.for("react.portal"),RL=Symbol.for("react.fragment"),DL=Symbol.for("react.strict_mode"),PL=Symbol.for("react.profiler"),NL=Symbol.for("react.provider"),OL=Symbol.for("react.context"),LL=Symbol.for("react.forward_ref"),ML=Symbol.for("react.suspense"),FL=Symbol.for("react.memo"),BL=Symbol.for("react.lazy"),K1=Symbol.iterator;function UL(t){return t===null||typeof t!="object"?null:(t=K1&&t[K1]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,cT={};function pl(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uT(){}uT.prototype=pl.prototype;function Zb(t,e,n){this.props=t,this.context=e,this.refs=cT,this.updater=n||aT}var e0=Zb.prototype=new uT;e0.constructor=Zb;lT(e0,pl.prototype);e0.isPureReactComponent=!0;var Q1=Array.isArray,dT=Object.prototype.hasOwnProperty,t0={current:null},hT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)dT.call(e,i)&&!hT.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ju,type:t,key:o,ref:s,props:r,_owner:t0.current}}function zL(t,e){return{$$typeof:ju,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ju}function VL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y1=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VL(""+t.key):e.toString(36)}function kh(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ju:case AL:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+ag(s,0):i,Q1(r)?(n="",t!=null&&(n=t.replace(Y1,"$&/")+"/"),kh(r,e,n,"",function(c){return c})):r!=null&&(n0(r)&&(r=zL(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Y1,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Q1(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+ag(o,a);s+=kh(o,e,n,l,r)}else if(l=UL(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+ag(o,a++),s+=kh(o,e,n,l,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ld(t,e,n){if(t==null)return t;var i=[],r=0;return kh(t,i,"","",function(o){return e.call(n,o,r++)}),i}function jL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Eh={transition:null},HL={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:t0};oe.Children={map:Ld,forEach:function(t,e,n){Ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!n0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=pl;oe.Fragment=RL;oe.Profiler=PL;oe.PureComponent=Zb;oe.StrictMode=DL;oe.Suspense=ML;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HL;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=lT({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=t0.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dT.call(e,l)&&!hT.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ju,type:t.type,key:r,ref:o,props:i,_owner:s}};oe.createContext=function(t){return t={$$typeof:OL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NL,_context:t},t.Consumer=t};oe.createElement=fT;oe.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:LL,render:t}};oe.isValidElement=n0;oe.lazy=function(t){return{$$typeof:BL,_payload:{_status:-1,_result:t},_init:jL}};oe.memo=function(t,e){return{$$typeof:FL,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Eh.transition;Eh.transition={};try{t()}finally{Eh.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return un.current.useCallback(t,e)};oe.useContext=function(t){return un.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return un.current.useDeferredValue(t)};oe.useEffect=function(t,e){return un.current.useEffect(t,e)};oe.useId=function(){return un.current.useId()};oe.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return un.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};oe.useRef=function(t){return un.current.useRef(t)};oe.useState=function(t){return un.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return un.current.useTransition()};oe.version="18.2.0";sT.exports=oe;var we=sT.exports;const I=fl(we);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL=we,WL=Symbol.for("react.element"),GL=Symbol.for("react.fragment"),KL=Object.prototype.hasOwnProperty,QL=qL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YL={key:!0,ref:!0,__self:!0,__source:!0};function pT(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)KL.call(e,i)&&!YL.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:WL,type:t,key:o,ref:s,props:r,_owner:QL.current}}bp.Fragment=GL;bp.jsx=pT;bp.jsxs=pT;oT.exports=bp;var i0=oT.exports;const XL=i0.Fragment,H=i0.jsx,mn=i0.jsxs;var mT={exports:{}},On={},gT={exports:{}},vT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,N){var A=O.length;O.push(N);e:for(;0<A;){var V=A-1>>>1,j=O[V];if(0<r(j,N))O[V]=N,O[A]=j,A=V;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var N=O[0],A=O.pop();if(A!==N){O[0]=A;e:for(var V=0,j=O.length,Z=j>>>1;V<Z;){var se=2*(V+1)-1,ie=O[se],Ae=se+1,Pe=O[Ae];if(0>r(ie,A))Ae<j&&0>r(Pe,ie)?(O[V]=Pe,O[Ae]=A,V=Ae):(O[V]=ie,O[se]=A,V=se);else if(Ae<j&&0>r(Pe,A))O[V]=Pe,O[Ae]=A,V=Ae;else break e}}return N}function r(O,N){var A=O.sortIndex-N.sortIndex;return A!==0?A:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var N=n(c);N!==null;){if(N.callback===null)i(c);else if(N.startTime<=O)i(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(c)}}function w(O){if(m=!1,y(O),!p)if(n(l)!==null)p=!0,ge(C);else{var N=n(c);N!==null&&je(w,N.startTime-O)}}function C(O,N){p=!1,m&&(m=!1,v(T),T=-1),f=!0;var A=h;try{for(y(N),d=n(l);d!==null&&(!(d.expirationTime>N)||O&&!M());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var j=V(d.expirationTime<=N);N=t.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&i(l),y(N)}else i(l);d=n(l)}if(d!==null)var Z=!0;else{var se=n(c);se!==null&&je(w,se.startTime-N),Z=!1}return Z}finally{d=null,h=A,f=!1}}var S=!1,E=null,T=-1,X=5,q=-1;function M(){return!(t.unstable_now()-q<X)}function be(){if(E!==null){var O=t.unstable_now();q=O;var N=!0;try{N=E(!0,O)}finally{N?bt():(S=!1,E=null)}}else S=!1}var bt;if(typeof g=="function")bt=function(){g(be)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,$e=Ze.port2;Ze.port1.onmessage=be,bt=function(){$e.postMessage(null)}}else bt=function(){b(be,0)};function ge(O){E=O,S||(S=!0,bt())}function je(O,N){T=b(function(){O(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ge(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var A=h;h=N;try{return O()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var A=h;h=O;try{return N()}finally{h=A}},t.unstable_scheduleCallback=function(O,N,A){var V=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?V+A:V):A=V,O){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=A+j,O={id:u++,callback:N,priorityLevel:O,startTime:A,expirationTime:j,sortIndex:-1},A>V?(O.sortIndex=A,e(c,O),n(l)===null&&O===n(c)&&(m?(v(T),T=-1):m=!0,je(w,A-V))):(O.sortIndex=j,e(l,O),p||f||(p=!0,ge(C))),O},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(O){var N=h;return function(){var A=h;h=N;try{return O.apply(this,arguments)}finally{h=A}}}})(vT);gT.exports=vT;var JL=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=we,Dn=JL;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,Hc={};function Ss(t,e){Ba(t,e),Ba(t+"Capture",e)}function Ba(t,e){for(Hc[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rv=Object.prototype.hasOwnProperty,ZL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X1={},J1={};function eM(t){return Rv.call(J1,t)?!0:Rv.call(X1,t)?!1:ZL.test(t)?J1[t]=!0:(X1[t]=!0,!1)}function tM(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nM(t,e,n,i){if(e===null||typeof e>"u"||tM(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var r0=/[\-:]([a-z])/g;function o0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(r0,o0);jt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(r0,o0);jt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(r0,o0);jt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function s0(t,e,n,i){var r=jt.hasOwnProperty(e)?jt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nM(e,n,r,i)&&(n=null),i||r===null?eM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var xr=yT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Md=Symbol.for("react.element"),oa=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Dv=Symbol.for("react.profiler"),wT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),Pv=Symbol.for("react.suspense"),Nv=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),xT=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,lg;function uc(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var cg=!1;function ug(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function iM(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=ug(t.type,!1),t;case 11:return t=ug(t.type.render,!1),t;case 1:return t=ug(t.type,!0),t;default:return""}}function Ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case oa:return"Portal";case Dv:return"Profiler";case a0:return"StrictMode";case Pv:return"Suspense";case Nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _T:return(t.displayName||"Context")+".Consumer";case wT:return(t._context.displayName||"Context")+".Provider";case l0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c0:return e=t.displayName||null,e!==null?e:Ov(t.type)||"Memo";case Dr:e=t._payload,t=t._init;try{return Ov(t(e))}catch(n){}}return null}function rM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oM(t){var e=kT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fd(t){t._valueTracker||(t._valueTracker=oM(t))}function ET(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=kT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Lv(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=io(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IT(t,e){e=e.checked,e!=null&&s0(t,"checked",e,!1)}function Mv(t,e){IT(t,e);var n=io(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fv(t,e.type,io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fv(t,e,n){(e!=="number"||Gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function _a(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+io(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Bv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(dc(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:io(n)}}function ST(t,e){var n=io(e.value),i=io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ix(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function TT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?TT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bd,CT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sM=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(t){sM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xc[e]=xc[t]})});function $T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xc.hasOwnProperty(t)&&xc[t]?(""+e).trim():e+"px"}function AT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=$T(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var aM=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zv(t,e){if(e){if(aM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Vv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jv=null;function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hv=null,xa=null,ka=null;function rx(t){if(t=Wu(t)){if(typeof Hv!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Ep(e),Hv(t.stateNode,t.type,e))}}function RT(t){xa?ka?ka.push(t):ka=[t]:xa=t}function DT(){if(xa){var t=xa,e=ka;if(ka=xa=null,rx(t),e)for(t=0;t<e.length;t++)rx(e[t])}}function PT(t,e){return t(e)}function NT(){}var dg=!1;function OT(t,e,n){if(dg)return t(e,n);dg=!0;try{return PT(t,e,n)}finally{dg=!1,(xa!==null||ka!==null)&&(NT(),DT())}}function Wc(t,e){var n=t.stateNode;if(n===null)return null;var i=Ep(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var qv=!1;if(hr)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){qv=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch(t){qv=!1}function lM(t,e,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var kc=!1,Kh=null,Qh=!1,Wv=null,cM={onError:function(t){kc=!0,Kh=t}};function uM(t,e,n,i,r,o,s,a,l){kc=!1,Kh=null,lM.apply(cM,arguments)}function dM(t,e,n,i,r,o,s,a,l){if(uM.apply(this,arguments),kc){if(kc){var c=Kh;kc=!1,Kh=null}else throw Error(P(198));Qh||(Qh=!0,Wv=c)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ox(t){if(Ts(t)!==t)throw Error(P(188))}function hM(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return ox(r),t;if(o===i)return ox(r),e;o=o.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function MT(t){return t=hM(t),t!==null?FT(t):null}function FT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FT(t);if(e!==null)return e;t=t.sibling}return null}var BT=Dn.unstable_scheduleCallback,sx=Dn.unstable_cancelCallback,fM=Dn.unstable_shouldYield,pM=Dn.unstable_requestPaint,it=Dn.unstable_now,mM=Dn.unstable_getCurrentPriorityLevel,d0=Dn.unstable_ImmediatePriority,UT=Dn.unstable_UserBlockingPriority,Yh=Dn.unstable_NormalPriority,gM=Dn.unstable_LowPriority,zT=Dn.unstable_IdlePriority,wp=null,Ui=null;function vM(t){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch(e){}}var vi=Math.clz32?Math.clz32:wM,yM=Math.log,bM=Math.LN2;function wM(t){return t>>>=0,t===0?32:31-(yM(t)/bM|0)|0}var Ud=64,zd=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=hc(a):(o&=s,o!==0&&(i=hc(o)))}else s=n&~r,s!==0?i=hc(s):o!==0&&(i=hc(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-vi(e),r=1<<n,i|=t[n],e&=~r;return i}function _M(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-vi(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=_M(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Gv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VT(){var t=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=n}function kM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-vi(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function h0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-vi(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ee=0;function jT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HT,f0,qT,WT,GT,Kv=!1,Vd=[],Gr=null,Kr=null,Qr=null,Gc=new Map,Kc=new Map,Nr=[],EM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ax(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Gc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Hl(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Wu(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IM(t,e,n,i,r){switch(e){case"focusin":return Gr=Hl(Gr,t,e,n,i,r),!0;case"dragenter":return Kr=Hl(Kr,t,e,n,i,r),!0;case"mouseover":return Qr=Hl(Qr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Gc.set(o,Hl(Gc.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Kc.set(o,Hl(Kc.get(o)||null,t,e,n,i,r)),!0}return!1}function KT(t){var e=zo(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=LT(n),e!==null){t.blockedOn=e,GT(t.priority,function(){qT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);jv=i,n.target.dispatchEvent(i),jv=null}else return e=Wu(n),e!==null&&f0(e),t.blockedOn=n,!1;e.shift()}return!0}function lx(t,e,n){Ih(t)&&n.delete(e)}function SM(){Kv=!1,Gr!==null&&Ih(Gr)&&(Gr=null),Kr!==null&&Ih(Kr)&&(Kr=null),Qr!==null&&Ih(Qr)&&(Qr=null),Gc.forEach(lx),Kc.forEach(lx)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Kv||(Kv=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,SM)))}function Qc(t){function e(r){return ql(r,t)}if(0<Vd.length){ql(Vd[0],t);for(var n=1;n<Vd.length;n++){var i=Vd[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gr!==null&&ql(Gr,t),Kr!==null&&ql(Kr,t),Qr!==null&&ql(Qr,t),Gc.forEach(e),Kc.forEach(e),n=0;n<Nr.length;n++)i=Nr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)KT(n),n.blockedOn===null&&Nr.shift()}var Ea=xr.ReactCurrentBatchConfig,Jh=!0;function TM(t,e,n,i){var r=Ee,o=Ea.transition;Ea.transition=null;try{Ee=1,p0(t,e,n,i)}finally{Ee=r,Ea.transition=o}}function CM(t,e,n,i){var r=Ee,o=Ea.transition;Ea.transition=null;try{Ee=4,p0(t,e,n,i)}finally{Ee=r,Ea.transition=o}}function p0(t,e,n,i){if(Jh){var r=Qv(t,e,n,i);if(r===null)xg(t,e,i,Zh,n),ax(t,i);else if(IM(r,t,e,n,i))i.stopPropagation();else if(ax(t,i),e&4&&-1<EM.indexOf(t)){for(;r!==null;){var o=Wu(r);if(o!==null&&HT(o),o=Qv(t,e,n,i),o===null&&xg(t,e,i,Zh,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else xg(t,e,i,null,n)}}var Zh=null;function Qv(t,e,n,i){if(Zh=null,t=u0(i),t=zo(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zh=t,null}function QT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mM()){case d0:return 1;case UT:return 4;case Yh:case gM:return 16;case zT:return 536870912;default:return 16}default:return 16}}var Vr=null,m0=null,Sh=null;function YT(){if(Sh)return Sh;var t,e=m0,n=e.length,i,r="value"in Vr?Vr.value:Vr.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return Sh=r.slice(t,1<i?1-i:void 0)}function Th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jd(){return!0}function cx(){return!1}function Ln(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jd:cx,this.isPropagationStopped=cx,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jd)},persist:function(){},isPersistent:jd}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=Ln(ml),qu=Xe({},ml,{view:0,detail:0}),$M=Ln(qu),fg,pg,Wl,_p=Xe({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(fg=t.screenX-Wl.screenX,pg=t.screenY-Wl.screenY):pg=fg=0,Wl=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),ux=Ln(_p),AM=Xe({},_p,{dataTransfer:0}),RM=Ln(AM),DM=Xe({},qu,{relatedTarget:0}),mg=Ln(DM),PM=Xe({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=Ln(PM),OM=Xe({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LM=Ln(OM),MM=Xe({},ml,{data:0}),dx=Ln(MM),FM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UM[t])?!!e[t]:!1}function v0(){return zM}var VM=Xe({},qu,{key:function(t){if(t.key){var e=FM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v0,charCode:function(t){return t.type==="keypress"?Th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jM=Ln(VM),HM=Xe({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=Ln(HM),qM=Xe({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v0}),WM=Ln(qM),GM=Xe({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),KM=Ln(GM),QM=Xe({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YM=Ln(QM),XM=[9,13,27,32],y0=hr&&"CompositionEvent"in window,Ec=null;hr&&"documentMode"in document&&(Ec=document.documentMode);var JM=hr&&"TextEvent"in window&&!Ec,XT=hr&&(!y0||Ec&&8<Ec&&11>=Ec),fx=String.fromCharCode(32),px=!1;function JT(t,e){switch(t){case"keyup":return XM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var aa=!1;function ZM(t,e){switch(t){case"compositionend":return ZT(e);case"keypress":return e.which!==32?null:(px=!0,fx);case"textInput":return t=e.data,t===fx&&px?null:t;default:return null}}function eF(t,e){if(aa)return t==="compositionend"||!y0&&JT(t,e)?(t=YT(),Sh=m0=Vr=null,aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XT&&e.locale!=="ko"?null:e.data;default:return null}}var tF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tF[t.type]:e==="textarea"}function eC(t,e,n,i){RT(i),e=ef(e,"onChange"),0<e.length&&(n=new g0("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ic=null,Yc=null;function nF(t){dC(t,0)}function xp(t){var e=ua(t);if(ET(e))return t}function iF(t,e){if(t==="change")return e}var tC=!1;if(hr){var gg;if(hr){var vg="oninput"in document;if(!vg){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),vg=typeof gx.oninput=="function"}gg=vg}else gg=!1;tC=gg&&(!document.documentMode||9<document.documentMode)}function vx(){Ic&&(Ic.detachEvent("onpropertychange",nC),Yc=Ic=null)}function nC(t){if(t.propertyName==="value"&&xp(Yc)){var e=[];eC(e,Yc,t,u0(t)),OT(nF,e)}}function rF(t,e,n){t==="focusin"?(vx(),Ic=e,Yc=n,Ic.attachEvent("onpropertychange",nC)):t==="focusout"&&vx()}function oF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(Yc)}function sF(t,e){if(t==="click")return xp(e)}function aF(t,e){if(t==="input"||t==="change")return xp(e)}function lF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:lF;function Xc(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Rv.call(e,r)||!xi(t[r],e[r]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bx(t,e){var n=yx(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yx(n)}}function iC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rC(){for(var t=window,e=Gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Gh(t.document)}return e}function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cF(t){var e=rC(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iC(n.ownerDocument.documentElement,n)){if(i!==null&&b0(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=bx(n,o);var s=bx(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uF=hr&&"documentMode"in document&&11>=document.documentMode,la=null,Yv=null,Sc=null,Xv=!1;function wx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xv||la==null||la!==Gh(i)||(i=la,"selectionStart"in i&&b0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sc&&Xc(Sc,i)||(Sc=i,i=ef(Yv,"onSelect"),0<i.length&&(e=new g0("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=la)))}function Hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},yg={},oC={};hr&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function kp(t){if(yg[t])return yg[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oC)return yg[t]=e[n];return t}var sC=kp("animationend"),aC=kp("animationiteration"),lC=kp("animationstart"),cC=kp("transitionend"),uC=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(t,e){uC.set(t,e),Ss(e,[t])}for(var bg=0;bg<_x.length;bg++){var wg=_x[bg],dF=wg.toLowerCase(),hF=wg[0].toUpperCase()+wg.slice(1);bo(dF,"on"+hF)}bo(sC,"onAnimationEnd");bo(aC,"onAnimationIteration");bo(lC,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(cC,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fF=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function xx(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,dM(i,e,void 0,t),t.currentTarget=null}function dC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;xx(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;xx(r,a,c),o=l}}}if(Qh)throw t=Wv,Qh=!1,Wv=null,t}function Ne(t,e){var n=e[ny];n===void 0&&(n=e[ny]=new Set);var i=t+"__bubble";n.has(i)||(hC(e,t,2,!1),n.add(i))}function _g(t,e,n){var i=0;e&&(i|=4),hC(n,t,i,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[qd]){t[qd]=!0,bT.forEach(function(n){n!=="selectionchange"&&(fF.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,_g("selectionchange",!1,e))}}function hC(t,e,n,i){switch(QT(e)){case 1:var r=TM;break;case 4:r=CM;break;default:r=p0}n=r.bind(null,e,n,t),r=void 0,!qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function xg(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=zo(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}OT(function(){var c=o,u=u0(n),d=[];e:{var h=uC.get(t);if(h!==void 0){var f=g0,p=t;switch(t){case"keypress":if(Th(n)===0)break e;case"keydown":case"keyup":f=jM;break;case"focusin":p="focus",f=mg;break;case"focusout":p="blur",f=mg;break;case"beforeblur":case"afterblur":f=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=RM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=WM;break;case sC:case aC:case lC:f=NM;break;case cC:f=KM;break;case"scroll":f=$M;break;case"wheel":f=YM;break;case"copy":case"cut":case"paste":f=LM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hx}var m=(e&4)!==0,b=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var g=c,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,v!==null&&(w=Wc(g,v),w!=null&&m.push(Zc(g,w,y)))),b)break;g=g.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==jv&&(p=n.relatedTarget||n.fromElement)&&(zo(p)||p[fr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?zo(p):null,p!==null&&(b=Ts(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=ux,w="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=hx,w="onPointerLeave",v="onPointerEnter",g="pointer"),b=f==null?h:ua(f),y=p==null?h:ua(p),h=new m(w,g+"leave",f,n,u),h.target=b,h.relatedTarget=y,w=null,zo(u)===c&&(m=new m(v,g+"enter",p,n,u),m.target=y,m.relatedTarget=b,w=m),b=w,f&&p)t:{for(m=f,v=p,g=0,y=m;y;y=js(y))g++;for(y=0,w=v;w;w=js(w))y++;for(;0<g-y;)m=js(m),g--;for(;0<y-g;)v=js(v),y--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=js(m),v=js(v)}m=null}else m=null;f!==null&&kx(d,h,f,m,!1),p!==null&&b!==null&&kx(d,b,p,m,!0)}}e:{if(h=c?ua(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=iF;else if(mx(h))if(tC)C=aF;else{C=oF;var S=rF}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=sF);if(C&&(C=C(t,c))){eC(d,C,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Fv(h,"number",h.value)}switch(S=c?ua(c):window,t){case"focusin":(mx(S)||S.contentEditable==="true")&&(la=S,Yv=c,Sc=null);break;case"focusout":Sc=Yv=la=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,wx(d,n,u);break;case"selectionchange":if(uF)break;case"keydown":case"keyup":wx(d,n,u)}var E;if(y0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else aa?JT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(XT&&n.locale!=="ko"&&(aa||T!=="onCompositionStart"?T==="onCompositionEnd"&&aa&&(E=YT()):(Vr=u,m0="value"in Vr?Vr.value:Vr.textContent,aa=!0)),S=ef(c,T),0<S.length&&(T=new dx(T,t,null,n,u),d.push({event:T,listeners:S}),E?T.data=E:(E=ZT(n),E!==null&&(T.data=E)))),(E=JM?ZM(t,n):eF(t,n))&&(c=ef(c,"onBeforeInput"),0<c.length&&(u=new dx("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}dC(d,e)})}function Zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ef(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Wc(t,n),o!=null&&i.unshift(Zc(t,o,r)),o=Wc(t,e),o!=null&&i.push(Zc(t,o,r))),t=t.return}return i}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kx(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Wc(n,o),l!=null&&s.unshift(Zc(n,l,a))):r||(l=Wc(n,o),l!=null&&s.push(Zc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pF=/\r\n?/g,mF=/\u0000|\uFFFD/g;function Ex(t){return(typeof t=="string"?t:""+t).replace(pF,`
`).replace(mF,"")}function Wd(t,e,n){if(e=Ex(e),Ex(t)!==e&&n)throw Error(P(425))}function tf(){}var Jv=null,Zv=null;function ey(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ty=typeof setTimeout=="function"?setTimeout:void 0,gF=typeof clearTimeout=="function"?clearTimeout:void 0,Ix=typeof Promise=="function"?Promise:void 0,vF=typeof queueMicrotask=="function"?queueMicrotask:typeof Ix<"u"?function(t){return Ix.resolve(null).then(t).catch(yF)}:ty;function yF(t){setTimeout(function(){throw t})}function kg(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Qc(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Qc(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Pi="__reactFiber$"+gl,eu="__reactProps$"+gl,fr="__reactContainer$"+gl,ny="__reactEvents$"+gl,bF="__reactListeners$"+gl,wF="__reactHandles$"+gl;function zo(t){var e=t[Pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[Pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sx(t);t!==null;){if(n=t[Pi])return n;t=Sx(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[Pi]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Ep(t){return t[eu]||null}var iy=[],da=-1;function wo(t){return{current:t}}function Be(t){0>da||(t.current=iy[da],iy[da]=null,da--)}function Re(t,e){da++,iy[da]=t.current,t.current=e}var ro={},tn=wo(ro),_n=wo(!1),is=ro;function Ua(t,e){var n=t.type.contextTypes;if(!n)return ro;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function xn(t){return t=t.childContextTypes,t!=null}function nf(){Be(_n),Be(tn)}function Tx(t,e,n){if(tn.current!==ro)throw Error(P(168));Re(tn,e),Re(_n,n)}function fC(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(P(108,rM(t)||"Unknown",r));return Xe({},n,i)}function rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ro,is=tn.current,Re(tn,t),Re(_n,_n.current),!0}function Cx(t,e,n){var i=t.stateNode;if(!i)throw Error(P(169));n?(t=fC(t,e,is),i.__reactInternalMemoizedMergedChildContext=t,Be(_n),Be(tn),Re(tn,t)):Be(_n),Re(_n,n)}var er=null,Ip=!1,Eg=!1;function pC(t){er===null?er=[t]:er.push(t)}function _F(t){Ip=!0,pC(t)}function _o(){if(!Eg&&er!==null){Eg=!0;var t=0,e=Ee;try{var n=er;for(Ee=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}er=null,Ip=!1}catch(r){throw er!==null&&(er=er.slice(t+1)),BT(d0,_o),r}finally{Ee=e,Eg=!1}}return null}var ha=[],fa=0,of=null,sf=0,jn=[],Hn=0,rs=null,nr=1,ir="";function Ro(t,e){ha[fa++]=sf,ha[fa++]=of,of=t,sf=e}function mC(t,e,n){jn[Hn++]=nr,jn[Hn++]=ir,jn[Hn++]=rs,rs=t;var i=nr;t=ir;var r=32-vi(i)-1;i&=~(1<<r),n+=1;var o=32-vi(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,nr=1<<32-vi(e)+r|n<<r|i,ir=o+t}else nr=1<<o|n<<r|i,ir=t}function w0(t){t.return!==null&&(Ro(t,1),mC(t,1,0))}function _0(t){for(;t===of;)of=ha[--fa],ha[fa]=null,sf=ha[--fa],ha[fa]=null;for(;t===rs;)rs=jn[--Hn],jn[Hn]=null,ir=jn[--Hn],jn[Hn]=null,nr=jn[--Hn],jn[Hn]=null}var $n=null,Cn=null,We=!1,ui=null;function gC(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $x(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Cn=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:nr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Cn=null,!0):!1;default:return!1}}function ry(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oy(t){if(We){var e=Cn;if(e){var n=e;if(!$x(t,e)){if(ry(t))throw Error(P(418));e=Yr(n.nextSibling);var i=$n;e&&$x(t,e)?gC(i,n):(t.flags=t.flags&-4097|2,We=!1,$n=t)}}else{if(ry(t))throw Error(P(418));t.flags=t.flags&-4097|2,We=!1,$n=t}}}function Ax(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Gd(t){if(t!==$n)return!1;if(!We)return Ax(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ey(t.type,t.memoizedProps)),e&&(e=Cn)){if(ry(t))throw vC(),Error(P(418));for(;e;)gC(t,e),e=Yr(e.nextSibling)}if(Ax(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=$n?Yr(t.stateNode.nextSibling):null;return!0}function vC(){for(var t=Cn;t;)t=Yr(t.nextSibling)}function za(){Cn=$n=null,We=!1}function x0(t){ui===null?ui=[t]:ui.push(t)}var xF=xr.ReactCurrentBatchConfig;function li(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var af=wo(null),lf=null,pa=null,k0=null;function E0(){k0=pa=lf=null}function I0(t){var e=af.current;Be(af),t._currentValue=e}function sy(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ia(t,e){lf=t,k0=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(k0!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(lf===null)throw Error(P(308));pa=t,lf.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var Vo=null;function S0(t){Vo===null?Vo=[t]:Vo.push(t)}function yC(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,S0(e)):(n.next=r.next,r.next=n),e.interleaved=n,pr(t,i)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function T0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,pr(t,n)}return r=i.interleaved,r===null?(e.next=e,S0(i)):(e.next=r.next,r.next=e),i.interleaved=e,pr(t,n)}function Ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h0(t,n)}}function Rx(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cf(t,e,n,i){var r=t.updateQueue;Pr=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=r.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Xe({},d,h);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);ss|=s,t.lanes=s,t.memoizedState=d}}function Dx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(P(191,r));r.call(i)}}}var wC=new yT.Component().refs;function ay(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sp={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ln(),r=Zr(t),o=cr(i,r);o.payload=e,n!=null&&(o.callback=n),e=Xr(t,o,r),e!==null&&(yi(e,t,r,i),Ch(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ln(),r=Zr(t),o=cr(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Xr(t,o,r),e!==null&&(yi(e,t,r,i),Ch(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),i=Zr(t),r=cr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Xr(t,r,i),e!==null&&(yi(e,t,i,n),Ch(e,t,i))}};function Px(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Xc(n,i)||!Xc(r,o):!0}function _C(t,e,n){var i=!1,r=ro,o=e.contextType;return typeof o=="object"&&o!==null?o=Zn(o):(r=xn(e)?is:tn.current,i=e.contextTypes,o=(i=i!=null)?Ua(t,r):ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sp,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Nx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Sp.enqueueReplaceState(e,e.state,null)}function ly(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=wC,T0(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Zn(o):(o=xn(e)?is:tn.current,r.context=Ua(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ay(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Sp.enqueueReplaceState(r,r.state,null),cf(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===wC&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ox(t){var e=t._init;return e(t._payload)}function xC(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function i(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=eo(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,w){return g===null||g.tag!==6?(g=Rg(y,v.mode,w),g.return=v,g):(g=r(g,y),g.return=v,g)}function l(v,g,y,w){var C=y.type;return C===sa?u(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dr&&Ox(C)===g.type)?(w=r(g,y.props),w.ref=Gl(v,g,y),w.return=v,w):(w=Nh(y.type,y.key,y.props,null,v.mode,w),w.ref=Gl(v,g,y),w.return=v,w)}function c(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Dg(y,v.mode,w),g.return=v,g):(g=r(g,y.children||[]),g.return=v,g)}function u(v,g,y,w,C){return g===null||g.tag!==7?(g=Jo(y,v.mode,w,C),g.return=v,g):(g=r(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Rg(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Md:return y=Nh(g.type,g.key,g.props,null,v.mode,y),y.ref=Gl(v,null,g),y.return=v,y;case oa:return g=Dg(g,v.mode,y),g.return=v,g;case Dr:var w=g._init;return d(v,w(g._payload),y)}if(dc(g)||Vl(g))return g=Jo(g,v.mode,y,null),g.return=v,g;Kd(v,g)}return null}function h(v,g,y,w){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Md:return y.key===C?l(v,g,y,w):null;case oa:return y.key===C?c(v,g,y,w):null;case Dr:return C=y._init,h(v,g,C(y._payload),w)}if(dc(y)||Vl(y))return C!==null?null:u(v,g,y,w,null);Kd(v,y)}return null}function f(v,g,y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(y)||null,a(g,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Md:return v=v.get(w.key===null?y:w.key)||null,l(g,v,w,C);case oa:return v=v.get(w.key===null?y:w.key)||null,c(g,v,w,C);case Dr:var S=w._init;return f(v,g,y,S(w._payload),C)}if(dc(w)||Vl(w))return v=v.get(y)||null,u(g,v,w,C,null);Kd(g,w)}return null}function p(v,g,y,w){for(var C=null,S=null,E=g,T=g=0,X=null;E!==null&&T<y.length;T++){E.index>T?(X=E,E=null):X=E.sibling;var q=h(v,E,y[T],w);if(q===null){E===null&&(E=X);break}t&&E&&q.alternate===null&&e(v,E),g=o(q,g,T),S===null?C=q:S.sibling=q,S=q,E=X}if(T===y.length)return n(v,E),We&&Ro(v,T),C;if(E===null){for(;T<y.length;T++)E=d(v,y[T],w),E!==null&&(g=o(E,g,T),S===null?C=E:S.sibling=E,S=E);return We&&Ro(v,T),C}for(E=i(v,E);T<y.length;T++)X=f(E,v,T,y[T],w),X!==null&&(t&&X.alternate!==null&&E.delete(X.key===null?T:X.key),g=o(X,g,T),S===null?C=X:S.sibling=X,S=X);return t&&E.forEach(function(M){return e(v,M)}),We&&Ro(v,T),C}function m(v,g,y,w){var C=Vl(y);if(typeof C!="function")throw Error(P(150));if(y=C.call(y),y==null)throw Error(P(151));for(var S=C=null,E=g,T=g=0,X=null,q=y.next();E!==null&&!q.done;T++,q=y.next()){E.index>T?(X=E,E=null):X=E.sibling;var M=h(v,E,q.value,w);if(M===null){E===null&&(E=X);break}t&&E&&M.alternate===null&&e(v,E),g=o(M,g,T),S===null?C=M:S.sibling=M,S=M,E=X}if(q.done)return n(v,E),We&&Ro(v,T),C;if(E===null){for(;!q.done;T++,q=y.next())q=d(v,q.value,w),q!==null&&(g=o(q,g,T),S===null?C=q:S.sibling=q,S=q);return We&&Ro(v,T),C}for(E=i(v,E);!q.done;T++,q=y.next())q=f(E,v,T,q.value,w),q!==null&&(t&&q.alternate!==null&&E.delete(q.key===null?T:q.key),g=o(q,g,T),S===null?C=q:S.sibling=q,S=q);return t&&E.forEach(function(be){return e(v,be)}),We&&Ro(v,T),C}function b(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===sa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Md:e:{for(var C=y.key,S=g;S!==null;){if(S.key===C){if(C=y.type,C===sa){if(S.tag===7){n(v,S.sibling),g=r(S,y.props.children),g.return=v,v=g;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Dr&&Ox(C)===S.type){n(v,S.sibling),g=r(S,y.props),g.ref=Gl(v,S,y),g.return=v,v=g;break e}n(v,S);break}else e(v,S);S=S.sibling}y.type===sa?(g=Jo(y.props.children,v.mode,w,y.key),g.return=v,v=g):(w=Nh(y.type,y.key,y.props,null,v.mode,w),w.ref=Gl(v,g,y),w.return=v,v=w)}return s(v);case oa:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=r(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Dg(y,v.mode,w),g.return=v,v=g}return s(v);case Dr:return S=y._init,b(v,g,S(y._payload),w)}if(dc(y))return p(v,g,y,w);if(Vl(y))return m(v,g,y,w);Kd(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=r(g,y),g.return=v,v=g):(n(v,g),g=Rg(y,v.mode,w),g.return=v,v=g),s(v)):n(v,g)}return b}var Va=xC(!0),kC=xC(!1),Gu={},zi=wo(Gu),tu=wo(Gu),nu=wo(Gu);function jo(t){if(t===Gu)throw Error(P(174));return t}function C0(t,e){switch(Re(nu,e),Re(tu,t),Re(zi,Gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uv(e,t)}Be(zi),Re(zi,e)}function ja(){Be(zi),Be(tu),Be(nu)}function EC(t){jo(nu.current);var e=jo(zi.current),n=Uv(e,t.type);e!==n&&(Re(tu,t),Re(zi,n))}function $0(t){tu.current===t&&(Be(zi),Be(tu))}var Qe=wo(0);function uf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ig=[];function A0(){for(var t=0;t<Ig.length;t++)Ig[t]._workInProgressVersionPrimary=null;Ig.length=0}var $h=xr.ReactCurrentDispatcher,Sg=xr.ReactCurrentBatchConfig,os=0,Ye=null,ft=null,xt=null,df=!1,Tc=!1,iu=0,kF=0;function Wt(){throw Error(P(321))}function R0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xi(t[n],e[n]))return!1;return!0}function D0(t,e,n,i,r,o){if(os=o,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$h.current=t===null||t.memoizedState===null?TF:CF,t=n(i,r),Tc){o=0;do{if(Tc=!1,iu=0,25<=o)throw Error(P(301));o+=1,xt=ft=null,e.updateQueue=null,$h.current=$F,t=n(i,r)}while(Tc)}if($h.current=hf,e=ft!==null&&ft.next!==null,os=0,xt=ft=Ye=null,df=!1,e)throw Error(P(300));return t}function P0(){var t=iu!==0;return iu=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ye.memoizedState=xt=t:xt=xt.next=t,xt}function ei(){if(ft===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=xt===null?Ye.memoizedState:xt.next;if(e!==null)xt=e,ft=t;else{if(t===null)throw Error(P(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},xt===null?Ye.memoizedState=xt=t:xt=xt.next=t}return xt}function ru(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=ei(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=ft,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((os&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=i):l=l.next=d,Ye.lanes|=u,ss|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,xi(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Ye.lanes|=o,ss|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cg(t){var e=ei(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);xi(o,e.memoizedState)||(gn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function IC(){}function SC(t,e){var n=Ye,i=ei(),r=e(),o=!xi(i.memoizedState,r);if(o&&(i.memoizedState=r,gn=!0),i=i.queue,N0($C.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,ou(9,CC.bind(null,n,i,r,e),void 0,null),St===null)throw Error(P(349));os&30||TC(n,e,r)}return r}function TC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CC(t,e,n,i){e.value=n,e.getSnapshot=i,AC(e)&&RC(t)}function $C(t,e,n){return n(function(){AC(e)&&RC(t)})}function AC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xi(t,n)}catch(i){return!0}}function RC(t){var e=pr(t,1);e!==null&&yi(e,t,1,-1)}function Lx(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=SF.bind(null,Ye,t),[e.memoizedState,t]}function ou(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function DC(){return ei().memoizedState}function Ah(t,e,n,i){var r=Di();Ye.flags|=t,r.memoizedState=ou(1|e,n,void 0,i===void 0?null:i)}function Tp(t,e,n,i){var r=ei();i=i===void 0?null:i;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,i!==null&&R0(i,s.deps)){r.memoizedState=ou(e,n,o,i);return}}Ye.flags|=t,r.memoizedState=ou(1|e,n,o,i)}function Mx(t,e){return Ah(8390656,8,t,e)}function N0(t,e){return Tp(2048,8,t,e)}function PC(t,e){return Tp(4,2,t,e)}function NC(t,e){return Tp(4,4,t,e)}function OC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LC(t,e,n){return n=n!=null?n.concat([t]):null,Tp(4,4,OC.bind(null,e,t),n)}function O0(){}function MC(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&R0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function FC(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&R0(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function BC(t,e,n){return os&21?(xi(n,e)||(n=VT(),Ye.lanes|=n,ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function EF(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var i=Sg.transition;Sg.transition={};try{t(!1),e()}finally{Ee=n,Sg.transition=i}}function UC(){return ei().memoizedState}function IF(t,e,n){var i=Zr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},zC(t))VC(e,n);else if(n=yC(t,e,n,i),n!==null){var r=ln();yi(n,t,i,r),jC(n,e,i)}}function SF(t,e,n){var i=Zr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(zC(t))VC(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,xi(a,s)){var l=e.interleaved;l===null?(r.next=r,S0(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}n=yC(t,e,r,i),n!==null&&(r=ln(),yi(n,t,i,r),jC(n,e,i))}}function zC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function VC(t,e){Tc=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jC(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,h0(t,n)}}var hf={readContext:Zn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},TF={readContext:Zn,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:Mx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ah(4194308,4,OC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ah(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ah(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Di();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=IF.bind(null,Ye,t),[i.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:Lx,useDebugValue:O0,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=Lx(!1),e=t[0];return t=EF.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ye,r=Di();if(We){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),St===null)throw Error(P(349));os&30||TC(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Mx($C.bind(null,i,o,t),[t]),i.flags|=2048,ou(9,CC.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Di(),e=St.identifierPrefix;if(We){var n=ir,i=nr;n=(i&~(1<<32-vi(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CF={readContext:Zn,useCallback:MC,useContext:Zn,useEffect:N0,useImperativeHandle:LC,useInsertionEffect:PC,useLayoutEffect:NC,useMemo:FC,useReducer:Tg,useRef:DC,useState:function(){return Tg(ru)},useDebugValue:O0,useDeferredValue:function(t){var e=ei();return BC(e,ft.memoizedState,t)},useTransition:function(){var t=Tg(ru)[0],e=ei().memoizedState;return[t,e]},useMutableSource:IC,useSyncExternalStore:SC,useId:UC,unstable_isNewReconciler:!1},$F={readContext:Zn,useCallback:MC,useContext:Zn,useEffect:N0,useImperativeHandle:LC,useInsertionEffect:PC,useLayoutEffect:NC,useMemo:FC,useReducer:Cg,useRef:DC,useState:function(){return Cg(ru)},useDebugValue:O0,useDeferredValue:function(t){var e=ei();return ft===null?e.memoizedState=t:BC(e,ft.memoizedState,t)},useTransition:function(){var t=Cg(ru)[0],e=ei().memoizedState;return[t,e]},useMutableSource:IC,useSyncExternalStore:SC,useId:UC,unstable_isNewReconciler:!1};function Ha(t,e){try{var n="",i=e;do n+=iM(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function $g(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function cy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AF=typeof WeakMap=="function"?WeakMap:Map;function HC(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){pf||(pf=!0,by=i),cy(t,e)},n}function qC(t,e,n){n=cr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){cy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){cy(t,e),typeof i!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Fx(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new AF;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=HF.bind(null,t,e,n),e.then(t,t))}function Bx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var RF=xr.ReactCurrentOwner,gn=!1;function rn(t,e,n,i){e.child=t===null?kC(e,null,n,i):Va(e,t.child,n,i)}function zx(t,e,n,i,r){n=n.render;var o=e.ref;return Ia(e,r),i=D0(t,e,n,i,o,r),n=P0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mr(t,e,r)):(We&&n&&w0(e),e.flags|=1,rn(t,e,i,r),e.child)}function Vx(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!j0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,WC(t,e,o,i,r)):(t=Nh(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(s,i)&&t.ref===e.ref)return mr(t,e,r)}return e.flags|=1,t=eo(o,i),t.ref=e.ref,t.return=e,e.child=t}function WC(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Xc(o,i)&&t.ref===e.ref)if(gn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,mr(t,e,r)}return uy(t,e,n,i,r)}function GC(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(ga,In),In|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(ga,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Re(ga,In),In|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Re(ga,In),In|=i;return rn(t,e,r,n),e.child}function KC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uy(t,e,n,i,r){var o=xn(n)?is:tn.current;return o=Ua(e,o),Ia(e,r),n=D0(t,e,n,i,o,r),i=P0(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mr(t,e,r)):(We&&i&&w0(e),e.flags|=1,rn(t,e,n,r),e.child)}function jx(t,e,n,i,r){if(xn(n)){var o=!0;rf(e)}else o=!1;if(Ia(e,r),e.stateNode===null)Rh(t,e),_C(e,n,i),ly(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=xn(n)?is:tn.current,c=Ua(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Nx(e,s,i,c),Pr=!1;var h=e.memoizedState;s.state=h,cf(e,i,s,r),l=e.memoizedState,a!==i||h!==l||_n.current||Pr?(typeof u=="function"&&(ay(e,n,u,i),l=e.memoizedState),(a=Pr||Px(e,n,a,i,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,bC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:li(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zn(l):(l=xn(n)?is:tn.current,l=Ua(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Nx(e,s,i,l),Pr=!1,h=e.memoizedState,s.state=h,cf(e,i,s,r);var p=e.memoizedState;a!==d||h!==p||_n.current||Pr?(typeof f=="function"&&(ay(e,n,f,i),p=e.memoizedState),(c=Pr||Px(e,n,c,i,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return dy(t,e,n,i,o,r)}function dy(t,e,n,i,r,o){KC(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&Cx(e,n,!1),mr(t,e,o);i=e.stateNode,RF.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Va(e,t.child,null,o),e.child=Va(e,null,a,o)):rn(t,e,a,o),e.memoizedState=i.state,r&&Cx(e,n,!0),e.child}function QC(t){var e=t.stateNode;e.pendingContext?Tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(t,e.context,!1),C0(t,e.containerInfo)}function Hx(t,e,n,i,r){return za(),x0(r),e.flags|=256,rn(t,e,n,i),e.child}var hy={dehydrated:null,treeContext:null,retryLane:0};function fy(t){return{baseLanes:t,cachePool:null,transitions:null}}function YC(t,e,n){var i=e.pendingProps,r=Qe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Re(Qe,r&1),t===null)return oy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ap(s,i,0,null),t=Jo(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=fy(n),e.memoizedState=hy,t):L0(e,s));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return DF(t,e,s,i,a,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=eo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=eo(a,o):(o=Jo(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?fy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=hy,i}return o=t.child,t=o.sibling,i=eo(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function L0(t,e){return e=Ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qd(t,e,n,i){return i!==null&&x0(i),Va(e,t.child,null,n),t=L0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DF(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=$g(Error(P(422))),Qd(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Ap({mode:"visible",children:i.children},r,0,null),o=Jo(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Va(e,t.child,null,s),e.child.memoizedState=fy(s),e.memoizedState=hy,o);if(!(e.mode&1))return Qd(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(P(419)),i=$g(o,i,void 0),Qd(t,e,s,i)}if(a=(s&t.childLanes)!==0,gn||a){if(i=St,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,pr(t,r),yi(i,t,r,-1))}return V0(),i=$g(Error(P(421))),Qd(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=qF.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Cn=Yr(r.nextSibling),$n=e,We=!0,ui=null,t!==null&&(jn[Hn++]=nr,jn[Hn++]=ir,jn[Hn++]=rs,nr=t.id,ir=t.overflow,rs=e),e=L0(e,i.children),e.flags|=4096,e)}function qx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),sy(t.return,e,n)}function Ag(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function XC(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(rn(t,e,i.children,n),i=Qe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qx(t,n,e);else if(t.tag===19)qx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Re(Qe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&uf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ag(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&uf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ag(e,!0,n,null,o);break;case"together":Ag(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PF(t,e,n){switch(e.tag){case 3:QC(e),za();break;case 5:EC(e);break;case 1:xn(e.type)&&rf(e);break;case 4:C0(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Re(af,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Re(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?YC(t,e,n):(Re(Qe,Qe.current&1),t=mr(t,e,n),t!==null?t.sibling:null);Re(Qe,Qe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return XC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Re(Qe,Qe.current),i)break;return null;case 22:case 23:return e.lanes=0,GC(t,e,n)}return mr(t,e,n)}var JC,py,ZC,e$;JC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};py=function(){};ZC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,jo(zi.current);var o=null;switch(n){case"input":r=Lv(t,r),i=Lv(t,i),o=[];break;case"select":r=Xe({},r,{value:void 0}),i=Xe({},i,{value:void 0}),o=[];break;case"textarea":r=Bv(t,r),i=Bv(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=tf)}zv(n,i);var s;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};e$=function(t,e,n,i){n!==i&&(e.flags|=4)};function Kl(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function NF(t,e,n){var i=e.pendingProps;switch(_0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return xn(e.type)&&nf(),Gt(e),null;case 3:return i=e.stateNode,ja(),Be(_n),Be(tn),A0(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(xy(ui),ui=null))),py(t,e),Gt(e),null;case 5:$0(e);var r=jo(nu.current);if(n=e.type,t!==null&&e.stateNode!=null)ZC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Gt(e),null}if(t=jo(zi.current),Gd(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Pi]=e,i[eu]=o,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(r=0;r<fc.length;r++)Ne(fc[r],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":ex(i,o),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",i);break;case"textarea":nx(i,o),Ne("invalid",i)}zv(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wd(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wd(i.textContent,a,t),r=["children",""+a]):Hc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ne("scroll",i)}switch(n){case"input":Fd(i),tx(i,o,!0);break;case"textarea":Fd(i),ix(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=tf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=TT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[Pi]=e,t[eu]=i,JC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vv(n,i),n){case"dialog":Ne("cancel",t),Ne("close",t),r=i;break;case"iframe":case"object":case"embed":Ne("load",t),r=i;break;case"video":case"audio":for(r=0;r<fc.length;r++)Ne(fc[r],t);r=i;break;case"source":Ne("error",t),r=i;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),r=i;break;case"details":Ne("toggle",t),r=i;break;case"input":ex(t,i),r=Lv(t,i),Ne("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Xe({},i,{value:void 0}),Ne("invalid",t);break;case"textarea":nx(t,i),r=Bv(t,i),Ne("invalid",t);break;default:r=i}zv(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?AT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qc(t,l):typeof l=="number"&&qc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",t):l!=null&&s0(t,o,l,s))}switch(n){case"input":Fd(t),tx(t,i,!1);break;case"textarea":Fd(t),ix(t);break;case"option":i.value!=null&&t.setAttribute("value",""+io(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?_a(t,!!i.multiple,o,!1):i.defaultValue!=null&&_a(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=tf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)e$(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(n=jo(nu.current),jo(zi.current),Gd(e)){if(i=e.stateNode,n=e.memoizedProps,i[Pi]=e,(o=i.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:Wd(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wd(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pi]=e,e.stateNode=i}return Gt(e),null;case 13:if(Be(Qe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&Cn!==null&&e.mode&1&&!(e.flags&128))vC(),za(),e.flags|=98560,o=!1;else if(o=Gd(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(P(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[Pi]=e}else za(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),o=!1}else ui!==null&&(xy(ui),ui=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?pt===0&&(pt=3):V0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return ja(),py(t,e),t===null&&Jc(e.stateNode.containerInfo),Gt(e),null;case 10:return I0(e.type._context),Gt(e),null;case 17:return xn(e.type)&&nf(),Gt(e),null;case 19:if(Be(Qe),o=e.memoizedState,o===null)return Gt(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Kl(o,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uf(t),s!==null){for(e.flags|=128,Kl(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&it()>qa&&(e.flags|=128,i=!0,Kl(o,!1),e.lanes=4194304)}else{if(!i)if(t=uf(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!We)return Gt(e),null}else 2*it()-o.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,i=!0,Kl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=it(),e.sibling=null,n=Qe.current,Re(Qe,i?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return z0(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?In&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function OF(t,e){switch(_0(e),e.tag){case 1:return xn(e.type)&&nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),Be(_n),Be(tn),A0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $0(e),null;case 13:if(Be(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));za()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Qe),null;case 4:return ja(),null;case 10:return I0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var Yd=!1,Qt=!1,LF=typeof WeakSet=="function"?WeakSet:Set,G=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){et(t,e,i)}else n.current=null}function my(t,e,n){try{n()}catch(i){et(t,e,i)}}var Wx=!1;function MF(t,e){if(Jv=Jh,t=rC(),b0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=s+r),d!==o||i!==0&&d.nodeType!==3||(l=s+i),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=s),h===o&&++u===i&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zv={focusedElem:t,selectionRange:n},Jh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,b=p.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:li(e.type,m),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){et(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return p=Wx,Wx=!1,p}function Cc(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&my(e,n,o)}r=r.next}while(r!==i)}}function Cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function gy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t$(t){var e=t.alternate;e!==null&&(t.alternate=null,t$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[eu],delete e[ny],delete e[bF],delete e[wF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n$(t){return t.tag===5||t.tag===3||t.tag===4}function Gx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tf));else if(i!==4&&(t=t.child,t!==null))for(vy(t,e,n),t=t.sibling;t!==null;)vy(t,e,n),t=t.sibling}function yy(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(yy(t,e,n),t=t.sibling;t!==null;)yy(t,e,n),t=t.sibling}var Ot=null,ci=!1;function Tr(t,e,n){for(n=n.child;n!==null;)i$(t,e,n),n=n.sibling}function i$(t,e,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(wp,n)}catch(a){}switch(n.tag){case 5:Qt||ma(n,e);case 6:var i=Ot,r=ci;Ot=null,Tr(t,e,n),Ot=i,ci=r,Ot!==null&&(ci?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ci?(t=Ot,n=n.stateNode,t.nodeType===8?kg(t.parentNode,n):t.nodeType===1&&kg(t,n),Qc(t)):kg(Ot,n.stateNode));break;case 4:i=Ot,r=ci,Ot=n.stateNode.containerInfo,ci=!0,Tr(t,e,n),Ot=i,ci=r;break;case 0:case 11:case 14:case 15:if(!Qt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&my(n,e,s),r=r.next}while(r!==i)}Tr(t,e,n);break;case 1:if(!Qt&&(ma(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){et(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(Qt=(i=Qt)||n.memoizedState!==null,Tr(t,e,n),Qt=i):Tr(t,e,n);break;default:Tr(t,e,n)}}function Kx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LF),e.forEach(function(i){var r=WF.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,ci=!1;break e;case 3:Ot=a.stateNode.containerInfo,ci=!0;break e;case 4:Ot=a.stateNode.containerInfo,ci=!0;break e}a=a.return}if(Ot===null)throw Error(P(160));i$(o,s,r),Ot=null,ci=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){et(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r$(e,t),e=e.sibling}function r$(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Ri(t),i&4){try{Cc(3,t,t.return),Cp(3,t)}catch(m){et(t,t.return,m)}try{Cc(5,t,t.return)}catch(m){et(t,t.return,m)}}break;case 1:si(e,t),Ri(t),i&512&&n!==null&&ma(n,n.return);break;case 5:if(si(e,t),Ri(t),i&512&&n!==null&&ma(n,n.return),t.flags&32){var r=t.stateNode;try{qc(r,"")}catch(m){et(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&IT(r,o),Vv(a,s);var c=Vv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?AT(r,d):u==="dangerouslySetInnerHTML"?CT(r,d):u==="children"?qc(r,d):s0(r,u,d,c)}switch(a){case"input":Mv(r,o);break;case"textarea":ST(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?_a(r,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?_a(r,!!o.multiple,o.defaultValue,!0):_a(r,!!o.multiple,o.multiple?[]:"",!1))}r[eu]=o}catch(m){et(t,t.return,m)}}break;case 6:if(si(e,t),Ri(t),i&4){if(t.stateNode===null)throw Error(P(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){et(t,t.return,m)}}break;case 3:if(si(e,t),Ri(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(e.containerInfo)}catch(m){et(t,t.return,m)}break;case 4:si(e,t),Ri(t);break;case 13:si(e,t),Ri(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(B0=it())),i&4&&Kx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||u,si(e,t),Qt=c):si(e,t),Ri(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(G=t,u=t.child;u!==null;){for(d=G=u;G!==null;){switch(h=G,f=h.child,h.tag){case 0:case 11:case 14:case 15:Cc(4,h,h.return);break;case 1:ma(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){et(i,n,m)}}break;case 5:ma(h,h.return);break;case 22:if(h.memoizedState!==null){Yx(d);continue}}f!==null?(f.return=h,G=f):Yx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$T("display",s))}catch(m){et(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){et(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:si(e,t),Ri(t),i&4&&Kx(t);break;case 21:break;default:si(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n$(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(qc(r,""),i.flags&=-33);var o=Gx(t);yy(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=Gx(t);vy(t,a,s);break;default:throw Error(P(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FF(t,e,n){G=t,o$(t)}function o$(t,e,n){for(var i=(t.mode&1)!==0;G!==null;){var r=G,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||Yd;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Yd;var c=Qt;if(Yd=s,(Qt=l)&&!c)for(G=r;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?Xx(r):l!==null?(l.return=s,G=l):Xx(r);for(;o!==null;)G=o,o$(o),o=o.sibling;G=r,Yd=a,Qt=c}Qx(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,G=o):Qx(t)}}function Qx(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Cp(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Qt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Dx(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dx(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Qt||e.flags&512&&gy(e)}catch(h){et(e,e.return,h)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Yx(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Xx(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cp(4,e)}catch(l){et(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){et(e,r,l)}}var o=e.return;try{gy(e)}catch(l){et(e,o,l)}break;case 5:var s=e.return;try{gy(e)}catch(l){et(e,s,l)}}}catch(l){et(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var BF=Math.ceil,ff=xr.ReactCurrentDispatcher,M0=xr.ReactCurrentOwner,Jn=xr.ReactCurrentBatchConfig,me=0,St=null,dt=null,Ut=0,In=0,ga=wo(0),pt=0,su=null,ss=0,$p=0,F0=0,$c=null,pn=null,B0=0,qa=1/0,Zi=null,pf=!1,by=null,Jr=null,Xd=!1,jr=null,mf=0,Ac=0,wy=null,Dh=-1,Ph=0;function ln(){return me&6?it():Dh!==-1?Dh:Dh=it()}function Zr(t){return t.mode&1?me&2&&Ut!==0?Ut&-Ut:xF.transition!==null?(Ph===0&&(Ph=VT()),Ph):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:QT(t.type)),t):1}function yi(t,e,n,i){if(50<Ac)throw Ac=0,wy=null,Error(P(185));Hu(t,n,i),(!(me&2)||t!==St)&&(t===St&&(!(me&2)&&($p|=n),pt===4&&Or(t,Ut)),kn(t,i),n===1&&me===0&&!(e.mode&1)&&(qa=it()+500,Ip&&_o()))}function kn(t,e){var n=t.callbackNode;xM(t,e);var i=Xh(t,t===St?Ut:0);if(i===0)n!==null&&sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&sx(n),e===1)t.tag===0?_F(Jx.bind(null,t)):pC(Jx.bind(null,t)),vF(function(){!(me&6)&&_o()}),n=null;else{switch(jT(i)){case 1:n=d0;break;case 4:n=UT;break;case 16:n=Yh;break;case 536870912:n=zT;break;default:n=Yh}n=f$(n,s$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s$(t,e){if(Dh=-1,Ph=0,me&6)throw Error(P(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var i=Xh(t,t===St?Ut:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=gf(t,i);else{e=i;var r=me;me|=2;var o=l$();(St!==t||Ut!==e)&&(Zi=null,qa=it()+500,Xo(t,e));do try{VF();break}catch(a){a$(t,a)}while(1);E0(),ff.current=o,me=r,dt!==null?e=0:(St=null,Ut=0,e=pt)}if(e!==0){if(e===2&&(r=Gv(t),r!==0&&(i=r,e=_y(t,r))),e===1)throw n=su,Xo(t,0),Or(t,i),kn(t,it()),n;if(e===6)Or(t,i);else{if(r=t.current.alternate,!(i&30)&&!UF(r)&&(e=gf(t,i),e===2&&(o=Gv(t),o!==0&&(i=o,e=_y(t,o))),e===1))throw n=su,Xo(t,0),Or(t,i),kn(t,it()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(P(345));case 2:Do(t,pn,Zi);break;case 3:if(Or(t,i),(i&130023424)===i&&(e=B0+500-it(),10<e)){if(Xh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){ln(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ty(Do.bind(null,t,pn,Zi),e);break}Do(t,pn,Zi);break;case 4:if(Or(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-vi(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=it()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*BF(i/1960))-i,10<i){t.timeoutHandle=ty(Do.bind(null,t,pn,Zi),i);break}Do(t,pn,Zi);break;case 5:Do(t,pn,Zi);break;default:throw Error(P(329))}}}return kn(t,it()),t.callbackNode===n?s$.bind(null,t):null}function _y(t,e){var n=$c;return t.current.memoizedState.isDehydrated&&(Xo(t,e).flags|=256),t=gf(t,e),t!==2&&(e=pn,pn=n,e!==null&&xy(e)),t}function xy(t){pn===null?pn=t:pn.push.apply(pn,t)}function UF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!xi(o(),r))return!1}catch(s){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~F0,e&=~$p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vi(e),i=1<<n;t[n]=-1,e&=~i}}function Jx(t){if(me&6)throw Error(P(327));Sa();var e=Xh(t,0);if(!(e&1))return kn(t,it()),null;var n=gf(t,e);if(t.tag!==0&&n===2){var i=Gv(t);i!==0&&(e=i,n=_y(t,i))}if(n===1)throw n=su,Xo(t,0),Or(t,e),kn(t,it()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Do(t,pn,Zi),kn(t,it()),null}function U0(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(qa=it()+500,Ip&&_o())}}function as(t){jr!==null&&jr.tag===0&&!(me&6)&&Sa();var e=me;me|=1;var n=Jn.transition,i=Ee;try{if(Jn.transition=null,Ee=1,t)return t()}finally{Ee=i,Jn.transition=n,me=e,!(me&6)&&_o()}}function z0(){In=ga.current,Be(ga)}function Xo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gF(n)),dt!==null)for(n=dt.return;n!==null;){var i=n;switch(_0(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&nf();break;case 3:ja(),Be(_n),Be(tn),A0();break;case 5:$0(i);break;case 4:ja();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:I0(i.type._context);break;case 22:case 23:z0()}n=n.return}if(St=t,dt=t=eo(t.current,null),Ut=In=e,pt=0,su=null,F0=$p=ss=0,pn=$c=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}Vo=null}return t}function a$(t,e){do{var n=dt;try{if(E0(),$h.current=hf,df){for(var i=Ye.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}df=!1}if(os=0,xt=ft=Ye=null,Tc=!1,iu=0,M0.current=null,n===null||n.return===null){pt=1,su=e,dt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Bx(s);if(f!==null){f.flags&=-257,Ux(f,s,a,o,e),f.mode&1&&Fx(o,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Fx(o,c,e),V0();break e}l=Error(P(426))}}else if(We&&a.mode&1){var b=Bx(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ux(b,s,a,o,e),x0(Ha(l,a));break e}}o=l=Ha(l,a),pt!==4&&(pt=2),$c===null?$c=[o]:$c.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=HC(o,l,e);Rx(o,v);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jr===null||!Jr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=qC(o,a,e);Rx(o,w);break e}}o=o.return}while(o!==null)}u$(n)}catch(C){e=C,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(1)}function l$(){var t=ff.current;return ff.current=hf,t===null?hf:t}function V0(){(pt===0||pt===3||pt===2)&&(pt=4),St===null||!(ss&268435455)&&!($p&268435455)||Or(St,Ut)}function gf(t,e){var n=me;me|=2;var i=l$();(St!==t||Ut!==e)&&(Zi=null,Xo(t,e));do try{zF();break}catch(r){a$(t,r)}while(1);if(E0(),me=n,ff.current=i,dt!==null)throw Error(P(261));return St=null,Ut=0,pt}function zF(){for(;dt!==null;)c$(dt)}function VF(){for(;dt!==null&&!fM();)c$(dt)}function c$(t){var e=h$(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?u$(t):dt=e,M0.current=null}function u$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OF(n,e),n!==null){n.flags&=32767,dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}else if(n=NF(n,e,In),n!==null){dt=n;return}if(e=e.sibling,e!==null){dt=e;return}dt=e=t}while(e!==null);pt===0&&(pt=5)}function Do(t,e,n){var i=Ee,r=Jn.transition;try{Jn.transition=null,Ee=1,jF(t,e,n,i)}finally{Jn.transition=r,Ee=i}return null}function jF(t,e,n,i){do Sa();while(jr!==null);if(me&6)throw Error(P(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kM(t,o),t===St&&(dt=St=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,f$(Yh,function(){return Sa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jn.transition,Jn.transition=null;var s=Ee;Ee=1;var a=me;me|=4,M0.current=null,MF(t,n),r$(n,t),cF(Zv),Jh=!!Jv,Zv=Jv=null,t.current=n,FF(n),pM(),me=a,Ee=s,Jn.transition=o}else t.current=n;if(Xd&&(Xd=!1,jr=t,mf=r),o=t.pendingLanes,o===0&&(Jr=null),vM(n.stateNode),kn(t,it()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(pf)throw pf=!1,t=by,by=null,t;return mf&1&&t.tag!==0&&Sa(),o=t.pendingLanes,o&1?t===wy?Ac++:(Ac=0,wy=t):Ac=0,_o(),null}function Sa(){if(jr!==null){var t=jT(mf),e=Jn.transition,n=Ee;try{if(Jn.transition=null,Ee=16>t?16:t,jr===null)var i=!1;else{if(t=jr,jr=null,mf=0,me&6)throw Error(P(331));var r=me;for(me|=4,G=t.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Cc(8,u,o)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var h=u.sibling,f=u.return;if(t$(u),u===c){G=null;break}if(h!==null){h.return=f,G=h;break}G=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var g=t.current;for(G=g;G!==null;){s=G;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,G=y;else e:for(s=g;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cp(9,a)}}catch(C){et(a,a.return,C)}if(a===s){G=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,G=w;break e}G=a.return}}if(me=r,_o(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(wp,t)}catch(C){}i=!0}return i}finally{Ee=n,Jn.transition=e}}return!1}function Zx(t,e,n){e=Ha(n,e),e=HC(t,e,1),t=Xr(t,e,1),e=ln(),t!==null&&(Hu(t,1,e),kn(t,e))}function et(t,e,n){if(t.tag===3)Zx(t,t,n);else for(;e!==null;){if(e.tag===3){Zx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jr===null||!Jr.has(i))){t=Ha(n,t),t=qC(e,t,1),e=Xr(e,t,1),t=ln(),e!==null&&(Hu(e,1,t),kn(e,t));break}}e=e.return}}function HF(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Ut&n)===n&&(pt===4||pt===3&&(Ut&130023424)===Ut&&500>it()-B0?Xo(t,0):F0|=n),kn(t,e)}function d$(t,e){e===0&&(t.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var n=ln();t=pr(t,e),t!==null&&(Hu(t,e,n),kn(t,n))}function qF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d$(t,n)}function WF(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(e),d$(t,n)}var h$;h$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,PF(t,e,n);gn=!!(t.flags&131072)}else gn=!1,We&&e.flags&1048576&&mC(e,sf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Rh(t,e),t=e.pendingProps;var r=Ua(e,tn.current);Ia(e,n),r=D0(null,e,i,t,r,n);var o=P0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(i)?(o=!0,rf(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,T0(e),r.updater=Sp,e.stateNode=r,r._reactInternals=e,ly(e,i,t,n),e=dy(null,e,i,!0,o,n)):(e.tag=0,We&&o&&w0(e),rn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Rh(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=KF(i),t=li(i,t),r){case 0:e=uy(null,e,i,t,n);break e;case 1:e=jx(null,e,i,t,n);break e;case 11:e=zx(null,e,i,t,n);break e;case 14:e=Vx(null,e,i,li(i.type,t),n);break e}throw Error(P(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:li(i,r),uy(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:li(i,r),jx(t,e,i,r,n);case 3:e:{if(QC(e),t===null)throw Error(P(387));i=e.pendingProps,o=e.memoizedState,r=o.element,bC(t,e),cf(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Ha(Error(P(423)),e),e=Hx(t,e,i,n,r);break e}else if(i!==r){r=Ha(Error(P(424)),e),e=Hx(t,e,i,n,r);break e}else for(Cn=Yr(e.stateNode.containerInfo.firstChild),$n=e,We=!0,ui=null,n=kC(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),i===r){e=mr(t,e,n);break e}rn(t,e,i,n)}e=e.child}return e;case 5:return EC(e),t===null&&oy(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,ey(i,r)?s=null:o!==null&&ey(i,o)&&(e.flags|=32),KC(t,e),rn(t,e,s,n),e.child;case 6:return t===null&&oy(e),null;case 13:return YC(t,e,n);case 4:return C0(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Va(e,null,i,n):rn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:li(i,r),zx(t,e,i,r,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,Re(af,i._currentValue),i._currentValue=s,o!==null)if(xi(o.value,s)){if(o.children===r.children&&!_n.current){e=mr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=cr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ia(e,n),r=Zn(r),i=i(r),e.flags|=1,rn(t,e,i,n),e.child;case 14:return i=e.type,r=li(i,e.pendingProps),r=li(i.type,r),Vx(t,e,i,r,n);case 15:return WC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:li(i,r),Rh(t,e),e.tag=1,xn(i)?(t=!0,rf(e)):t=!1,Ia(e,n),_C(e,i,r),ly(e,i,r,n),dy(null,e,i,!0,t,n);case 19:return XC(t,e,n);case 22:return GC(t,e,n)}throw Error(P(156,e.tag))};function f$(t,e){return BT(t,e)}function GF(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,i){return new GF(t,e,n,i)}function j0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KF(t){if(typeof t=="function")return j0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l0)return 11;if(t===c0)return 14}return 2}function eo(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nh(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")j0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case sa:return Jo(n.children,r,o,e);case a0:s=8,r|=8;break;case Dv:return t=Kn(12,n,e,r|2),t.elementType=Dv,t.lanes=o,t;case Pv:return t=Kn(13,n,e,r),t.elementType=Pv,t.lanes=o,t;case Nv:return t=Kn(19,n,e,r),t.elementType=Nv,t.lanes=o,t;case xT:return Ap(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wT:s=10;break e;case _T:s=9;break e;case l0:s=11;break e;case c0:s=14;break e;case Dr:s=16,i=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Kn(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Jo(t,e,n,i){return t=Kn(7,t,i,e),t.lanes=n,t}function Ap(t,e,n,i){return t=Kn(22,t,i,e),t.elementType=xT,t.lanes=n,t.stateNode={isHidden:!1},t}function Rg(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QF(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function H0(t,e,n,i,r,o,s,a,l){return t=new QF(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(o),t}function YF(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function p$(t){if(!t)return ro;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(xn(n))return fC(t,n,e)}return e}function m$(t,e,n,i,r,o,s,a,l){return t=H0(n,i,!0,t,r,o,s,a,l),t.context=p$(null),n=t.current,i=ln(),r=Zr(n),o=cr(i,r),o.callback=e!=null?e:null,Xr(n,o,r),t.current.lanes=r,Hu(t,r,i),kn(t,i),t}function Rp(t,e,n,i){var r=e.current,o=ln(),s=Zr(r);return n=p$(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Xr(r,e,s),t!==null&&(yi(t,r,s,o),Ch(t,r,s)),s}function vf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ek(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q0(t,e){ek(t,e),(t=t.alternate)&&ek(t,e)}function XF(){return null}var g$=typeof reportError=="function"?reportError:function(t){console.error(t)};function W0(t){this._internalRoot=t}Dp.prototype.render=W0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Rp(t,e,null,null)};Dp.prototype.unmount=W0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){Rp(null,t,null,null)}),e[fr]=null}};function Dp(t){this._internalRoot=t}Dp.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&KT(t)}};function G0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tk(){}function JF(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=vf(s);o.call(c)}}var s=m$(e,i,t,0,null,!1,!1,"",tk);return t._reactRootContainer=s,t[fr]=s.current,Jc(t.nodeType===8?t.parentNode:t),as(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=vf(l);a.call(c)}}var l=H0(t,0,!1,null,null,!1,!1,"",tk);return t._reactRootContainer=l,t[fr]=l.current,Jc(t.nodeType===8?t.parentNode:t),as(function(){Rp(e,l,n,i)}),l}function Np(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=vf(s);a.call(l)}}Rp(e,s,t,r)}else s=JF(n,e,t,r,i);return vf(s)}HT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hc(e.pendingLanes);n!==0&&(h0(e,n|1),kn(e,it()),!(me&6)&&(qa=it()+500,_o()))}break;case 13:as(function(){var i=pr(t,1);if(i!==null){var r=ln();yi(i,t,1,r)}}),q0(t,1)}};f0=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=ln();yi(e,t,134217728,n)}q0(t,134217728)}};qT=function(t){if(t.tag===13){var e=Zr(t),n=pr(t,e);if(n!==null){var i=ln();yi(n,t,e,i)}q0(t,e)}};WT=function(){return Ee};GT=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Hv=function(t,e,n){switch(e){case"input":if(Mv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ep(i);if(!r)throw Error(P(90));ET(i),Mv(i,r)}}}break;case"textarea":ST(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}};PT=U0;NT=as;var ZF={usingClientEntryPoint:!1,Events:[Wu,ua,Ep,RT,DT,U0]},Ql={findFiberByHostInstance:zo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e4={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||XF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{wp=Jd.inject(e4),Ui=Jd}catch(t){}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(e))throw Error(P(200));return YF(t,e,null,n)};On.createRoot=function(t,e){if(!G0(t))throw Error(P(299));var n=!1,i="",r=g$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=H0(t,1,!1,null,null,n,!1,i,r),t[fr]=e.current,Jc(t.nodeType===8?t.parentNode:t),new W0(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=MT(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return as(t)};On.hydrate=function(t,e,n){if(!Pp(e))throw Error(P(200));return Np(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!G0(t))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=g$;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=m$(e,null,t,1,n!=null?n:null,r,!1,o,s),t[fr]=e.current,Jc(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Dp(e)};On.render=function(t,e,n){if(!Pp(e))throw Error(P(200));return Np(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!Pp(t))throw Error(P(40));return t._reactRootContainer?(as(function(){Np(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};On.unstable_batchedUpdates=U0;On.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Pp(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Np(t,e,n,!1,i)};On.version="18.2.0-next-9e3b772b8-20220608";function v$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v$)}catch(t){console.error(t)}}v$(),mT.exports=On;var K0=mT.exports;const t4=fl(K0);var y$,nk=K0;y$=nk.createRoot,nk.hydrateRoot;const n4="modulepreload",i4=function(t){return"/"+t},ik={},qn=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=i4(o),o in ik)return;ik[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":n4,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())},Ks={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Qs,b$,Op,w$=!1,yf=!1,Q0=!1,Sn=!1,rk=null,ky=!1;const r4={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},o4=t=>{const e=new URL(t,Ct.$resourcesUrl$);return e.origin!==Qu.location.origin?e.href:e.pathname},ls=(t,e="")=>()=>{},ok="http://www.w3.org/1999/xlink",sk={},s4="http://www.w3.org/2000/svg",a4="http://www.w3.org/1999/xhtml",l4=t=>t!=null,Y0=t=>(t=typeof t,t==="object"||t==="function");function c4(t){var e,n,i;return(i=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const $=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!Y0(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?bf(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,d4);const u=bf(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},bf=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},at={},u4=t=>t&&t.$tag$===at,d4={forEach:(t,e)=>t.map(ak).forEach(e),map:(t,e)=>t.map(ak).map(e).map(h4)},ak=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),h4=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),$(t.vtag,n,...t.vchildren||[])}const e=bf(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},f4=t=>R$.map(e=>e(t)).find(e=>!!e),p4=t=>R$.push(t),m4=t=>vl(t).$modeName$,g4=(t,e)=>t!=null&&!Y0(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,v4=t=>t,xe=(t,e,n)=>{const i=v4(t);return{emit:r=>y4(i,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:r})}},y4=(t,e,n)=>{const i=Ct.ce(e,n);return t.dispatchEvent(i),i},lk=new WeakMap,b4=(t,e,n)=>{let i=_f.get(t);W4&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,_f.set(t,i)},w4=(t,e,n,i)=>{var r;let o=_$(e,n);const s=_f.get(o);if(t=t.nodeType===11?t:bi,s)if(typeof s=="string"){t=t.head||t;let a=lk.get(t),l;if(a||lk.set(t,a=new Set),!a.has(o)){{l=bi.createElement("style"),l.innerHTML=s;const c=(r=Ct.$nonce$)!==null&&r!==void 0?r:c4(bi);c!=null&&l.setAttribute("nonce",c),t.insertBefore(l,t.querySelector("link"))}a&&a.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return o},_4=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=ls("attachStyles",e.$tagName$),o=w4(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},_$=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),ck=(t,e,n,i,r,o)=>{if(n!==i){let s=fk(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=uk(n),u=uk(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):fk(Qu,a)?e=a.slice(2):e=a[2]+e.slice(3),n&&Ct.rel(t,e,n,!1),i&&Ct.ael(t,e,i,!1);else{const l=Y0(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(ok,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(ok,e,i):t.setAttribute(e,i))}}},x4=/\s/,uk=t=>t?t.split(x4):[],x$=(t,e,n,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||sk,s=e.$attrs$||sk;for(i in o)i in s||ck(r,i,o[i],void 0,n,e.$flags$);for(i in s)ck(r,i,o[i],s[i],n,e.$flags$)},wf=(t,e,n,i)=>{const r=e.$children$[n];let o=0,s,a,l;if(w$||(Q0=!0,r.$tag$==="slot"&&(Qs&&i.classList.add(Qs+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)s=r.$elm$=bi.createTextNode(r.$text$);else if(r.$flags$&1)s=r.$elm$=bi.createTextNode("");else{if(Sn||(Sn=r.$tag$==="svg"),s=r.$elm$=bi.createElementNS(Sn?s4:a4,r.$flags$&2?"slot-fb":r.$tag$),Sn&&r.$tag$==="foreignObject"&&(Sn=!1),x$(null,r,Sn),l4(Qs)&&s["s-si"]!==Qs&&s.classList.add(s["s-si"]=Qs),r.$children$)for(o=0;o<r.$children$.length;++o)a=wf(t,r,o,s),a&&s.appendChild(a);r.$tag$==="svg"?Sn=!1:s.tagName==="foreignObject"&&(Sn=!0)}return s["s-hn"]=Op,r.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=b$,s["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===r.$tag$&&t.$elm$&&au(t.$elm$,!1)),s},au=(t,e)=>{Ct.$flags$|=1;const n=t.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Op&&r["s-ol"]&&(I$(r).insertBefore(r,X0(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Q0=!0),e&&au(r,e)}Ct.$flags$&=-2},k$=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Op&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=wf(null,n,r,t),a&&(i[r].$elm$=a,s.insertBefore(a,X0(e))))},E$=(t,e,n)=>{for(let i=e;i<=n;++i){const r=t[i];if(r){const o=r.$elm$;C$(r),o&&(yf=!0,o["s-ol"]?o["s-ol"].remove():au(o,!0),o.remove())}}},k4=(t,e,n,i)=>{let r=0,o=0,s=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],p,m;for(;r<=l&&o<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++o];else if(f==null)f=i[--d];else if(Zd(c,h))Ys(c,h),c=e[++r],h=i[++o];else if(Zd(u,f))Ys(u,f),u=e[--l],f=i[--d];else if(Zd(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&au(c.$elm$.parentNode,!1),Ys(c,f),t.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(Zd(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&au(u.$elm$.parentNode,!1),Ys(u,h),t.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++o];else{for(s=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){s=a;break}s>=0?(m=e[s],m.$tag$!==h.$tag$?p=wf(e&&e[o],n,s,t):(Ys(m,h),e[s]=void 0,p=m.$elm$),h=i[++o]):(p=wf(e&&e[o],n,o,t),h=i[++o]),p&&I$(c.$elm$).insertBefore(p,X0(c.$elm$))}r>l?k$(t,i[d+1]==null?null:i[d+1].$elm$,n,i,o,d):o>d&&E$(e,r,l)},Zd=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,X0=t=>t&&t["s-ol"]||t,I$=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ys=(t,e)=>{const n=e.$elm$=t.$elm$,i=t.$children$,r=e.$children$,o=e.$tag$,s=e.$text$;let a;s===null?(Sn=o==="svg"?!0:o==="foreignObject"?!1:Sn,o==="slot"||x$(t,e,Sn),i!==null&&r!==null?k4(n,i,e,r):r!==null?(t.$text$!==null&&(n.textContent=""),k$(n,null,e,r,0,r.length-1)):i!==null&&E$(i,0,i.length-1),Sn&&o==="svg"&&(Sn=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},S$=t=>{const e=t.childNodes;let n,i,r,o,s,a;for(i=0,r=e.length;i<r;i++)if(n=e[i],n.nodeType===1){if(n["s-sr"]){for(s=n["s-sn"],n.hidden=!1,o=0;o<r;o++)if(a=e[o].nodeType,e[o]["s-hn"]!==n["s-hn"]||s!==""){if(a===1&&s===e[o].getAttribute("slot")){n.hidden=!0;break}}else if(a===1||a===3&&e[o].textContent.trim()!==""){n.hidden=!0;break}}S$(n)}},di=[],T$=t=>{let e,n,i,r,o,s,a=0;const l=t.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,r=e["s-sn"],s=i.length-1;s>=0;s--)n=i[s],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==e["s-hn"]&&(dk(n,r)?(o=di.find(u=>u.$nodeToRelocate$===n),yf=!0,n["s-sn"]=n["s-sn"]||r,o?o.$slotRefNode$=e:di.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&di.map(u=>{dk(u.$nodeToRelocate$,n["s-sn"])&&(o=di.find(d=>d.$nodeToRelocate$===n),o&&!u.$slotRefNode$&&(u.$slotRefNode$=o.$slotRefNode$))})):di.some(u=>u.$nodeToRelocate$===n)||di.push({$nodeToRelocate$:n}));e.nodeType===1&&T$(e)}},dk=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",C$=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(C$)},E4=(t,e)=>{const n=t.$hostElement$,i=t.$cmpMeta$,r=t.$vnode$||bf(null,null),o=u4(e)?e:$(null,null,e);Op=n.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=n[s])),o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=r.$elm$=n.shadowRoot||n,Qs=n["s-sc"],b$=n["s-cr"],w$=(i.$flags$&1)!==0,yf=!1,Ys(r,o);{if(Ct.$flags$|=1,Q0){T$(o.$elm$);let s,a,l,c,u,d,h=0;for(;h<di.length;h++)s=di[h],a=s.$nodeToRelocate$,a["s-ol"]||(l=bi.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<di.length;h++)if(s=di[h],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,u=s.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}yf&&S$(o.$elm$),Ct.$flags$&=-2,di.length=0}},I4=(t,e)=>{},J0=(t,e)=>(t.$flags$|=16,I4(t,t.$ancestorComponent$),gr(()=>S4(t,e))),S4=(t,e)=>{const n=t.$hostElement$,i=ls("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;let o;return e?o=Ta(r,"componentWillLoad"):o=Ta(r,"componentWillUpdate"),o=hk(o,()=>Ta(r,"componentWillRender")),i(),hk(o,()=>C4(t,r,e))},hk=(t,e)=>T4(t)?t.then(e):e(),T4=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",C4=async(t,e,n)=>{const i=t.$hostElement$,r=ls("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&_4(t);const o=ls("render",t.$cmpMeta$.$tagName$);$4(t,e,i),o(),r(),A4(t)},$4=(t,e,n)=>{try{rk=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Ks.hasRenderFn||Ks.reflect)&&(Ks.vdomRender||Ks.reflect)&&(Ks.hydrateServerSide||E4(t,e))}catch(a){Ku(a,t.$hostElement$)}return rk=null,null},A4=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=ls("postUpdate",e),r=n;t.$ancestorComponent$,Ta(r,"componentDidRender"),t.$flags$&64?(Ta(r,"componentDidUpdate"),i()):(t.$flags$|=64,Ta(r,"componentDidLoad"),i())},Wa=t=>{{const e=vl(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&J0(e,!1),n}},Ta=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Ku(i)}},R4=(t,e)=>vl(t).$instanceValues$.get(e),D4=(t,e,n,i)=>{const r=vl(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=g4(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Ku(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;J0(r,!1)}}}},P4=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const i=Object.entries(e.$members$),r=t.prototype;i.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(r,o,{get(){return R4(this,o)},set(a){D4(this,o,a,e)},configurable:!0,enumerable:!0})});{const o=new Map;r.attributeChangedCallback=function(s,a,l){Ct.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},t.observedAttributes=i.filter(([s,a])=>a[0]&15).map(([s,a])=>{const l=a[1]||s;return o.set(l,s),a[0]&512&&e.$attrsToReflect$.push([s,l]),l})}}return t},N4=async(t,e,n,i,r)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,r=t.constructor,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),r.style)){let s=r.style;typeof s!="string"&&(s=s[e.$modeName$=f4(t)]);const a=_$(n,e.$modeName$);if(!_f.has(a)){const l=ls("registerStyles",n.$tagName$);b4(a,s,!!(n.$flags$&1)),l()}}e.$ancestorComponent$,(()=>J0(e,!0))()},O4=t=>{},L4=t=>{if(!(Ct.$flags$&1)){const e=vl(t),n=e.$cmpMeta$,i=ls("connectedCallback",n.$tagName$);e.$flags$&1?($$(t,e,n.$listeners$),O4(e.$lazyInstance$)):(e.$flags$|=1,n.$flags$&12&&M4(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),N4(t,e,n)),i()}},M4=t=>{const e=t["s-cr"]=bi.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},F4=t=>{if(!(Ct.$flags$&1)){const e=vl(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},lt=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){V4(this,n)},connectedCallback(){L4(this),i&&i.call(this)},disconnectedCallback(){F4(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,P4(t,n)},$$=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=U4(t,r),l=B4(e,s),c=z4(r);Ct.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Ct.rel(a,o,l,c))})},B4=(t,e)=>n=>{try{Ks.lazyLoad||t.$hostElement$[e](n)}catch(i){Ku(i)}},U4=(t,e)=>e&4?bi:e&8?Qu:e&16?bi.body:t,z4=t=>H4?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,A$=new WeakMap,vl=t=>A$.get(t),V4=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return $$(t,n,e.$listeners$),A$.set(t,n)},fk=(t,e)=>e in t,Ku=(t,e)=>(0,console.error)(t,e),_f=new Map,R$=[],Qu=typeof window<"u"?window:{},bi=Qu.document||{head:{}},ct=Qu.HTMLElement||class{},Ct={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},j4=t=>{Object.assign(Ct,t)},H4=(()=>{let t=!1;try{bi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),q4=t=>Promise.resolve(t),W4=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Ey=[],D$=[],P$=(t,e)=>n=>{t.push(n),ky||(ky=!0,e&&Ct.$flags$&4?G4(Iy):Ct.raf(Iy))},pk=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Ku(n)}t.length=0},Iy=()=>{pk(Ey),pk(D$),(ky=Ey.length>0)&&Ct.raf(Iy)},G4=t=>q4().then(t),Ga=P$(Ey,!1),gr=P$(D$,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qe=typeof window<"u"?window:void 0,Pg=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ka=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Vn(()=>e(t))},K4=t=>t.componentOnReady!==void 0,Lp=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},Q4=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Mp=(t,e)=>{let n=Q4;return e&&e.length>0&&(n=n.filter(i=>!e.includes(i))),Lp(t,n)},Y4=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_ael");if(a)return a(t,e,n,i);if(s._ael)return s._ael(t,e,n,i)}}return t.addEventListener(e,n,i)},X4=(t,e,n,i)=>{var r;if(typeof window<"u"){const o=window,s=(r=o==null?void 0:o.Ionic)===null||r===void 0?void 0:r.config;if(s){const a=s.get("_rel");if(a)return a(t,e,n,i);if(s._rel)return s._rel(t,e,n,i)}}return t.removeEventListener(e,n,i)},Yu=(t,e=t)=>t.shadowRoot||e,Vn=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),J4=t=>!!t.shadowRoot&&!!t.attachShadow,N$=t=>{const e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},Z4=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},Z0=(t,e,n)=>Math.max(t,Math.min(e,n)),hn=(t,e)=>{if(!t){const n="ASSERT: "+e;console.error(n);debugger;throw new Error(n)}},NZ=t=>t.timeStamp||Date.now(),OZ=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},eB=(t,e)=>{const n=t._original||t;return{_original:t,emit:tB(n.emit.bind(n),e)}},tB=(t,e=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(t,e,...i)}},O$=(t,e)=>{if(t!=null||(t={}),e!=null||(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!(i in e)||t[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Ng;const nB=t=>(t.forEach(e=>{for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(n==="easing"){const r="animation-timing-function";e[r]=i,delete e[n]}else{const r=iB(n);r!==n&&(e[r]=i,delete e[n])}}}),t),iB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ew=t=>{if(Ng===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;Ng=!e&&n?"-webkit-":""}return Ng},He=(t,e,n)=>{const i=e.startsWith("animation")?ew(t):"";t.style.setProperty(i+e,n)},ai=(t,e)=>{const n=e.startsWith("animation")?ew(t):"";t.style.removeProperty(n+e)},rB=(t,e)=>{let n;const i={passive:!0},r=()=>{n&&n()},o=s=>{t===s.target&&(r(),e(s))};return t&&(t.addEventListener("webkitAnimationEnd",o,i),t.addEventListener("animationend",o,i),n=()=>{t.removeEventListener("webkitAnimationEnd",o,i),t.removeEventListener("animationend",o,i)}),r},oB=(t=[])=>t.map(e=>{const n=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push(`${r}: ${e[r]};`);return`${n*100}% { ${i.join(" ")} }`}).join(" "),mk=[],sB=t=>{let e=mk.indexOf(t);return e<0&&(e=mk.push(t)-1),`ion-animation-${e}`},aB=t=>{const e=t.getRootNode!==void 0?t.getRootNode():t;return e.head||e},lB=(t,e,n)=>{var i;const r=aB(n),o=ew(n),s=r.querySelector("#"+t);if(s)return s;const a=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=t,a.textContent=`@${o}keyframes ${t} { ${e} } @${o}keyframes ${t}-alt { ${e} }`,r.appendChild(a),a},eh=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},vr=t=>{let e,n,i,r,o,s,a=[],l=[],c=[],u=!1,d,h={},f=[],p=[],m={},b=0,v=!1,g=!1,y,w,C,S,E=!0,T=!1,X=!0,q,M,be=!1;const bt=t,Ze=[],$e=[],ge=[],je=[],O=[],N=[],A=[],V=[],j=[],Z=[],se=typeof AnimationEffect=="function"||qe!==void 0&&typeof qe.AnimationEffect=="function",ie=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&se,Ae=100,Pe=()=>Z,Ji=x=>(je.forEach(L=>{L.destroy(x)}),Nd(x),ge.length=0,je.length=0,a.length=0,W2(),u=!1,X=!0,M),Nd=x=>{B1(),x&&U1()},H2=()=>{v=!1,g=!1,X=!0,w=void 0,C=void 0,S=void 0,b=0,T=!1,E=!0,be=!1},q2=()=>b!==0&&!be,Od=(x,L)=>((L!=null&&L.oneTimeCallback?$e:Ze).push({c:x,o:L}),M),W2=()=>(Ze.length=0,$e.length=0,M),B1=()=>{if(ie)Z.forEach(x=>{x.cancel()}),Z.length=0;else{const x=ge.slice();Vn(()=>{x.forEach(L=>{ai(L,"animation-name"),ai(L,"animation-duration"),ai(L,"animation-timing-function"),ai(L,"animation-iteration-count"),ai(L,"animation-delay"),ai(L,"animation-play-state"),ai(L,"animation-fill-mode"),ai(L,"animation-direction")})})}},U1=()=>{O.forEach(x=>{x!=null&&x.parentNode&&x.parentNode.removeChild(x)}),O.length=0},G2=x=>(N.push(x),M),K2=x=>(A.push(x),M),Q2=x=>(V.push(x),M),Y2=x=>(j.push(x),M),X2=x=>(l=eh(l,x),M),J2=x=>(c=eh(c,x),M),Z2=(x={})=>(h=x,M),eL=(x=[])=>{for(const L of x)h[L]="";return M},tL=x=>(f=eh(f,x),M),nL=x=>(p=eh(p,x),M),iL=(x={})=>(m=x,M),rL=(x=[])=>{for(const L of x)m[L]="";return M},Bl=()=>o!==void 0?o:d?d.getFill():"both",Us=()=>w!==void 0?w:s!==void 0?s:d?d.getDirection():"normal",Ul=()=>v?"linear":i!==void 0?i:d?d.getEasing():"linear",oi=()=>g?0:C!==void 0?C:n!==void 0?n:d?d.getDuration():0,Sr=()=>r!==void 0?r:d?d.getIterations():1,zs=()=>S!==void 0?S:e!==void 0?e:d?d.getDelay():0,oL=()=>a,sL=x=>(s=x,Bn(!0),M),aL=x=>(o=x,Bn(!0),M),lL=x=>(e=x,Bn(!0),M),cL=x=>(i=x,Bn(!0),M),uL=x=>(!ie&&x===0&&(x=1),n=x,Bn(!0),M),dL=x=>(r=x,Bn(!0),M),hL=x=>(d=x,M),fL=x=>{if(x!=null)if(x.nodeType===1)ge.push(x);else if(x.length>=0)for(let L=0;L<x.length;L++)ge.push(x[L]);else console.error("Invalid addElement value");return M},pL=x=>{if(x!=null)if(Array.isArray(x))for(const L of x)L.parent(M),je.push(L);else x.parent(M),je.push(x);return M},mL=x=>{const L=a!==x;return a=x,L&&gL(a),M},gL=x=>{ie?Pe().forEach(L=>{if(L.effect.setKeyframes)L.effect.setKeyframes(x);else{const K=new KeyframeEffect(L.effect.target,x,L.effect.getTiming());L.effect=K}}):z1()},vL=()=>{N.forEach(ht=>ht()),A.forEach(ht=>ht());const x=l,L=c,K=h;ge.forEach(ht=>{const Nt=ht.classList;x.forEach(Un=>Nt.add(Un)),L.forEach(Un=>Nt.remove(Un));for(const Un in K)K.hasOwnProperty(Un)&&He(ht,Un,K[Un])})},yL=()=>{sg(),V.forEach(Nt=>Nt()),j.forEach(Nt=>Nt());const x=E?1:0,L=f,K=p,ht=m;ge.forEach(Nt=>{const Un=Nt.classList;L.forEach($o=>Un.add($o)),K.forEach($o=>Un.remove($o));for(const $o in ht)ht.hasOwnProperty($o)&&He(Nt,$o,ht[$o])}),Ze.forEach(Nt=>Nt.c(x,M)),$e.forEach(Nt=>Nt.c(x,M)),$e.length=0,X=!0,E&&(T=!0),E=!0},Vs=()=>{b!==0&&(b--,b===0&&(yL(),d&&d.animationFinish()))},z1=(x=!0)=>{U1();const L=nB(a);ge.forEach(K=>{if(L.length>0){const ht=oB(L);q=t!==void 0?t:sB(ht);const Nt=lB(q,ht,K);O.push(Nt),He(K,"animation-duration",`${oi()}ms`),He(K,"animation-timing-function",Ul()),He(K,"animation-delay",`${zs()}ms`),He(K,"animation-fill-mode",Bl()),He(K,"animation-direction",Us());const Un=Sr()===1/0?"infinite":Sr().toString();He(K,"animation-iteration-count",Un),He(K,"animation-play-state","paused"),x&&He(K,"animation-name",`${Nt.id}-alt`),Vn(()=>{He(K,"animation-name",Nt.id||null)})}})},bL=()=>{ge.forEach(x=>{const L=x.animate(a,{id:bt,delay:zs(),duration:oi(),easing:Ul(),iterations:Sr(),fill:Bl(),direction:Us()});L.pause(),Z.push(L)}),Z.length>0&&(Z[0].onfinish=()=>{Vs()})},V1=(x=!0)=>{vL(),a.length>0&&(ie?bL():z1(x)),u=!0},zl=x=>{if(x=Math.min(Math.max(x,0),.9999),ie)Z.forEach(L=>{L.currentTime=L.effect.getComputedTiming().delay+oi()*x,L.pause()});else{const L=`-${oi()*x}ms`;ge.forEach(K=>{a.length>0&&(He(K,"animation-delay",L),He(K,"animation-play-state","paused"))})}},j1=x=>{Z.forEach(L=>{L.effect.updateTiming({delay:zs(),duration:oi(),easing:Ul(),iterations:Sr(),fill:Bl(),direction:Us()})}),x!==void 0&&zl(x)},H1=(x=!0,L)=>{Vn(()=>{ge.forEach(K=>{He(K,"animation-name",q||null),He(K,"animation-duration",`${oi()}ms`),He(K,"animation-timing-function",Ul()),He(K,"animation-delay",L!==void 0?`-${L*oi()}ms`:`${zs()}ms`),He(K,"animation-fill-mode",Bl()||null),He(K,"animation-direction",Us()||null);const ht=Sr()===1/0?"infinite":Sr().toString();He(K,"animation-iteration-count",ht),x&&He(K,"animation-name",`${q}-alt`),Vn(()=>{He(K,"animation-name",q||null)})})})},Bn=(x=!1,L=!0,K)=>(x&&je.forEach(ht=>{ht.update(x,L,K)}),ie?j1(K):H1(L,K),M),wL=(x=!1,L)=>(je.forEach(K=>{K.progressStart(x,L)}),q1(),v=x,u||V1(),Bn(!1,!0,L),M),_L=x=>(je.forEach(L=>{L.progressStep(x)}),zl(x),M),xL=(x,L,K)=>(v=!1,je.forEach(ht=>{ht.progressEnd(x,L,K)}),K!==void 0&&(C=K),T=!1,E=!0,x===0?(w=Us()==="reverse"?"normal":"reverse",w==="reverse"&&(E=!1),ie?(Bn(),zl(1-L)):(S=(1-L)*oi()*-1,Bn(!1,!1))):x===1&&(ie?(Bn(),zl(L)):(S=L*oi()*-1,Bn(!1,!1))),x!==void 0&&(Od(()=>{C=void 0,w=void 0,S=void 0},{oneTimeCallback:!0}),d||W1()),M),q1=()=>{u&&(ie?Z.forEach(x=>{x.pause()}):ge.forEach(x=>{He(x,"animation-play-state","paused")}),be=!0)},kL=()=>(je.forEach(x=>{x.pause()}),q1(),M),EL=()=>{y=void 0,Vs()},sg=()=>{y&&clearTimeout(y)},IL=()=>{if(sg(),Vn(()=>{ge.forEach(x=>{a.length>0&&He(x,"animation-play-state","running")})}),a.length===0||ge.length===0)Vs();else{const x=zs()||0,L=oi()||0,K=Sr()||1;isFinite(K)&&(y=setTimeout(EL,x+L*K+Ae)),rB(ge[0],()=>{sg(),Vn(()=>{SL(),Vn(Vs)})})}},SL=()=>{ge.forEach(x=>{ai(x,"animation-duration"),ai(x,"animation-delay"),ai(x,"animation-play-state")})},TL=()=>{Z.forEach(x=>{x.play()}),(a.length===0||ge.length===0)&&Vs()},CL=()=>{ie?(zl(0),j1()):H1()},W1=x=>new Promise(L=>{x!=null&&x.sync&&(g=!0,Od(()=>g=!1,{oneTimeCallback:!0})),u||V1(),T&&(CL(),T=!1),X&&(b=je.length+1,X=!1),Od(()=>L(),{oneTimeCallback:!0}),je.forEach(K=>{K.play()}),ie?TL():IL(),be=!1}),$L=()=>{je.forEach(x=>{x.stop()}),u&&(B1(),u=!1),H2()},G1=(x,L)=>{const K=a[0];return K!==void 0&&(K.offset===void 0||K.offset===0)?K[x]=L:a=[{offset:0,[x]:L},...a],M};return M={parentAnimation:d,elements:ge,childAnimations:je,id:bt,animationFinish:Vs,from:G1,to:(x,L)=>{const K=a[a.length-1];return K!==void 0&&(K.offset===void 0||K.offset===1)?K[x]=L:a=[...a,{offset:1,[x]:L}],M},fromTo:(x,L,K)=>G1(x,L).to(x,K),parent:hL,play:W1,pause:kL,stop:$L,destroy:Ji,keyframes:mL,addAnimation:pL,addElement:fL,update:Bn,fill:aL,direction:sL,iterations:dL,duration:uL,easing:cL,delay:lL,getWebAnimations:Pe,getKeyframes:oL,getFill:Bl,getDirection:Us,getDelay:zs,getIterations:Sr,getEasing:Ul,getDuration:oi,afterAddRead:Q2,afterAddWrite:Y2,afterClearStyles:rL,afterStyles:iL,afterRemoveClass:nL,afterAddClass:tL,beforeAddRead:G2,beforeAddWrite:K2,beforeClearStyles:eL,beforeStyles:Z2,beforeRemoveClass:J2,beforeAddClass:X2,onFinish:Od,isRunning:q2,progressStart:wL,progressStep:_L,progressEnd:xL}},cB="ionViewWillEnter",uB="ionViewDidEnter",L$="ionViewWillLeave",M$="ionViewDidLeave",Og="ionViewWillUnload",dB=()=>qn(()=>import("./ios.transition-0114fb02.js"),[]),hB=()=>qn(()=>import("./md.transition-975ec253.js"),[]),F$=t=>new Promise((e,n)=>{gr(()=>{fB(t),pB(t).then(i=>{i.animation&&i.animation.destroy(),gk(t),e(i)},i=>{gk(t),n(i)})})}),fB=t=>{const e=t.enteringEl,n=t.leavingEl;wB(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Ty(e,!1),e.style.setProperty("pointer-events","none"),n&&(Ty(n,!1),n.style.setProperty("pointer-events","none"))},pB=async t=>{const e=await mB(t);return e&&r4.isBrowser?gB(e,t):vB(t)},gk=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},mB=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await dB()).iosTransitionAnimation:(await hB()).mdTransitionAnimation,gB=async(t,e)=>{await B$(e,!0);const n=t(e.baseEl,e);U$(e.enteringEl,e.leavingEl);const i=await bB(n,e);return e.progressCallback&&e.progressCallback(void 0),i&&z$(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:n}},vB=async t=>{const e=t.enteringEl,n=t.leavingEl;return await B$(t,!1),U$(e,n),z$(e,n),{hasCompleted:!0}},B$=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([Sy(t.enteringEl),Sy(t.leavingEl)]),await yB(t.viewIsReady,t.enteringEl)},yB=async(t,e)=>{t&&await t(e)},bB=(t,e)=>{const n=e.progressCallback,i=new Promise(r=>{t.onFinish(o=>r(o===1))});return n?(t.progressStart(!0),n(t)):t.play(),i},U$=(t,e)=>{tr(e,L$),tr(t,cB)},z$=(t,e)=>{tr(t,uB),tr(e,M$)},tr=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},Sy=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Vn(i));return}await Promise.all(Array.from(e.children).map(Sy))}},Ty=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},wB=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},LZ=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xf=(t,e,n,i,r)=>xB(t[1],e[1],n[1],i[1],r).map(o=>_B(t[0],e[0],n[0],i[0],o)),_B=(t,e,n,i,r)=>{const o=3*e*Math.pow(r-1,2),s=-3*n*r+3*n+i*r,a=t*Math.pow(r-1,3);return r*(o+r*s)-a},xB=(t,e,n,i,r)=>(t-=r,e-=r,n-=r,i-=r,EB(i-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),kB=(t,e,n)=>{const i=e*e-4*t*n;return i<0?[]:[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]},EB=(t,e,n,i)=>{if(t===0)return kB(e,n,i);e/=t,n/=t,i/=t;const r=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*i)/27;if(r===0)return[Math.pow(-o,1/3)];if(o===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(o/2,2)+Math.pow(r/3,3);if(s===0)return[Math.pow(o/2,1/2)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),1/3)-Math.pow(o/2+Math.sqrt(s),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class IB{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const i=this.m.get(e);return i!==void 0?i:n}getBoolean(e,n=!1){const i=this.m.get(e);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(e,n){const i=parseFloat(this.m.get(e));return isNaN(i)?n!==void 0?n:NaN:i}set(e,n){this.m.set(e,n)}}const ve=new IB,SB=t=>{try{const e=t.sessionStorage.getItem(V$);return e!==null?JSON.parse(e):{}}catch(e){return{}}},TB=(t,e)=>{try{t.sessionStorage.setItem(V$,JSON.stringify(e))}catch(n){return}},CB=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>$B(n,vk)).map(([n,i])=>[n.slice(vk.length),i]).forEach(([n,i])=>{e[n]=i}),e},$B=(t,e)=>t.substr(0,e.length)===e,vk="ionic:",V$="ionic-persist-config",AB=t=>j$(t),Hr=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),AB(t).includes(e)),j$=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=RB(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},RB=t=>{const e=ve.get("platform");return Object.keys(yk).filter(n=>{const i=e==null?void 0:e[n];return typeof i=="function"?i(t):yk[n](t)})},DB=t=>Fp(t)&&!q$(t),tw=t=>!!(cs(t,/iPad/i)||cs(t,/Macintosh/i)&&Fp(t)),PB=t=>cs(t,/iPhone/i),NB=t=>cs(t,/iPhone|iPod/i)||tw(t),H$=t=>cs(t,/android|sink/i),OB=t=>H$(t)&&!cs(t,/mobile/i),LB=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},MB=t=>{const e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return tw(t)||OB(t)||i>460&&i<820&&r>780&&r<1400},Fp=t=>zB(t,"(any-pointer:coarse)"),FB=t=>!Fp(t),q$=t=>W$(t)||G$(t),W$=t=>!!(t.cordova||t.phonegap||t.PhoneGap),G$=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative)},BB=t=>cs(t,/electron/i),UB=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},cs=(t,e)=>e.test(t.navigator.userAgent),zB=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},yk={ipad:tw,iphone:PB,ios:NB,android:H$,phablet:LB,tablet:MB,cordova:W$,capacitor:G$,electron:BB,pwa:UB,mobile:Fp,mobileweb:DB,desktop:FB,hybrid:q$};let Xs;const ye=t=>t&&m4(t)||Xs,VB=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,i=n.Ionic=n.Ionic||{},r={};t._ael&&(r.ael=t._ael),t._rel&&(r.rel=t._rel),t._ce&&(r.ce=t._ce),j4(r);const o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},SB(n)),{persistConfig:!1}),i.config),CB(n)),t);ve.reset(o),ve.getBoolean("persistConfig")&&TB(n,o),j$(n),i.config=ve,i.mode=Xs=ve.get("mode",e.documentElement.getAttribute("mode")||(Hr(n,"ios")?"ios":"md")),ve.set("mode",Xs),e.documentElement.setAttribute("mode",Xs),e.documentElement.classList.add(Xs),ve.getBoolean("_testing")&&ve.set("animated",!1);const s=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);p4(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;s(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return Xs})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jB=t=>{try{if(t instanceof GB)return t.value;if(!HB()||typeof t!="string"||t==="")return t;if(t.includes("onload="))return"";const e=document.createDocumentFragment(),n=document.createElement("div");e.appendChild(n),n.innerHTML=t,WB.forEach(s=>{const a=e.querySelectorAll(s);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=$y(c);for(let d=0;d<u.length;d++)Cy(u[d])}});const i=$y(e);for(let s=0;s<i.length;s++)Cy(i[s]);const r=document.createElement("div");r.appendChild(e);const o=r.querySelector("div");return o!==null?o.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},Cy=t=>{if(t.nodeType&&t.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(t.attributes instanceof NamedNodeMap)){t.remove();return}for(let n=t.attributes.length-1;n>=0;n--){const i=t.attributes.item(n),r=i.name;if(!qB.includes(r.toLowerCase())){t.removeAttribute(r);continue}const o=i.value,s=t[r];(o!=null&&o.toLowerCase().includes("javascript:")||s!=null&&s.toLowerCase().includes("javascript:"))&&t.removeAttribute(r)}const e=$y(t);for(let n=0;n<e.length;n++)Cy(e[n])},$y=t=>t.children!=null?t.children:t.childNodes,HB=()=>{var t;const e=window,n=(t=e==null?void 0:e.Ionic)===null||t===void 0?void 0:t.config;return n?n.get?n.get("sanitizerEnabled",!0):n.sanitizerEnabled===!0||n.sanitizerEnabled===void 0:!0},qB=["class","id","href","src","name","slot"],WB=["script","style","iframe","meta","link","object","embed"];class GB{constructor(e){this.value=e}}const KB=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QB=()=>{document.addEventListener("backbutton",()=>{})},YB=()=>{const t=document;let e=!1;t.addEventListener("backbutton",()=>{if(e)return;let n=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(a,l){i.push({priority:a,handler:l,id:n++})}}});t.dispatchEvent(r);const o=async a=>{try{if(a!=null&&a.handler){const l=a.handler(s);l!=null&&await l}}catch(l){console.error(l)}},s=()=>{if(i.length>0){let a={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=a.priority&&(a=l)}),e=!0,i=i.filter(l=>l.id!==a.id),o(a).then(()=>e=!1)}};s()})},K$=100,XB=99,JB=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:XB,OVERLAY_BACK_BUTTON_PRIORITY:K$,blockHardwareBackButton:QB,startHardwareBackButton:YB},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Q$=async(t,e,n,i,r,o)=>{var s;if(t)return t.attachViewToDom(e,n,r,i);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ka(a,l)),a},ZB=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},eU=()=>{let t,e;return{attachViewToDom:async(r,o,s={},a=[])=>{var l,c;if(t=r,o){const d=typeof o=="string"?(l=t.ownerDocument)===null||l===void 0?void 0:l.createElement(o):o;a.forEach(h=>d.classList.add(h)),Object.assign(d,s),t.appendChild(d),await new Promise(h=>Ka(d,h))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!t.children[0].classList.contains("ion-delegate-host")){const h=(c=t.ownerDocument)===null||c===void 0?void 0:c.createElement("div");h.classList.add("ion-delegate-host"),a.forEach(f=>h.classList.add(f)),h.append(...t.children),t.appendChild(h)}const u=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),u.appendChild(t),t},removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wn=(t,...e)=>console.warn(`[Ionic Warning]: ${t}`,...e),Y$=(t,...e)=>console.error(`[Ionic Error]: ${t}`,...e),tU=(t,...e)=>console.error(`<${t.tagName.toLowerCase()}> must be used inside ${e.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Ay=0,nU=0;const Ry=new WeakMap,iU=t=>{typeof document<"u"&&aU(document);const e=Ay++;t.overlayIndex=e},rU=t=>(t.hasAttribute("id")||(t.id=`ion-overlay-${++nU}`),t.id),lu='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',bk=(t,e)=>{let n=t.querySelector(lu);const i=n==null?void 0:n.shadowRoot;i&&(n=i.querySelector(lu)||n),n?Z4(n):e.focus()},oU=t=>t.classList.contains("overlay-hidden"),wk=(t,e)=>{const n=Array.from(t.querySelectorAll(lu));let i=n.length>0?n[n.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(lu)||i),i?i.focus():e.focus()},sU=(t,e)=>{const n=Dy(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=t.target;if(!n||!i||n.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(n===i)n.lastFocus=void 0;else{const s=Yu(n);if(!s.contains(i))return;const a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i))n.lastFocus=i;else{const l=n.lastFocus;bk(a,n),l===e.activeElement&&wk(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(i))n.lastFocus=i;else{const s=n.lastFocus;bk(n,n),s===e.activeElement&&wk(n,n),n.lastFocus=e.activeElement}};n.shadowRoot?o():r()},aU=t=>{Ay===0&&(Ay=1,t.addEventListener("focus",e=>{sU(e,t)},!0),t.addEventListener("ionBackButton",e=>{const n=Dy(t);n!=null&&n.backdropDismiss&&e.detail.register(K$,()=>n.dismiss(void 0,Py))}),t.addEventListener("keydown",e=>{if(e.key==="Escape"){const n=Dy(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Py)}}))},lU=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Dy=(t,e,n)=>{const i=lU(t,e).filter(r=>!oU(r));return n===void 0?i[i.length-1]:i.find(r=>r.id===n)},X$=(t=!1)=>{const n=hU(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},cU=async(t,e,n,i,r)=>{var o,s;if(t.presented)return;X$(!0),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();const a=ye(t),l=t.enterAnimation?t.enterAnimation:ve.get(e,a==="ios"?n:i);await J$(t,l,t.el,r)&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&uU(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus()},uU=async t=>{let e=document.activeElement;if(!e)return;const n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(lu)||e),await t.onDidDismiss(),e.focus()},dU=async(t,e,n,i,r,o,s)=>{var a,l;if(!t.presented)return!1;X$(!1),t.presented=!1;try{t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});const c=ye(t),u=t.leaveAnimation?t.leaveAnimation:ve.get(i,c==="ios"?r:o);n!==gU&&await J$(t,u,t.el,s),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),Ry.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(c){console.error(c)}return t.el.remove(),!0},hU=t=>t.querySelector("ion-app")||t.body,J$=async(t,e,n,i)=>{n.classList.remove("overlay-hidden");const r=t.el,o=e(r,i);(!t.animated||!ve.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{const a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const s=Ry.get(t)||[];return Ry.set(t,[...s,o]),await o.play(),!0},_k=(t,e)=>{let n;const i=new Promise(r=>n=r);return fU(t,e,r=>{n(r.detail)}),i},fU=(t,e,n)=>{const i=r=>{X4(t,e,i),n(r)};Y4(t,e,i)},xk=t=>t==="cancel"||t===Py,pU=t=>t(),mU=(t,e)=>{if(typeof t=="function")return ve.get("_zoneGate",pU)(()=>{try{return t(e)}catch(i){throw i}})},Py="backdrop",gU="gesture",vU=t=>{let e=!1,n;const i=eU(),r=(a=!1)=>{if(n&&!a)return{delegate:n,inline:e};const{el:l,hasController:c,delegate:u}=t;return e=l.parentNode!==null&&!c,n=e?u||i:u,{inline:e,delegate:n}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(t.el,a);const{hasController:c}=t;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&t.el!==void 0&&a.removeViewFromDom(t.el.parentElement,t.el)}}},yU=()=>{let t;const e=()=>{t&&(t(),t=void 0)};return{addClickListener:(i,r)=>{e();const o=r!==void 0?document.getElementById(r):null;if(!o){Wn(`A trigger element with the ID "${r}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);return}t=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(o,i)},removeClickListener:e}};function mt(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bU="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",wU="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",kk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Ek="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",Ik="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Lg;const _U=()=>{if(typeof window>"u")return new Map;if(!Lg){const t=window;t.Ionicons=t.Ionicons||{},Lg=t.Ionicons.map=t.Ionicons.map||new Map}return Lg},xU=t=>{let e=Mg(t.src);return e||(e=Z$(t.name,t.icon,t.mode,t.ios,t.md),e?kU(e):t.icon&&(e=Mg(t.icon),e||(e=Mg(t.icon[t.mode]),e))?e:null)},kU=t=>{const e=_U().get(t);return e||o4(`svg/${t}.svg`)},Z$=(t,e,n,i,r)=>(n=(n&&th(n))==="ios"?"ios":"md",i&&n==="ios"?t=th(i):r&&n==="md"?t=th(r):(!t&&e&&!eA(e)&&(t=e),kf(t)&&(t=th(t))),!kf(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Mg=t=>kf(t)&&(t=t.trim(),eA(t))?t:null,eA=t=>t.length>0&&/(\/|\.)/.test(t),kf=t=>typeof t=="string",th=t=>t.toLowerCase(),EU=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},IU=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",SU=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),tA(n))return e.innerHTML}return""},tA=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(kf(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!tA(t.childNodes[e]))return!1}return!0},TU=t=>t.startsWith("data:image/svg+xml"),CU=t=>t.indexOf(";utf8,")!==-1,Ho=new Map,Sk=new Map;let Fg;const $U=(t,e)=>{let n=Sk.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(TU(t)&&CU(t)){Fg||(Fg=new DOMParser);const r=Fg.parseFromString(t,"text/html").querySelector("svg");return r&&Ho.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=SU(r)),Ho.set(t,r||"")});Ho.set(t,"")}),Sk.set(t,n);else return Ho.set(t,""),Promise.resolve();return n},AU=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",RU=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=DU(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=EU(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:n});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=xU(this);e&&(Ho.has(e)?this.svgContent=Ho.get(e):$U(e,this.sanitize).then(()=>this.svgContent=Ho.get(e)))}this.iconName=Z$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:n,inheritedAttributes:i}=this,r=this.mode||"md",o=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&this.flipRtl!==!1;return $(at,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},PU(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":!!o&&IU(n)})},i),this.svgContent?$("div",{class:"icon-inner",innerHTML:this.svgContent}):$("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return AU}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),DU=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",PU=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function nw(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,RU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const An=(t,e)=>e.closest(t)!==null,ki=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,NU=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],nA=t=>{const e={};return NU(t).forEach(n=>e[n]=!0),e},OU=/^[a-z][a-z0-9+\-.]*:/,iw=async(t,e,n,i)=>{if(t!=null&&t[0]!=="#"&&!OU.test(t)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(t,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LU=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",MU=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",FU=lt(class extends ct{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=ye(this);return $(at,{class:{[e]:!0,["buttons-collapse"]:this.collapse}})}static get style(){return{ios:LU,md:MU}}},[34,"ion-buttons",{collapse:[4]}]);function BU(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,FU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const UU=BU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zU=t=>{const e=t;let n;return{hasLegacyControl:()=>{if(n===void 0){const r=e.label!==void 0||VU(e),o=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,s=N$(e);n=e.legacy===!0||!r&&!o&&s!==null}return n}}},VU=t=>t.shadowRoot===null?!1:!!(jU.includes(t.tagName)&&t.querySelector('[slot="label"]')!==null||HU.includes(t.tagName)&&t.textContent!==""),jU=["ION-RANGE"],HU=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qU=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",WU=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(i=>{Ga(()=>{const r=this.el.getBoundingClientRect(),o=r.width,s=r.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),c=this.unbounded?l:a+KU,u=Math.floor(l*QU),d=c/u;let h=e-r.left,f=n-r.top;this.unbounded&&(h=o*.5,f=s*.5);const p=h-u*.5,m=f-u*.5,b=o*.5-h,v=s*.5-f;gr(()=>{const g=document.createElement("div");g.classList.add("ripple-effect");const y=g.style;y.top=m+"px",y.left=p+"px",y.width=y.height=u+"px",y.setProperty("--final-scale",`${d}`),y.setProperty("--translate-end",`${b}px, ${v}px`),(this.el.shadowRoot||this.el).appendChild(g),setTimeout(()=>{i(()=>{GU(g)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=ye(this);return $(at,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return qU}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),GU=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},KU=10,QU=.5;function rw(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,WU);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YU={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},XU=t=>{if(t===void 0||t==="")return!0;if(window.matchMedia){const e=YU[t];return window.matchMedia(e).matches}return!1},JU=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",nh=typeof window<"u"?window:void 0,Tk=nh&&!!(nh.CSS&&nh.CSS.supports&&nh.CSS.supports("--a: 0")),ZU=["","xs","sm","md","lg","xl"],ez=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){Wa(this)}getColumns(e){let n;for(const i of ZU){const r=XU(i),o=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&o!==void 0&&(n=o)}return n}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const n=e==="auto"?"auto":Tk?`calc(calc(${e} / var(--ion-grid-columns, 12)) * 100%)`:e/12*100+"%";return{flex:`0 0 ${n}`,width:`${n}`,"max-width":`${n}`}}calculatePosition(e,n){const i=this.getColumns(e);if(!i)return;const r=Tk?`calc(calc(${i} / var(--ion-grid-columns, 12)) * 100%)`:i>0&&i<12?i/12*100+"%":"auto";return{[n]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",n=ye(this);return $(at,{class:{[n]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},$("slot",null))}static get style(){return JU}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function tz(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,ez);break}})}const nz=tz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iz=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rz=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',oz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=xe(this,"ionScrollStart",7),this.ionScroll=xe(this,"ionScroll",7),this.ionScrollEnd=xe(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=ye(this);return e===void 0?n==="ios"&&Hr("ios"):e}resize(){this.fullscreen?Ga(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Wa(this))}readDimensions(){const e=az(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Wa(this))}onScroll(e){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Ga(r=>{this.queued=!1,this.detail.event=e,lz(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ka(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ka(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,n,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,n+r.scrollTop,i)}async scrollToPoint(e,n,i=0){const r=await this.getScrollElement();if(i<32){n!=null&&(r.scrollTop=n),e!=null&&(r.scrollLeft=e);return}let o,s=0;const a=new Promise(f=>o=f),l=r.scrollTop,c=r.scrollLeft,u=n!=null?n-l:0,d=e!=null?e-c:0,h=f=>{const p=Math.min(1,(f-s)/i)-1,m=Math.pow(p,3)+1;u!==0&&(r.scrollTop=Math.floor(m*u+l)),d!==0&&(r.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):o()};return requestAnimationFrame(f=>{s=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:n,scrollY:i,el:r}=this,o=iz(r)?"rtl":"ltr",s=ye(this),a=this.shouldForceOverscroll(),l=s==="ios",c=e?"main":"div";return this.resize(),$(at,{class:ki(this.color,{[s]:!0,"content-sizing":An("ion-popover",this.el),overscroll:a,[`content-${o}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},$("div",{ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),$(c,{class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},$("slot",null)),l?$("div",{class:"transition-effect"},$("div",{class:"transition-cover"}),$("div",{class:"transition-shadow"})):null,$("slot",{name:"fixed"}))}get el(){return this}static get style(){return rz}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),sz=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},az=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||sz(t)},lz=(t,e,n,i)=>{const r=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-s;if(i&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const u=(a-r)/c,d=(l-o)/c;t.velocityX=u*.7+t.velocityX*.3,t.velocityY=d*.7+t.velocityY*.3}};function cz(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,oz);break}})}const uz=cz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dz=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:0;--padding-bottom:0;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',hz=`:host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:0;--padding-bottom:0;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),
                background-color 15ms linear,
                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}`,fz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=xe(this,"ionFocus",7),this.ionBlur=xe(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.inheritedAttributes={},this.handleClick=e=>{const{el:n}=this;if(this.type==="button")iw(this.href,e,this.routerDirection,this.routerAnimation);else if(J4(n)){let i=this.findForm();const{form:r}=this;if(!i&&r!==void 0){Wn(typeof r=="string"?`Form with selector: "#${r}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`:'The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',n);return}if(i||(i=n.closest("form")),i){e.preventDefault();const o=document.createElement("button");o.type=this.type,o.style.display="none",i.appendChild(o),o.click(),o.remove()}}},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Mp(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const n=document.getElementById(e);if(n instanceof HTMLFormElement)return n}return null}render(){const e=ye(this),{buttonType:n,type:i,disabled:r,rel:o,target:s,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:p}=this,m=a===void 0&&this.inItem?"small":a,b=l===void 0?"button":"a",v=b==="button"?{type:i}:{download:this.download,href:l,rel:o,target:s};let g=this.fill;return g==null&&(g=this.inToolbar||this.inListHeader?"clear":"solid"),$(at,{onClick:this.handleClick,"aria-disabled":r?"true":null,class:ki(c,{[e]:!0,[n]:!0,[`${n}-${u}`]:u!==void 0,[`${n}-${m}`]:m!==void 0,[`${n}-${h}`]:h!==void 0,[`${n}-${g}`]:!0,[`${n}-strong`]:f,"in-toolbar":An("ion-toolbar",this.el),"in-toolbar-color":An("ion-toolbar[color]",this.el),"in-buttons":An("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},$(b,Object.assign({},v,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},p),$("span",{class:"button-inner"},$("slot",{name:"icon-only"}),$("slot",{name:"start"}),$("slot",null),$("slot",{name:"end"})),e==="md"&&$("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:dz,md:hz}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:0px;--padding-bottom:0px;--padding-start:.5em;--padding-end:.5em;height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',mz=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:0;--padding-bottom:0;--padding-start:.6em;--padding-end:.6em;height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',gz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=kk,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.itemStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{if(i[a]){const l=`item-${a}`;o[l]||(s=!0),r[l]=!0}}),!s&&Object.keys(r).length!==Object.keys(o).length&&(s=!0),s&&(this.itemStyles.set(n,r),Wa(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Lp(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:n,counterFormatter:i,fill:r,shape:o}=this;e.querySelector('[slot="helper"]')!==null&&Wn('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&Wn('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),n===!0&&Wn('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&Wn('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&Wn('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),o!==void 0&&Wn('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Vn(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var n,i;const{counter:r,counterFormatter:o,defaultCounterFormatter:s}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(o===void 0)this.counterString=s(a,e.maxlength);else try{this.counterString=o(a,e.maxlength)}catch(l){Y$("Exception in provided `counterFormatter`.",l),this.counterString=s(a,e.maxlength)}}}defaultCounterFormatter(e,n){return`${e} / ${n}`}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:n,detailIcon:i,download:r,fill:o,labelColorStyles:s,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:f,routerDirection:p,inheritedAriaAttributes:m}=this,b={},v=ye(this),g=this.isClickable(),y=this.canActivate(),w=g?c===void 0?"button":"a":"div",C=w==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h},S=g?{onClick:M=>{iw(c,M,p,f)}}:{},E=n!==void 0?n:v==="ios"&&g;this.itemStyles.forEach(M=>{Object.assign(b,M)});const T=l||b["item-interactive-disabled"]?"true":null,X=o||"none",q=An("ion-list",this.el);return $(at,{"aria-disabled":T,class:Object.assign(Object.assign(Object.assign({},b),s),ki(this.color,{item:!0,[v]:!0,"item-lines-default":a===void 0,[`item-lines-${a}`]:a!==void 0,[`item-fill-${X}`]:!0,[`item-shape-${d}`]:d!==void 0,"item-disabled":l,"in-list":q,"item-multiple-inputs":this.multipleInputs,"ion-activatable":y,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:q?"listitem":null},$(w,Object.assign({},C,m,{class:"item-native",part:"native",disabled:l},S),$("slot",{name:"start"}),$("div",{class:"item-inner"},$("div",{class:"input-wrapper"},$("slot",null)),$("slot",{name:"end"}),E&&$("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===kk}),$("div",{class:"item-inner-highlight"})),y&&v==="md"&&$("ion-ripple-effect",null),$("div",{class:"item-highlight"})),$("div",{class:"item-bottom"},$("slot",{name:"error"}),$("slot",{name:"helper"}),e&&$("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:pz,md:mz}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vz=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",yz='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',bz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.ionColor=xe(this,"ionColor",7),this.ionStyle=xe(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,[`ion-color-${e}`]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,[`label-${n}`]:n!==void 0})}render(){const e=this.position,n=ye(this);return $(at,{class:ki(this.color,{[n]:!0,"in-item-color":An("ion-item.ion-color",this.el),[`label-${e}`]:e!==void 0,["label-no-animate"]:this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:vz,md:yz}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function wz(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,bz);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _z="ION-CONTENT",iA="ion-content",rA=".ion-content-scroll-host",oA=`${iA}, ${rA}`,ow=t=>t.tagName===_z,Ny=async t=>ow(t)?(await new Promise(e=>Ka(t,e)),t.getScrollElement()):t,Oy=t=>{const e=t.querySelector(rA);return e||t.querySelector(oA)},qZ=t=>t.closest(oA),WZ=(t,e)=>ow(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),GZ=(t,e,n,i)=>ow(t)?t.scrollByPoint(e,n,i):Promise.resolve(t.scrollBy({top:n,left:e,behavior:i>0?"smooth":"auto"})),Ly=t=>tU(t,iA);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var My;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(My||(My={}));const xz={getEngine(){var t;return((t=qe==null?void 0:qe.Capacitor)===null||t===void 0?void 0:t.isPluginAvailable("Keyboard"))&&(qe==null?void 0:qe.Capacitor.Plugins.Keyboard)},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!=="UNIMPLEMENTED")throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sA=t=>{if(Pg===void 0||t===My.None||t===void 0)return null;const e=Pg.querySelector("ion-app");return e!=null?e:Pg.body},Ck=t=>{const e=sA(t);return e===null?0:e.clientHeight},aA=async t=>{let e,n,i,r;const o=async()=>{const u=await xz.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=Ck(d)),i=!0,s(i,d)},n=()=>{i=!1,s(i,d)},qe==null||qe.addEventListener("keyboardWillShow",e),qe==null||qe.addEventListener("keyboardWillHide",n)},s=(u,d)=>{t&&t(u,a(d))},a=u=>{if(r===0||r===Ck(u))return;const d=sA(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===r&&(p.disconnect(),h())},p=new ResizeObserver(f);p.observe(d)})},l=()=>{qe==null||qe.removeEventListener("keyboardWillShow",e),qe==null||qe.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>i;return await o(),{init:o,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $k=(t,e)=>{Ga(()=>{const n=t.scrollTop,i=t.scrollHeight-t.clientHeight,r=10,o=i-r,s=n-o,a=Z0(0,1-s/r,1);gr(()=>{e.style.setProperty("--opacity-scale",a.toString())})})},kz="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",Ez="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",Iz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(ye(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const r=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=r?Oy(r):null;if(!o){Ly(this.el);return}this.setupFadeFooter(o)}},this.setupFadeFooter=async e=>{const n=this.scrollEl=await Ny(e);this.contentScrollCallback=()=>{$k(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),$k(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await aA(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:e,collapse:n}=this,i=ye(this),r=this.el.closest("ion-tabs"),o=r==null?void 0:r.querySelector(":scope > ion-tab-bar");return $(at,{role:"contentinfo",class:{[i]:!0,[`footer-${i}`]:!0,["footer-translucent"]:e,[`footer-translucent-${i}`]:e,["footer-toolbar-padding"]:!this.keyboardVisible&&(!o||o.slot!=="bottom"),[`footer-collapse-${n}`]:n!==void 0}},i==="ios"&&e&&$("div",{class:"footer-background"}),$("slot",null))}get el(){return this}static get style(){return{ios:kz,md:Ez}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function Sz(){if(typeof customElements>"u")return;["ion-footer"].forEach(e=>{switch(e){case"ion-footer":customElements.get(e)||customElements.define(e,Iz);break}})}const Tz=Sz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cz="all 0.2s ease-in-out",Ak=t=>{const e=document.querySelector(`${t}.ion-cloned-element`);if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},Rk=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},$z=(t,e,n)=>{Ga(()=>{const i=t.scrollTop,r=Z0(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&gr(()=>{Dz(e.toolbars,r)})})},sw=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},Az=(t,e,n)=>{if(!t[0].isIntersecting)return;const i=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;sw(e.el,i===1?void 0:i)},Rz=(t,e,n,i)=>{gr(()=>{const r=i.scrollTop;Az(t,e,r);const o=t[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,c=a===0&&l===0,u=Math.abs(s.left-o.boundingClientRect.left),d=Math.abs(s.right-o.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(o.isIntersecting?(pc(e,!1),pc(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&r>0&&(pc(e),pc(n,!1),sw(e.el)))})},pc=(t,e=!0)=>{const n=t.el;e?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},Dz=(t=[],e=1,n=!1)=>{t.forEach(i=>{const r=i.ionTitleEl,o=i.innerTitleEl;!r||r.size!=="large"||(o.style.transition=n?Cz:"",o.style.transform=`scale3d(${e}, ${e}, 1)`)})},Dk=(t,e,n)=>{Ga(()=>{const i=t.scrollTop,r=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&i<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path",`inset(${r}px 0px 0px 0px)`);return}const s=i-o,l=Z0(0,s/10,1);gr(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},Pz="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",Nz="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",Oz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const i=this.scrollEl=await Ny(e);this.contentScrollCallback=()=>{Dk(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),Dk(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Mp(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(ye(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",r=n==="fade";if(this.destroyCollapsibleHeader(),i){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Oy(o):null;gr(()=>{const a=Ak("ion-title");a.size="large",Ak("ion-back-button")}),await this.setupCondenseHeader(s,o)}else if(r){const o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Oy(o):null;if(!s){Ly(this.el);return}const a=s.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(s,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){Ly(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Ny(e);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=Rk(this.collapsibleMainHeader),o=Rk(this.el);if(!r||!o)return;pc(r,!1),sw(r.el,0);const s=a=>{Rz(a,r,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{$z(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),gr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,i=ye(this),r=this.collapse||"none",o=An("ion-menu",this.el)?"none":"banner";return $(at,Object.assign({role:o,class:{[i]:!0,[`header-${i}`]:!0,["header-translucent"]:this.translucent,[`header-collapse-${r}`]:!0,[`header-translucent-${i}`]:this.translucent}},n),i==="ios"&&e&&$("div",{class:"header-background"}),$("slot",null))}get el(){return this}static get style(){return{ios:Pz,md:Nz}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function Lz(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,Oz);break}})}const Mz=Lz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fz=(t,e,n)=>{let i;const r=()=>!(e()===void 0||t.label!==void 0||n()===null),o=()=>{r()&&Vn(()=>{s()})},s=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&qe!==void 0&&"IntersectionObserver"in qe){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(s(),u.disconnect(),i=void 0)},{threshold:.01,root:t});u.observe(l);return}l.style.setProperty("width",`${c*.75}px`)};return{calculateNotchWidth:o,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bz=(t,e,n)=>{let i,r;qe!==void 0&&"MutationObserver"in qe&&(i=new MutationObserver(l=>{for(const c of l)for(const u of c.addedNodes)if(u.nodeType===Node.ELEMENT_NODE&&u.slot===e){n(),Vn(()=>o(u));return}}),i.observe(t,{childList:!0}));const o=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{n();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},s=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:s}},Uz=(t,e,n)=>{const i=t==null?0:t.toString().length,r=zz(i,e);if(n===void 0)return r;try{return n(i,e)}catch(o){return Y$("Exception in provided `counterFormatter`.",o),r}},zz=(t,e)=>`${t} / ${e}`;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vz=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",jz=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative;z-index:1}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}",Hz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.ionInput=xe(this,"ionInput",7),this.ionChange=xe(this,"ionChange",7),this.ionBlur=xe(this,"ionBlur",7),this.ionFocus=xe(this,"ionFocus",7),this.ionStyle=xe(this,"ionStyle",7),this.inputId=`ion-input-${qz++}`,this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const n=e.target;n&&(this.value=n.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:e:eB(e,n)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Mp(this.el)),Lp(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=zU(e),this.slotMutationController=Bz(e,"label",()=>Wa(this)),this.notchController=Fz(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&e.key!=="Enter"&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n}=this;return[$("div",{class:"helper-text"},e),$("div",{class:"error-text"},n)]}renderCounter(){const{counter:e,maxlength:n,counterFormatter:i,value:r}=this;if(!(e!==!0||n===void 0))return $("div",{class:"counter"},Uz(r,n,i))}renderBottomContent(){const{counter:e,helperText:n,errorText:i,maxlength:r}=this;if(!(!(n||i)&&!(e===!0&&r!==void 0)))return $("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return $("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?$("slot",{name:"label"}):$("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return ye(this)==="md"&&this.fill==="outline"?[$("div",{class:"input-outline-container"},$("div",{class:"input-outline-start"}),$("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},$("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),$("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:n,readonly:i,shape:r,inputId:o,labelPlacement:s}=this,a=ye(this),l=this.getValue(),c=An("ion-item",this.el),u=a==="md"&&n!=="outline"&&!c;return $(at,{class:ki(this.color,{[a]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,[`input-fill-${n}`]:n!==void 0,[`input-shape-${r}`]:r!==void 0,[`input-label-placement-${s}`]:!0,"in-item":c,"in-item-color":An("ion-item.ion-color",this.el),"input-disabled":e})},$("label",{class:"input-wrapper"},this.renderLabelContainer(),$("div",{class:"native-wrapper"},$("input",Object.assign({class:"native-input",ref:d=>this.nativeInput=d,id:o,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:l,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&$("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:d=>{d.preventDefault()},onClick:this.clearTextInput},$("ion-icon",{"aria-hidden":"true",icon:a==="ios"?Ek:Ik}))),u&&$("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(Wn(`ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.

Example: <ion-input label="Email"></ion-input>
Example with aria-label: <ion-input aria-label="Email"></ion-input>

For inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".

Developers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.`,this.el),this.legacy&&Wn(`ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.

Developers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.`,this.el),this.hasLoggedDeprecationWarning=!0);const e=ye(this),n=this.getValue(),i=this.inputId+"-lbl",r=N$(this.el);return r&&(r.id=i),$(at,{"aria-disabled":this.disabled?"true":null,class:ki(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":An("ion-item.ion-color",this.el)})},$("input",Object.assign({class:"native-input",ref:o=>this.nativeInput=o,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:n,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&$("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:o=>{o.preventDefault()},onClick:this.clearTextInput},$("ion-icon",{"aria-hidden":"true",icon:e==="ios"?Ek:Ik})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:Vz,md:jz}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);let qz=0;function Wz(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,Hz);break;case"ion-icon":customElements.get(e)||nw();break}})}const Gz=Wz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kz=wz,lA=1,cA=2,Ef=3;class Fy{constructor(e,n){this.component=e,this.params=n,this.state=lA}async init(e){if(this.state=cA,!this.element){const n=this.component;this.element=await Q$(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){hn(this.state!==Ef,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Ef}}const Pk=(t,e,n)=>!t||t.component!==e?!1:O$(t.params,n),Nk=(t,e)=>t?t instanceof Fy?t:new Fy(t,e):null,Qz=t=>t.map(e=>e instanceof Fy?e:"component"in e?Nk(e.component,e.componentProps===null?void 0:e.componentProps):Nk(e,void 0)).filter(e=>e!==null),Yz=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",Xz=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=xe(this,"ionNavWillLoad",7),this.ionNavWillChange=xe(this,"ionNavWillChange",3),this.ionNavDidChange=xe(this,"ionNavDidChange",3),this.transInstr=[],this.animationEnabled=!0,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=ye(this);this.swipeGesture=ve.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await qn(()=>import("./swipe-back-5a8653ab.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)tr(e.element,Og),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,i,r){return this.insert(-1,e,n,i,r)}insert(e,n,i,r,o){return this.insertPages(e,[{component:n,componentProps:i}],r,o)}insertPages(e,n,i,r){return this.queueTrns({insertStart:e,insertViews:n,opts:i},r)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,i){const r={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,i,r){return this.queueTrns({removeStart:e,removeCount:n,opts:i},r)}setRoot(e,n,i,r){return this.setPages([{component:e,componentProps:n}],i,r)}setPages(e,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(e,n,i,r){const o=this.getActiveSync();if(Pk(o,e,n))return Promise.resolve({changed:!1,element:o.element});let s;const a=new Promise(u=>s=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return s({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,n,c);else{const u=this.views.find(d=>Pk(d,e,n));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,i=n.indexOf(e);return i>0?n[i-1]:void 0}async queueTrns(e,n){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const o=new Promise((s,a)=>{e.resolve=s,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const s=document.querySelector("ion-router");if(s){const a=await s.canTransition();if(a===!1)return!1;if(typeof a=="string")return s.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),o}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),i=this.getEnteringView(e,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===lA&&await i.init(this.el),this.postViewInit(i,n,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==n;r&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let o;r?o=await this.transition(i,n,e):o={hasCompleted:!0,requiresTransition:!1},this.success(o,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,i,r;const o=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){hn(e.removeStart!==void 0,"removeView needs removeStart"),hn(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=o-1),e.removeCount<0&&(e.removeCount=o-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===o),e.insertViews&&((e.insertStart<0||e.insertStart>o)&&(e.insertStart=o),e.enteringRequiresTransition=e.insertStart===o);const s=e.insertViews;if(!s)return;hn(s.length>0,"length can not be zero");const a=Qz(s);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Ef)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const o=this.views,s=r+e.removeCount;for(let a=o.length-1;a>=0;a--){const l=o[a];if((a<r||a>=s)&&l!==n)return l}}}postViewInit(e,n,i){var r,o,s;hn(n||e,"Both leavingView and enteringView are null"),hn(i.resolve,"resolve must be valid"),hn(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){hn(c>=0,"removeStart can not be negative"),hn(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const p=this.views[f];p!==void 0&&p!==e&&p!==n&&d.push(p)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((o=l==null?void 0:l.length)!==null&&o!==void 0?o:0)-(u!=null?u:0);if(hn(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=i.insertStart;for(const p of l)this.insertViewAt(p,f),f++;i.enteringRequiresTransition&&((s=a.direction)!==null&&s!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)tr(f.element,L$),tr(f.element,M$),tr(f.element,Og);for(const f of d)this.destroyView(f)}}async transition(e,n,i){const r=i.opts,o=r.progressAnimation?d=>this.sbAni=d:void 0,s=ye(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:o,animated:this.animated&&ve.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||ve.get("navAnimation")}),{hasCompleted:u}=await F$(c);return this.transitionFinish(u,e,n,r)}transitionFinish(e,n,i,r){const o=e?n:i;return o&&this.unmountInactiveViews(o),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:i,direction:r.direction}}insertViewAt(e,n){const i=this.views,r=i.indexOf(e);r>-1?(hn(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(n,0,e)):(hn(!e.nav,"nav is used"),e.nav=this,i.splice(n,0,e))}removeView(e){hn(e.state===cA||e.state===Ef,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(e);hn(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,i=n.indexOf(e);for(let r=n.length-1;r>=0;r--){const o=n[r],s=o.element;s&&(r>i?(tr(s,Og),this.destroyView(o)):r<i&&Ty(s,!0))}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.animationEnabled&&this.canGoBackSync()}onStart(){this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,i){if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish(()=>{this.animationEnabled=!0},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=xf([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=xf([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,r,i)}}render(){return $("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return Yz}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);function Jz(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,Xz);break}})}const Zz=Jz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const e3=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",t3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return $(at,{class:ye(this)},$("slot",null))}static get style(){return e3}},[1,"ion-row"]);function n3(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,t3);break}})}const i3=n3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const r3=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;padding-bottom:6px;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",o3=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}",s3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=xe(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=ye(this),n=this.getSize();return $(at,{class:ki(this.color,{[e]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},$("div",{class:"toolbar-title"},$("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:r3,md:o3}}},[33,"ion-title",{color:[513],size:[1]}]);function a3(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,s3);break}})}const l3=a3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const c3=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",u3=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",d3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(o=>o.slot==="end")||i.find(o=>o.slot==="primary")||i.find(o=>o.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,i=e.detail,r={},o=this.childrenStyles.get(n)||{};let s=!1;Object.keys(i).forEach(a=>{const l=`toolbar-${a}`,c=i[a];c!==o[l]&&(s=!0),c&&(r[l]=!0)}),s&&(this.childrenStyles.set(n,r),Wa(this))}render(){const e=ye(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),$(at,{class:Object.assign(Object.assign({},n),ki(this.color,{[e]:!0,"in-toolbar":An("ion-toolbar",this.el)}))},$("div",{class:"toolbar-background"}),$("div",{class:"toolbar-container"},$("slot",{name:"start"}),$("slot",{name:"secondary"}),$("div",{class:"toolbar-content"},$("slot",null)),$("slot",{name:"primary"}),$("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:c3,md:u3}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function h3(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,d3);break}})}const f3=h3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const p3=fz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m3=gz;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const g3=(t,e)=>{const n=vr(),i=vr(),o=Yu(t).querySelector(".toast-wrapper"),s="calc(-10px - var(--ion-safe-area-bottom, 0px))",a="calc(10px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":i.fromTo("transform","translateY(-100%)",`translateY(${a})`);break;case"middle":const l=Math.floor(t.clientHeight/2-o.clientHeight/2);o.style.top=`${l}px`,i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)",`translateY(${s})`);break}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)},v3=(t,e)=>{const n=vr(),i=vr(),o=Yu(t).querySelector(".toast-wrapper"),s="calc(-10px - var(--ion-safe-area-bottom, 0px))",a="calc(10px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":i.fromTo("transform",`translateY(${a})`,"translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform",`translateY(${s})`,"translateY(100%)");break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)},y3=(t,e)=>{const n=vr(),i=vr(),o=Yu(t).querySelector(".toast-wrapper"),s="calc(8px + var(--ion-safe-area-bottom, 0px))",a="calc(8px + var(--ion-safe-area-top, 0px))";switch(i.addElement(o),e){case"top":o.style.top=a,i.fromTo("opacity",.01,1);break;case"middle":const l=Math.floor(t.clientHeight/2-o.clientHeight/2);o.style.top=`${l}px`,i.fromTo("opacity",.01,1);break;default:o.style.bottom=s,i.fromTo("opacity",.01,1);break}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)},b3=t=>{const e=vr(),n=vr(),r=Yu(t).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},w3=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}:host(.ion-color.toast-translucent) .toast-wrapper{background:rgba(var(--ion-color-base-rgb), 0.8)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:15px;padding-bottom:15px}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",_3=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}@supports (inset-inline-start: 0){.toast-wrapper{inset-inline-start:var(--start);inset-inline-end:var(--end)}}@supports not (inset-inline-start: 0){.toast-wrapper{left:var(--start);right:var(--end)}:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}[dir=rtl] .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}@supports selector(:dir(rtl)){.toast-wrapper:dir(rtl){left:unset;right:unset;left:var(--end);right:var(--start)}}}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{-webkit-margin-start:16px;margin-inline-start:16px}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}.toast-content{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:14px;padding-bottom:14px}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-layout-baseline .toast-button-group-start{-webkit-margin-start:8px;margin-inline-start:8px}.toast-layout-stacked .toast-button-group-start{-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px}.toast-layout-baseline .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px}.toast-layout-stacked .toast-button-group-end{-webkit-margin-end:8px;margin-inline-end:8px;margin-bottom:8px}.toast-button{-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}",x3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=xe(this,"ionToastDidPresent",7),this.willPresent=xe(this,"ionToastWillPresent",7),this.willDismiss=xe(this,"ionToastWillDismiss",7),this.didDismiss=xe(this,"ionToastDidDismiss",7),this.didPresentShorthand=xe(this,"didPresent",7),this.willPresentShorthand=xe(this,"willPresent",7),this.willDismissShorthand=xe(this,"willDismiss",7),this.didDismissShorthand=xe(this,"didDismiss",7),this.delegateController=vU(this),this.triggerController=yU(),this.customHTMLEnabled=ve.get("innerHTMLTemplatesEnabled",KB),this.presented=!1,this.dispatchCancelHandler=e=>{const n=e.detail.role;if(xk(n)){const i=this.getButtons().find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.revealContentToScreenReader=!1,this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.color=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.duration=ve.getNumber("toastDuration",0),this.header=void 0,this.layout="baseline",this.message=void 0,this.keyboardClose=!1,this.position="bottom",this.buttons=void 0,this.translucent=!1,this.animated=!0,this.icon=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:n,triggerController:i}=this;e&&i.addClickListener(n,e)}connectedCallback(){iU(this.el),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){rU(this.el)}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=cU(this,"toastEnter",g3,y3,this.position),await this.currentTransition,this.revealContentToScreenReader=!0,this.currentTransition=void 0,this.duration>0&&(this.durationTimeout=setTimeout(()=>this.dismiss(void 0,"timeout"),this.duration))}async dismiss(e,n){this.durationTimeout&&clearTimeout(this.durationTimeout),this.currentTransition=dU(this,e,n,"toastLeave",v3,b3,this.position);const i=await this.currentTransition;return i&&(this.delegateController.removeViewFromDom(),this.revealContentToScreenReader=!1),i}onDidDismiss(){return _k(this.el,"ionToastDidDismiss")}onWillDismiss(){return _k(this.el,"ionToastWillDismiss")}getButtons(){return this.buttons?this.buttons.map(n=>typeof n=="string"?{text:n}:n):[]}async buttonClick(e){const n=e.role;return xk(n)?this.dismiss(void 0,n):await this.callButtonHandler(e)?this.dismiss(void 0,n):Promise.resolve()}async callButtonHandler(e){if(e!=null&&e.handler)try{if(await mU(e.handler)===!1)return!1}catch(n){console.error(n)}return!0}renderButtons(e,n){if(e.length===0)return;const i=ye(this),r={"toast-button-group":!0,[`toast-button-group-${n}`]:!0};return $("div",{class:r},e.map(o=>$("button",{type:"button",class:k3(o),tabIndex:0,onClick:()=>this.buttonClick(o),part:"button"},$("div",{class:"toast-button-inner"},o.icon&&$("ion-icon",{"aria-hidden":"true",icon:o.icon,slot:o.text===void 0?"icon-only":void 0,class:"toast-button-icon"}),o.text),i==="md"&&$("ion-ripple-effect",{type:o.icon!==void 0&&o.text===void 0?"unbounded":"bounded"}))))}renderToastMessage(e,n=null){const{customHTMLEnabled:i,message:r}=this;return i?$("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message",innerHTML:jB(r)}):$("div",{key:e,"aria-hidden":n,class:"toast-message",part:"message"},r)}renderHeader(e,n=null){return $("div",{key:e,class:"toast-header","aria-hidden":n,part:"header"},this.header)}render(){const{layout:e,el:n,revealContentToScreenReader:i,header:r,message:o}=this,s=this.getButtons(),a=s.filter(d=>d.side==="start"),l=s.filter(d=>d.side!=="start"),c=ye(this),u={"toast-wrapper":!0,[`toast-${this.position}`]:!0,[`toast-layout-${e}`]:!0};return e==="stacked"&&a.length>0&&l.length>0&&Wn("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),$(at,Object.assign({tabindex:"-1"},this.htmlAttributes,{style:{zIndex:`${6e4+this.overlayIndex}`},class:ki(this.color,Object.assign(Object.assign({[c]:!0},nA(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),$("div",{class:u},$("div",{class:"toast-container",part:"container"},this.renderButtons(a,"start"),this.icon!==void 0&&$("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),$("div",{class:"toast-content",role:"status","aria-atomic":"true","aria-live":"polite"},!i&&r!==void 0&&this.renderHeader("oldHeader","true"),!i&&o!==void 0&&this.renderToastMessage("oldMessage","true"),i&&r!==void 0&&this.renderHeader("header"),i&&o!==void 0&&this.renderToastMessage("header")),this.renderButtons(l,"end"))))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:w3,md:_3}}},[33,"ion-toast",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],revealContentToScreenReader:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),k3=t=>Object.assign({"toast-button":!0,"toast-button-icon-only":t.icon!==void 0&&t.text===void 0,[`toast-button-${t.role}`]:t.role!==void 0,"ion-focusable":!0,"ion-activatable":!0},nA(t.cssClass));function E3(){if(typeof customElements>"u")return;["ion-toast","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,x3);break;case"ion-icon":customElements.get(e)||nw();break;case"ion-ripple-effect":customElements.get(e)||rw();break}})}const I3=E3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ok;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Ok||(Ok={}));const S3="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",T3=lt(class extends ct{constructor(){super(),this.__registerHost()}componentDidLoad(){$3(async()=>{const e=Hr(window,"hybrid");if(ve.getBoolean("_testing")||qn(()=>import("./index9-91acd3e6.js"),[]).then(i=>i.startTapClick(ve)),ve.getBoolean("statusTap",e)&&qn(()=>import("./status-tap-4adccd77.js"),[]).then(i=>i.startStatusTap()),ve.getBoolean("inputShims",C3())){const i=Hr(window,"ios")?"ios":"android";qn(()=>import("./input-shims-d78a8b25.js"),[]).then(r=>r.startInputShims(ve,i))}const n=await qn(()=>Promise.resolve().then(()=>JB),void 0);ve.getBoolean("hardwareBackButton",e)?n.startHardwareBackButton():n.blockHardwareBackButton(),typeof window<"u"&&qn(()=>import("./keyboard2-2f0c9594.js"),[]).then(i=>i.startKeyboardAssist(window)),qn(()=>import("./focus-visible-9c13edeb.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=ye(this);return $(at,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":ve.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return S3}},[0,"ion-app",{setFocus:[64]}]),C3=()=>!!(Hr(window,"ios")&&Hr(window,"mobile")||Hr(window,"android")&&Hr(window,"mobileweb")),$3=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function A3(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,T3);break}})}const R3=A3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D3=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',P3=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',N3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):iw(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Mp(this.el),this.defaultHref===void 0&&(this.defaultHref=ve.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:ye(this)==="ios"?ve.get("backButtonIcon",wU):ve.get("backButtonIcon",bU)}get backButtonText(){const e=ye(this)==="ios"?"Back":null;return this.text!=null?this.text:ve.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:i,type:r,hasIconOnly:o,backButtonIcon:s,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=n!==void 0,d=ye(this),h=c["aria-label"]||a||"back";return $(at,{onClick:this.onClick,class:ki(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":o,"in-toolbar":An("ion-toolbar",this.el),"in-toolbar-color":An("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},$("button",{type:r,disabled:i,class:"button-native",part:"native","aria-label":h},$("span",{class:"button-inner"},s&&$("ion-icon",{part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&$("span",{part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&$("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:D3,md:P3}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function O3(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,N3);break;case"ion-icon":customElements.get(e)||nw();break;case"ion-ripple-effect":customElements.get(e)||rw();break}})}const L3=O3,M3=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",F3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=xe(this,"ionNavWillLoad",7),this.ionNavWillChange=xe(this,"ionNavWillChange",3),this.ionNavDidChange=xe(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=ye(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await qn(()=>import("./swipe-back-5a8653ab.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let o=n?-.001:.001;n?o+=xf([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),o+=xf([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,o,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,i){const r=await this.lock();let o=!1;try{o=await this.transition(e,n,i)}catch(s){console.error(s)}return r(),o}async setRouteId(e,n,i,r){return{changed:await this.setRoot(e,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,i){if(this.activeComponent===e&&O$(n,this.activeParams))return!1;const r=this.activeEl,o=await Q$(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=o,this.activeParams=n,await this.commit(o,r,i),await ZB(this.delegate,r),!0}async transition(e,n,i={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:o}=this,s=this.animated&&ve.getBoolean("animated",!0),a=i.animationBuilder||this.animation||ve.get("navAnimation");return await F$(Object.assign(Object.assign({mode:o,animated:s,enteringEl:e,leavingEl:n,baseEl:r,deepWait:K4(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let n;return this.waitPromise=new Promise(i=>n=i),e!==void 0&&await e,n}render(){return $("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return M3}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);function B3(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,F3);break}})}const U3=B3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z3=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",V3=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",j3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=xe(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await aA(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:n,keyboardVisible:i}=this,r=ye(this),o=i&&this.el.getAttribute("slot")!=="top";return $(at,{role:"tablist","aria-hidden":o?"true":null,class:ki(e,{[r]:!0,"tab-bar-translucent":n,"tab-bar-hidden":o})},$("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:z3,md:V3}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);function H3(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,j3);break}})}const q3=H3;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W3=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',G3=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',K3=lt(class extends ct{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=xe(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Lp(this.el,["aria-label"])),this.layout===void 0&&(this.layout=ve.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:i,href:r,rel:o,target:s,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=ye(this),h={download:this.download,href:r,rel:o,target:s};return $(at,{onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?`tab-button-${c}`:null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,[`tab-layout-${a}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},$("a",Object.assign({},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),$("span",{class:"button-inner"},$("slot",null)),d==="md"&&$("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:W3,md:G3}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function Q3(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,K3);break;case"ion-ripple-effect":customElements.get(e)||rw();break}})}const Y3=Q3,Js={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Zs,uA,Bp,dA=!1,If=!1,aw=!1,Tn=!1,Lk=null,By=!1;const X3=t=>{const e=new URL(t,nn.$resourcesUrl$);return e.origin!==Ju.location.origin?e.href:e.pathname},us=(t,e="")=>()=>{},Mk="http://www.w3.org/1999/xlink",Fk={},J3="http://www.w3.org/2000/svg",Z3="http://www.w3.org/1999/xhtml",eV=t=>t!=null,lw=t=>(t=typeof t,t==="object"||t==="function");function tV(t){var e,n,i;return(i=(n=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const Rc=(t,e,...n)=>{let i=null,r=null,o=null,s=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((s=typeof t!="function"&&!lw(i))&&(i=String(i)),s&&a?l[l.length-1].$text$+=i:l.push(s?Sf(null,i):i),a=s)};if(c(n),e){e.key&&(r=e.key),e.name&&(o=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,iV);const u=Sf(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=o,u},Sf=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},hA={},nV=t=>t&&t.$tag$===hA,iV={forEach:(t,e)=>t.map(Bk).forEach(e),map:(t,e)=>t.map(Bk).map(e).map(rV)},Bk=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),rV=t=>{if(typeof t.vtag=="function"){const n=Object.assign({},t.vattrs);return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Rc(t.vtag,n,...t.vchildren||[])}const e=Sf(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},oV=t=>RV.map(e=>e(t)).find(e=>!!e),sV=(t,e)=>t!=null&&!lw(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,Uk=new WeakMap,aV=(t,e,n)=>{let i=Cf.get(t);OV&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Cf.set(t,i)},lV=(t,e,n,i)=>{var r;let o=fA(e,n);const s=Cf.get(o);if(t=t.nodeType===11?t:wi,s)if(typeof s=="string"){t=t.head||t;let a=Uk.get(t),l;if(a||Uk.set(t,a=new Set),!a.has(o)){{l=wi.createElement("style"),l.innerHTML=s;const c=(r=nn.$nonce$)!==null&&r!==void 0?r:tV(wi);c!=null&&l.setAttribute("nonce",c),t.insertBefore(l,t.querySelector("link"))}a&&a.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return o},cV=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,i=e.$flags$,r=us("attachStyles",e.$tagName$),o=lV(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);i&10&&(n["s-sc"]=o,n.classList.add(o+"-h"),i&2&&n.classList.add(o+"-s")),r()},fA=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),zk=(t,e,n,i,r,o)=>{if(n!==i){let s=qk(t,e),a=e.toLowerCase();if(e==="class"){const l=t.classList,c=Vk(n),u=Vk(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in n)(!i||i[l]==null)&&(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(const l in i)(!n||i[l]!==n[l])&&(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):qk(Ju,a)?e=a.slice(2):e=a[2]+e.slice(3),n&&nn.rel(t,e,n,!1),i&&nn.ael(t,e,i,!1);else{const l=lw(i);if((s||l&&i!==null)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{const u=i==null?"":i;e==="list"?s=!1:(n==null||t[e]!=u)&&(t[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||t.getAttribute(e)==="")&&(c?t.removeAttributeNS(Mk,e):t.removeAttribute(e)):(!s||o&4||r)&&!l&&(i=i===!0?"":i,c?t.setAttributeNS(Mk,e,i):t.setAttribute(e,i))}}},uV=/\s/,Vk=t=>t?t.split(uV):[],pA=(t,e,n,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||Fk,s=e.$attrs$||Fk;for(i in o)i in s||zk(r,i,o[i],void 0,n,e.$flags$);for(i in s)zk(r,i,o[i],s[i],n,e.$flags$)},Tf=(t,e,n,i)=>{const r=e.$children$[n];let o=0,s,a,l;if(dA||(aw=!0,r.$tag$==="slot"&&(Zs&&i.classList.add(Zs+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)s=r.$elm$=wi.createTextNode(r.$text$);else if(r.$flags$&1)s=r.$elm$=wi.createTextNode("");else{if(Tn||(Tn=r.$tag$==="svg"),s=r.$elm$=wi.createElementNS(Tn?J3:Z3,r.$flags$&2?"slot-fb":r.$tag$),Tn&&r.$tag$==="foreignObject"&&(Tn=!1),pA(null,r,Tn),eV(Zs)&&s["s-si"]!==Zs&&s.classList.add(s["s-si"]=Zs),r.$children$)for(o=0;o<r.$children$.length;++o)a=Tf(t,r,o,s),a&&s.appendChild(a);r.$tag$==="svg"?Tn=!1:s.tagName==="foreignObject"&&(Tn=!0)}return s["s-hn"]=Bp,r.$flags$&3&&(s["s-sr"]=!0,s["s-cr"]=uA,s["s-sn"]=r.$name$||"",l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===r.$tag$&&t.$elm$&&cu(t.$elm$,!1)),s},cu=(t,e)=>{nn.$flags$|=1;const n=t.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];r["s-hn"]!==Bp&&r["s-ol"]&&(vA(r).insertBefore(r,cw(r)),r["s-ol"].remove(),r["s-ol"]=void 0,aw=!0),e&&cu(r,e)}nn.$flags$&=-2},mA=(t,e,n,i,r,o)=>{let s=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(s.shadowRoot&&s.tagName===Bp&&(s=s.shadowRoot);r<=o;++r)i[r]&&(a=Tf(null,n,r,t),a&&(i[r].$elm$=a,s.insertBefore(a,cw(e))))},gA=(t,e,n,i,r)=>{for(;e<=n;++e)(i=t[e])&&(r=i.$elm$,wA(i),If=!0,r["s-ol"]?r["s-ol"].remove():cu(r,!0),r.remove())},dV=(t,e,n,i)=>{let r=0,o=0,s=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],p,m;for(;r<=l&&o<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++o];else if(f==null)f=i[--d];else if(ih(c,h))ea(c,h),c=e[++r],h=i[++o];else if(ih(u,f))ea(u,f),u=e[--l],f=i[--d];else if(ih(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&cu(c.$elm$.parentNode,!1),ea(c,f),t.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(ih(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&cu(u.$elm$.parentNode,!1),ea(u,h),t.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++o];else{for(s=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){s=a;break}s>=0?(m=e[s],m.$tag$!==h.$tag$?p=Tf(e&&e[o],n,s,t):(ea(m,h),e[s]=void 0,p=m.$elm$),h=i[++o]):(p=Tf(e&&e[o],n,o,t),h=i[++o]),p&&vA(c.$elm$).insertBefore(p,cw(c.$elm$))}r>l?mA(t,i[d+1]==null?null:i[d+1].$elm$,n,i,o,d):o>d&&gA(e,r,l)},ih=(t,e)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:t.$key$===e.$key$:!1,cw=t=>t&&t["s-ol"]||t,vA=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,ea=(t,e)=>{const n=e.$elm$=t.$elm$,i=t.$children$,r=e.$children$,o=e.$tag$,s=e.$text$;let a;s===null?(Tn=o==="svg"?!0:o==="foreignObject"?!1:Tn,o==="slot"||pA(t,e,Tn),i!==null&&r!==null?dV(n,i,e,r):r!==null?(t.$text$!==null&&(n.textContent=""),mA(n,null,e,r,0,r.length-1)):i!==null&&gA(i,0,i.length-1),Tn&&o==="svg"&&(Tn=!1)):(a=n["s-cr"])?a.parentNode.textContent=s:t.$text$!==s&&(n.data=s)},yA=t=>{const e=t.childNodes;let n,i,r,o,s,a;for(i=0,r=e.length;i<r;i++)if(n=e[i],n.nodeType===1){if(n["s-sr"]){for(s=n["s-sn"],n.hidden=!1,o=0;o<r;o++)if(a=e[o].nodeType,e[o]["s-hn"]!==n["s-hn"]||s!==""){if(a===1&&s===e[o].getAttribute("slot")){n.hidden=!0;break}}else if(a===1||a===3&&e[o].textContent.trim()!==""){n.hidden=!0;break}}yA(n)}},hi=[],bA=t=>{let e,n,i,r,o,s,a=0;const l=t.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(n=e["s-cr"])&&n.parentNode)for(i=n.parentNode.childNodes,r=e["s-sn"],s=i.length-1;s>=0;s--)n=i[s],!n["s-cn"]&&!n["s-nr"]&&n["s-hn"]!==e["s-hn"]&&(jk(n,r)?(o=hi.find(u=>u.$nodeToRelocate$===n),If=!0,n["s-sn"]=n["s-sn"]||r,o?o.$slotRefNode$=e:hi.push({$slotRefNode$:e,$nodeToRelocate$:n}),n["s-sr"]&&hi.map(u=>{jk(u.$nodeToRelocate$,n["s-sn"])&&(o=hi.find(d=>d.$nodeToRelocate$===n),o&&!u.$slotRefNode$&&(u.$slotRefNode$=o.$slotRefNode$))})):hi.some(u=>u.$nodeToRelocate$===n)||hi.push({$nodeToRelocate$:n}));e.nodeType===1&&bA(e)}},jk=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",wA=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(wA)},hV=(t,e)=>{const n=t.$hostElement$,i=t.$cmpMeta$,r=t.$vnode$||Sf(null,null),o=nV(e)?e:Rc(null,null,e);Bp=n.tagName,i.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},i.$attrsToReflect$.map(([s,a])=>o.$attrs$[a]=n[s])),o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=r.$elm$=n.shadowRoot||n,Zs=n["s-sc"],uA=n["s-cr"],dA=(i.$flags$&1)!==0,If=!1,ea(r,o);{if(nn.$flags$|=1,aw){bA(o.$elm$);let s,a,l,c,u,d,h=0;for(;h<hi.length;h++)s=hi[h],a=s.$nodeToRelocate$,a["s-ol"]||(l=wi.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<hi.length;h++)if(s=hi[h],a=s.$nodeToRelocate$,s.$slotRefNode$){for(c=s.$slotRefNode$.parentNode,u=s.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}If&&yA(o.$elm$),nn.$flags$&=-2,hi.length=0}},fV=(t,e)=>{},_A=(t,e)=>(t.$flags$|=16,fV(t,t.$ancestorComponent$),FV(()=>pV(t,e))),pV=(t,e)=>{const n=t.$hostElement$,i=us("scheduleUpdate",t.$cmpMeta$.$tagName$),r=n;let o;return e?o=Ca(r,"componentWillLoad"):o=Ca(r,"componentWillUpdate"),o=Hk(o,()=>Ca(r,"componentWillRender")),i(),Hk(o,()=>mV(t,r,e))},mV=async(t,e,n)=>{const i=t.$hostElement$,r=us("update",t.$cmpMeta$.$tagName$);i["s-rc"],n&&cV(t);const o=us("render",t.$cmpMeta$.$tagName$);gV(t,e,i),o(),r(),vV(t)},gV=(t,e,n)=>{try{Lk=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(Js.hasRenderFn||Js.reflect)&&(Js.vdomRender||Js.reflect)&&(Js.hydrateServerSide||hV(t,e))}catch(a){Xu(a,t.$hostElement$)}return Lk=null,null},vV=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,i=us("postUpdate",e),r=n;t.$ancestorComponent$,Ca(r,"componentDidRender"),t.$flags$&64?(Ca(r,"componentDidUpdate"),i()):(t.$flags$|=64,Ca(r,"componentDidLoad"),i())},Ca=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(i){Xu(i)}},Hk=(t,e)=>t&&t.then?t.then(e):e(),yV=(t,e)=>Up(t).$instanceValues$.get(e),bV=(t,e,n,i)=>{const r=Up(t),o=t,s=r.$instanceValues$.get(e),a=r.$flags$,l=o;n=sV(n,i.$members$[e][0]);const c=Number.isNaN(s)&&Number.isNaN(n);if(n!==s&&!c){r.$instanceValues$.set(e,n);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](n,s,e)}catch(f){Xu(f,o)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,s,e)===!1)return;_A(r,!1)}}}},wV=(t,e,n)=>{if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);const i=Object.entries(e.$members$),r=t.prototype;i.map(([o,[s]])=>{(s&31||s&32)&&Object.defineProperty(r,o,{get(){return yV(this,o)},set(a){bV(this,o,a,e)},configurable:!0,enumerable:!0})});{const o=new Map;r.attributeChangedCallback=function(s,a,l){nn.jmp(()=>{const c=o.get(s);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},t.observedAttributes=i.filter(([s,a])=>a[0]&15).map(([s,a])=>{const l=a[1]||s;return o.set(l,s),a[0]&512&&e.$attrsToReflect$.push([s,l]),l})}}return t},_V=async(t,e,n,i,r)=>{if(!(e.$flags$&32)&&(r=t.constructor,e.$flags$|=32,customElements.whenDefined(n.$tagName$).then(()=>e.$flags$|=128),r.style)){let s=r.style;typeof s!="string"&&(s=s[e.$modeName$=oV(t)]);const a=fA(n,e.$modeName$);if(!Cf.has(a)){const l=us("registerStyles",n.$tagName$);aV(a,s,!!(n.$flags$&1)),l()}}e.$ancestorComponent$,(()=>_A(e,!0))()},xV=t=>{},kV=t=>{if(!(nn.$flags$&1)){const e=Up(t),n=e.$cmpMeta$,i=us("connectedCallback",n.$tagName$);e.$flags$&1?(xA(t,e,n.$listeners$),xV(e.$lazyInstance$)):(e.$flags$|=1,n.$flags$&12&&EV(t),n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const s=t[r];delete t[r],t[r]=s}}),_V(t,e,n)),i()}},EV=t=>{const e=t["s-cr"]=wi.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},IV=t=>{if(!(nn.$flags$&1)){const e=Up(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},SV=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const i=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){AV(this,n)},connectedCallback(){kV(this),i&&i.call(this)},disconnectedCallback(){IV(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),t.is=n.$tagName$,wV(t,n)},xA=(t,e,n,i)=>{n&&n.map(([r,o,s])=>{const a=CV(t,r),l=TV(e,s),c=$V(r);nn.ael(a,o,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>nn.rel(a,o,l,c))})},TV=(t,e)=>n=>{try{Js.lazyLoad||t.$hostElement$[e](n)}catch(i){Xu(i)}},CV=(t,e)=>e&4?wi:e&8?Ju:e&16?wi.body:t,$V=t=>PV?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,kA=new WeakMap,Up=t=>kA.get(t),AV=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return xA(t,n,e.$listeners$),kA.set(t,n)},qk=(t,e)=>e in t,Xu=(t,e)=>(0,console.error)(t,e),Cf=new Map,RV=[],Ju=typeof window<"u"?window:{},wi=Ju.document||{head:{}},DV=Ju.HTMLElement||class{},nn={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,i)=>t.addEventListener(e,n,i),rel:(t,e,n,i)=>t.removeEventListener(e,n,i),ce:(t,e)=>new CustomEvent(t,e)},PV=(()=>{let t=!1;try{wi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch(e){}return t})(),NV=t=>Promise.resolve(t),OV=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(t){}return!1})(),Wk=[],EA=[],LV=(t,e)=>n=>{t.push(n),By||(By=!0,e&&nn.$flags$&4?MV(Uy):nn.raf(Uy))},Gk=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Xu(n)}t.length=0},Uy=()=>{Gk(Wk),Gk(EA),(By=Wk.length>0)&&nn.raf(Uy)},MV=t=>NV().then(t),FV=LV(EA,!0);let Bg;const BV=()=>{if(typeof window>"u")return new Map;if(!Bg){const t=window;t.Ionicons=t.Ionicons||{},Bg=t.Ionicons.map=t.Ionicons.map||new Map}return Bg},UV=t=>{let e=Ug(t.src);return e||(e=IA(t.name,t.icon,t.mode,t.ios,t.md),e?zV(e):t.icon&&(e=Ug(t.icon),e||(e=Ug(t.icon[t.mode]),e))?e:null)},zV=t=>{const e=BV().get(t);return e||X3(`svg/${t}.svg`)},IA=(t,e,n,i,r)=>(n=(n&&rh(n))==="ios"?"ios":"md",i&&n==="ios"?t=rh(i):r&&n==="md"?t=rh(r):(!t&&e&&!SA(e)&&(t=e),$f(t)&&(t=rh(t))),!$f(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Ug=t=>$f(t)&&(t=t.trim(),SA(t))?t:null,SA=t=>t.length>0&&/(\/|\.)/.test(t),$f=t=>typeof t=="string",rh=t=>t.toLowerCase(),VV=(t,e=[])=>{const n={};return e.forEach(i=>{t.hasAttribute(i)&&(t.getAttribute(i)!==null&&(n[i]=t.getAttribute(i)),t.removeAttribute(i))}),n},jV=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",HV=t=>{const e=document.createElement("div");e.innerHTML=t;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),TA(n))return e.innerHTML}return""},TA=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if($f(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!TA(t.childNodes[e]))return!1}return!0},qV=t=>t.startsWith("data:image/svg+xml"),WV=t=>t.indexOf(";utf8,")!==-1,qo=new Map,Kk=new Map;let zg;const GV=(t,e)=>{let n=Kk.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(qV(t)&&WV(t)){zg||(zg=new DOMParser);const r=zg.parseFromString(t,"text/html").querySelector("svg");return r&&qo.set(t,r.outerHTML),Promise.resolve()}else n=fetch(t).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=HV(r)),qo.set(t,r||"")});qo.set(t,"")}),Kk.set(t,n);else return qo.set(t,""),Promise.resolve();return n},KV=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",QV=SV(class extends DV{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=YV(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=VV(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,e,n){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(i.disconnect(),this.io=void 0,n())},{rootMargin:e});i.observe(t)}else n()}loadIcon(){if(this.isVisible){const t=UV(this);t&&(qo.has(t)?this.svgContent=qo.get(t):GV(t,this.sanitize).then(()=>this.svgContent=qo.get(t)))}this.iconName=IA(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:e,inheritedAttributes:n,el:i}=this,r=this.mode||"md",o=e?(e.includes("arrow")||e.includes("chevron"))&&t!==!1:!1,s=t||o;return Rc(hA,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},XV(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&jV(i)})},n),this.svgContent?Rc("div",{class:"icon-inner",innerHTML:this.svgContent}):Rc("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return KV}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),YV=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",XV=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function JV(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,QV);break}})}const ZV=JV,uw=I.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),e6=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>t())}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>t())}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>t())}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>t()),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Qi=I.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),dw=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),zp=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),hw=(t,e,n={})=>{if(t instanceof Element){const i=t6(t.classList,e,n);i!==""&&(t.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const o=r.substring(2),s=o[0].toLowerCase()+o.substring(1);Zu(s)||i6(t,s,e[r])}else t[r]=e[r],typeof e[r]==="string"&&t.setAttribute(zp(r),e[r])})}},t6=(t,e,n)=>{const i=e.className||e.class,r=n.className||n.class,o=Vg(t),s=Vg(i?i.split(" "):[]),a=Vg(r?r.split(" "):[]),l=[];return o.forEach(c=>{s.has(c)?(l.push(c),s.delete(c)):a.has(c)||l.push(c)}),s.forEach(c=>l.push(c)),l.join(" ")},n6=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Zu=t=>{if(typeof document>"u")return!0;{const e="on"+n6(t);let n=e in document;if(!n){const i=document.createElement("div");i.setAttribute(e,"return;"),n=typeof i[e]=="function"}return n}},i6=(t,e,n)=>{const i=t.__events||(t.__events={}),r=i[e];r&&t.removeEventListener(e,r),t.addEventListener(e,i[e]=function(s){n&&n.call(this,s)})},Vg=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},r6=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},Vp=(...t)=>e=>{t.forEach(n=>{r6(n,e)})},o6=(t,e)=>{const n=(i,r)=>I.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,I.forwardRef(n)},s6=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},qt=(t,e,n,i)=>{i!==void 0&&i();const r=dw(t),o=class extends I.Component{constructor(s){super(s),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){hw(this.componentEl,this.props,s)}render(){const s=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=s,h=mt(s,["children","forwardedRef","style","className","ref"]);let f=Object.keys(h).reduce((m,b)=>{const v=h[b];if(b.indexOf("on")===0&&b[2]===b[2].toUpperCase()){const g=b.substring(2).toLowerCase();typeof document<"u"&&Zu(g)&&(m[b]=v)}else{const g=typeof v;(g==="string"||g==="boolean"||g==="number")&&(m[zp(b)]=v)}return m},{});n&&(f=n(this.props,f));const p=Object.assign(Object.assign({},f),{ref:Vp(l,this.setComponentElRef),style:c});return we.createElement(t,p,a)}static get displayName(){return r}};return e&&(o.contextType=e),o6(o,r)},Yl=qt("ion-buttons",void 0,void 0,UU),jg=qt("ion-col",void 0,void 0,nz),fw=qt("ion-content",void 0,void 0,uz),a6=qt("ion-footer",void 0,void 0,Tz),ed=qt("ion-header",void 0,void 0,Mz),zy=qt("ion-input",void 0,void 0,Gz),Vy=qt("ion-label",void 0,void 0,Kz),l6=qt("ion-row",void 0,void 0,i3),c6=qt("ion-title",void 0,void 0,l3),u6=qt("ion-toolbar",void 0,void 0,f3),Cs=(t,e)=>{const n=(i,r)=>I.createElement(t,Object.assign({},i,{forwardedRef:r}));return n.displayName=e,I.forwardRef(n)},pw=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},CA=(t,e)=>{s6(t,e);const n=dw(t),i=class extends I.Component{constructor(r){super(r),this.handleClick=o=>{const{routerLink:s,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;s!==void 0&&(o.preventDefault(),this.context.navigate(s,a,void 0,c,l))},this.ref=I.createRef(),this.stableMergedRefs=Vp(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const o=this.ref.current;hw(o,this.props,r)}render(){const r=this.props,{children:o,forwardedRef:s,style:a,className:l,ref:c}=r,u=mt(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((f,p)=>{if(p.indexOf("on")===0&&p[2]===p[2].toUpperCase()){const m=p.substring(2).toLowerCase();Zu(m)&&(f[p]=u[p])}else["string","boolean","number"].includes(typeof u[p])&&(f[zp(p)]=u[p]);return f},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const f=h.onClick;h.onClick=p=>{f(p),p.defaultPrevented||this.handleClick(p)}}else h.onClick=this.handleClick;return we.createElement(t,h,o)}static get displayName(){return n}static get contextType(){return Qi}};return Cs(i,n)},qr=CA("ion-button",p3),jy=CA("ion-item",m3),d6=(t,e)=>{t instanceof Element&&Object.keys(e).forEach(n=>{if(n.indexOf("on")===0&&n[2]===n[2].toUpperCase()){const i=n.substring(2),r=i[0].toLowerCase()+i.substring(1);Zu(r)||h6(t,r)}})},h6=(t,e)=>{const n=t.__events||(t.__events={}),i=n[e];i&&(t.removeEventListener(e,i),n[e]=void 0)},f6=(t,e,n)=>{e&&e();const i=dw(t),r=class extends I.Component{constructor(o){super(o),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=s=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(s)},this.handleDidDismiss=s=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(s)},this.ref=I.createRef(),this.stableMergedRefs=Vp(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=I.createRef()}componentDidMount(){var o,s,a;this.componentDidUpdate(this.props),(o=this.ref.current)===null||o===void 0||o.addEventListener("ionMount",this.handleIonMount),(s=this.ref.current)===null||s===void 0||s.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(o){const s=this.ref.current;hw(s,this.props,o)}componentWillUnmount(){const o=this.ref.current;o&&this.state.isOpen&&(o.removeEventListener("didDismiss",this.handleDidDismiss),o.remove(),d6(o,this.props))}render(){const o=this.props,{children:s,forwardedRef:a,style:l,className:c,ref:u}=o,d=mt(o,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((m,b)=>{if(b.indexOf("on")===0&&b[2]===b[2].toUpperCase()){const v=b.substring(2).toLowerCase();Zu(v)&&(m[b]=d[b])}else["string","boolean","number"].includes(typeof d[b])&&(m[zp(b)]=d[b]);return m},{}),f=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),p=()=>n?`${Qk} ion-page`:Qk;return we.createElement("template",{},we.createElement(t,f,this.state.isOpen||this.props.keepContentsMounted?we.createElement("div",{ref:this.wrapperRef,className:p()},s):null))}static get displayName(){return i}};return Cs(r,i)},Qk="ion-delegate-host",p6=f6("ion-toast",I3),m6=I.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),g6=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,i]=we.useState({}),r=we.useRef({});r.current=n,we.useEffect(()=>{t(o),e(s)},[]);const o=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},i(d)},s=l=>{const c=Object.assign({},r.current);delete c[l],i(c)},a=Object.keys(n);return I.createElement(I.Fragment,null,a.map(l=>{const c=n[l];return t4.createPortal(c.component,c.containerElement,`overlay-${l}`)}))},v6=qt("ion-tab-button",void 0,void 0,Y3),y6=qt("ion-tab-bar",void 0,void 0,q3),b6=qt("ion-back-button",void 0,void 0,L3),Hy=qt("ion-router-outlet",void 0,void 0,U3),w6=qt("ion-app",void 0,void 0,R3),_6=qt("ion-icon",void 0,void 0,ZV),x6=(()=>class extends I.Component{constructor(t){super(t),this.ionContext={addOverlay:(e,n,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,n,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return I.createElement(m6.Provider,{value:this.ionContext},I.createElement(w6,Object.assign({},this.props),this.props.children),I.createElement(g6,{onAddOverlay:t=>{this.addOverlayCallback=t},onRemoveOverlay:t=>{this.removeOverlayCallback=t}}))}static get displayName(){return"IonApp"}})(),mw=I.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class $A extends I.PureComponent{constructor(e){super(e),this.ionPageElementRef=I.createRef(),this.stableMergedRefs=Vp(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:n,children:i,routeInfo:r,forwardedRef:o}=e,s=mt(e,["className","children","routeInfo","forwardedRef"]);return I.createElement(uw.Consumer,null,a=>(this.ionLifeCycleContext=a,I.createElement("div",Object.assign({className:n?`${n} ion-page`:"ion-page",ref:this.stableMergedRefs},s),i)))}static get contextType(){return mw}}class k6 extends I.Component{constructor(e){super(e)}render(){const e=this.props,{className:n,children:i,forwardedRef:r}=e,o=mt(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?I.createElement($A,Object.assign({className:n?`${n}`:"",routeInfo:this.context.routeInfo,forwardedRef:r},o),i):I.createElement("div",Object.assign({className:n?`ion-page ${n}`:"ion-page",ref:r},o),i)}static get displayName(){return"IonPage"}static get contextType(){return Qi}}const gw=Cs(k6,"IonPage"),E6=(t,e)=>{const n=new WeakMap;return{attachViewToDom:async(o,s,a,l)=>{const c=document.createElement("div");l&&c.classList.add(...l),o.appendChild(c);const u=s(a),d=K0.createPortal(u,c);return n.set(c,d),t(d),Promise.resolve(c)},removeViewFromDom:(o,s)=>{const a=n.get(s);return a&&e(a),s.remove(),Promise.resolve()}}},I6=qt("ion-nav",void 0,void 0,Zz),S6=t=>{var{children:e,forwardedRef:n}=t,i=mt(t,["children","forwardedRef"]);const[r,o]=we.useState([]),s=c=>o(u=>[...u,c]),a=c=>o(u=>u.filter(d=>d!==c)),l=we.useMemo(()=>E6(s,a),[]);return I.createElement(I6,Object.assign({delegate:l,ref:n},i),r)};Cs(S6,"IonNav");I.createContext({activeTab:void 0,selectTab:()=>!1});const T6=typeof HTMLElement<"u"?HTMLElement:class{};class C6 extends I.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ka(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:n,children:i,routeInfo:r}=e,o=mt(e,["StackManager","children","routeInfo"]);return I.createElement(uw.Consumer,null,s=>(this.ionLifeCycleContext=s,I.createElement(n,{routeInfo:r},I.createElement(Hy,Object.assign({setRef:a=>this.ionRouterOutlet=a},o),i))))}static get contextType(){return mw}}class $6 extends I.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:r}=n,o=mt(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?o.ionPage?I.createElement(C6,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},o),i):I.createElement(e,{routeInfo:this.context.routeInfo},I.createElement(Hy,Object.assign({},o,{forwardedRef:r}),i)):I.createElement(Hy,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return Qi}}const A6=Cs($6,"IonRouterOutlet"),Hg=(()=>class extends I.Component{constructor(t){super(t),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const t=this.props,e=mt(t,["onClick"]);return I.createElement(v6,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class R6 extends I.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const n={};I.Children.forEach(e.children,i=>{var r,o,s,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Hg||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions:void 0,currentRouteOptions:i.props.href===((s=e.routeInfo)===null||s===void 0?void 0:s.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const o=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(o)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var i,r,o;const s=Object.assign({},n.tabs),l=Object.keys(n.tabs).find(u=>{const d=n.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});I.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Hg||u.type.isTabButton)){const d=s[u.props.tab];(!d||d.originalHref!==u.props.href)&&(s[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=n;if(l&&c){const u=n.tabs[c].currentHref,d=n.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(s[l]={originalHref:s[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:s[l].originalRouteOptions,currentRouteOptions:(o=e.routeInfo)===null||o===void 0?void 0:o.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(s[c]={originalHref:s[c].originalHref,currentHref:s[c].originalHref,originalRouteOptions:s[c].originalRouteOptions,currentRouteOptions:s[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:s}}onTabButtonClick(e,n){const i=this.state.tabs[e.detail.tab],r=i.originalHref,o=e.detail.href,{activeTab:s}=this.state;n&&n(e),s===e.detail.tab?r!==o&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions))}renderTabButton(e){return n=>{var i,r;if(n!=null&&n.props&&(n.type===Hg||n.type.isTabButton)){const o=n.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return I.cloneElement(n,{href:o,routeOptions:s,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return I.createElement(y6,Object.assign({},this.props,{selectedTab:e}),I.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return Qi}}const D6=I.memo(t=>{var{forwardedRef:e}=t,n=mt(t,["forwardedRef"]);const i=we.useContext(Qi);return I.createElement(R6,Object.assign({ref:e},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),n.children)});Cs(D6,"IonTabBar");class P6 extends T6{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",P6));const N6=(()=>class extends I.Component{constructor(){super(...arguments),this.clickButton=t=>{if(t.target&&t.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(t.stopPropagation(),this.context.goBack(e,n)):e!==void 0&&(window.location.href=e)}}render(){return I.createElement(b6,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return Qi}})();class O6 extends I.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,n;const i=this.props,{icon:r,ios:o,md:s,mode:a}=i,l=mt(i,["icon","ios","md","mode"]);let c;const u=pw(),d=a||(u==null?void 0:u.get("mode"));return o||s?d==="ios"?c=(e=o!=null?o:s)!==null&&e!==void 0?e:r:c=(n=s!=null?s:o)!==null&&n!==void 0?n:r:c=r,I.createElement(_6,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return Qi}}const qg=Cs(O6,"IonIcon");class vw extends I.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!vw?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):I.createElement(e,Object.assign({},this.props))}static get contextType(){return Qi}}class AA extends I.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!AA?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):I.createElement(e,Object.assign({},this.props))}static get contextType(){return Qi}}const RA=I.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function L6(){const t=we.useContext(RA);return we.useMemo(()=>({back:t.back,push:t.push,goBack:t.back,canGoBack:t.canGoBack,routeInfo:t.routeInfo}),[t.back,t.push,t.canGoBack,t.routeInfo])}class aee extends I.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=vr(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),Yk(n,e),Xk(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,i=this.props;Yk(n,i,e),M6(n,i,e),Xk(n,i,e)}render(){const{children:e}=this.props;return I.createElement(I.Fragment,null,I.Children.map(e,(n,i)=>I.cloneElement(n,{ref:r=>this.nodes.set(i,r)})))}}const Yk=(t,e={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const r=e.from;r&&r!==n.from&&(Array.isArray(r)?r:[r]).forEach(c=>t.from(c.property,c.value));const o=e.to;o&&o!==n.to&&(Array.isArray(o)?o:[o]).forEach(c=>t.to(c.property,c.value));const s=e.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},M6=(t,e={},n={})=>{var i,r,o,s,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=n.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&t.progressStart(l.forceLinearEasing,l.step),c&&((o=n.progressStep)===null||o===void 0?void 0:o.step)!==(c==null?void 0:c.step)&&t.progressStep(c.step),u&&(((s=n.progressEnd)===null||s===void 0?void 0:s.playTo)!==(u==null?void 0:u.playTo)||((a=n.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(n==null?void 0:n.dur)!==(u==null?void 0:u.dur))&&t.progressEnd(u.playTo,u.step,u.dur)},Xk=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},Jk={main:0},Af=(t="main")=>{var e;const n=((e=Jk[t])!==null&&e!==void 0?e:0)+1;return Jk[t]=n,n.toString()},F6=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),VB(Object.assign({},t))},DA=I.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Zk extends I.Component{constructor(e){super(e),this.ionLifeCycleContext=new e6,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return I.createElement(uw.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class B6{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(r=>r.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(o=>o.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let i=n.length-2;i>=0;i--){const r=n[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class U6 extends I.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,i,r,o,s)=>{this.navigate(n,i,r,s,o)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",i="push",r,o,s){this.props.onNavigate(e,i,n,r,o,s)}getPageManager(){return $A}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return I.createElement(Qi.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},I.createElement(RA.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class z6{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,i=this.viewStacks[n];if(i){const r=i.find(o=>o.id===e.id);r&&(r.mount=!1,this.viewStacks[n]=i.filter(o=>o.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(i=>{n.push(...this.viewStacks[i])}),n}}const PA=I.createContext(null),V6=({children:t})=>{const[e,n]=I.useState(!1),[i,r]=I.useState(!1),[o,s]=I.useState(!1),[a,l]=I.useState(""),[c,u]=I.useState("streets"),[d,h]=I.useState(!1),f=I.useMemo(()=>({showTabs:e,setShowTabs:n,darkMode:i,setDarkMode:r,schoolName:a,setSchoolName:l,initLoad:o,setInitLoad:s,mapTilerId:c,setMapTilerId:u,sensitivityToggled:d,setSensitivityToggled:h}),[e,n,i,r,a,l,o,s,c,u,d,h]);return mn(PA.Provider,{value:f,children:[" ",t," "]})},td=()=>{const t=I.useContext(PA);if(!t)throw new Error("App context is not available");return t},j6="/assets/tellU-aeb5dd8c.png",H6="/assets/tellU_white-58ff05cb.png",q6="/assets/humboldt_school-174f3787.png",W6="/assets/berkeley_school-df29a281.png",G6="/assets/davis_school-da58dd69.webp",oh={"Cal Poly Humboldt":{url:q6,backgroundSize:"95vw",backgroundPosition:"10% 80%"},"UC Berkeley":{url:W6,backgroundSize:"135vw",backgroundPosition:"25% 80%"},"UC Davis":{url:G6,backgroundSize:"95vw",backgroundPosition:"10% 60%"},"":{url:"",backgroundSize:"",backgroundPosition:""}};class K6 extends we.Component{render(){const e=this.props.darkMode,n=this.props.zoom,i=this.props.style||{fontWeight:"bold"},r=this.props.schoolName in oh?this.props.schoolName:"";return H("div",{style:{width:"100%"},children:H("div",{style:{width:"100%",borderRadius:"10px",display:"inline-block",backgroundImage:`url(${oh[r].url})`,backgroundSize:`${oh[r].backgroundSize}`,backgroundPosition:`${oh[r].backgroundPosition}`},children:mn(ed,{className:"ion-no-border",style:{textAlign:"center",top:"1vh"},children:[H("img",{draggable:!1,className:"quantum_logo",src:e?H6:j6,alt:"QUANTUM",style:{zoom:n,height:"65px"}}),H("p",{style:i,children:r})]})})})}}const yw=I.memo(K6);/*! Capacitor: https://capacitorjs.com/ - MIT License */const Q6=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(o,s)=>{n.platforms.set(o,s)},r=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=i,n.setPlatform=r,n},Y6=t=>t.CapacitorPlatforms=Q6(t),NA=Y6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});NA.addPlatform;NA.setPlatform;var Qa;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Qa||(Qa={}));class Wg extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const X6=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},J6=t=>{var e,n,i,r,o;const s=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,u=()=>s!==null?s.name:X6(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",f=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,p=E=>{const T=w.get(E);return!!(T!=null&&T.platforms.has(d())||v(E))},m=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||p,b=E=>{var T;return(T=a.PluginHeaders)===null||T===void 0?void 0:T.find(X=>X.name===E)},v=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||b,g=E=>t.console.error(E),y=(E,T,X)=>Promise.reject(`${X} does not have an implementation of "${T}".`),w=new Map,C=(E,T={})=>{const X=w.get(E);if(X)return console.warn(`Capacitor plugin "${E}" already registered. Cannot register plugins twice.`),X.proxy;const q=d(),M=v(E);let be;const bt=async()=>(!be&&q in T?be=typeof T[q]=="function"?be=await T[q]():be=T[q]:s!==null&&!be&&"web"in T&&(be=typeof T.web=="function"?be=await T.web():be=T.web),be),Ze=(A,V)=>{var j,Z;if(M){const se=M==null?void 0:M.methods.find(ie=>V===ie.name);if(se)return se.rtype==="promise"?ie=>a.nativePromise(E,V.toString(),ie):(ie,Ae)=>a.nativeCallback(E,V.toString(),ie,Ae);if(A)return(j=A[V])===null||j===void 0?void 0:j.bind(A)}else{if(A)return(Z=A[V])===null||Z===void 0?void 0:Z.bind(A);throw new Wg(`"${E}" plugin is not implemented on ${q}`,Qa.Unimplemented)}},$e=A=>{let V;const j=(...Z)=>{const se=bt().then(ie=>{const Ae=Ze(ie,A);if(Ae){const Pe=Ae(...Z);return V=Pe==null?void 0:Pe.remove,Pe}else throw new Wg(`"${E}.${A}()" is not implemented on ${q}`,Qa.Unimplemented)});return A==="addListener"&&(se.remove=async()=>V()),se};return j.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(j,"name",{value:A,writable:!1,configurable:!1}),j},ge=$e("addListener"),je=$e("removeListener"),O=(A,V)=>{const j=ge({eventName:A},V),Z=async()=>{const ie=await j;je({eventName:A,callbackId:ie},V)},se=new Promise(ie=>j.then(()=>ie({remove:Z})));return se.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Z()},se},N=new Proxy({},{get(A,V){switch(V){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?O:ge;case"removeListener":return je;default:return $e(V)}}});return l[E]=N,w.set(E,{name:E,proxy:N,platforms:new Set([...Object.keys(T),...M?[q]:[]])}),N},S=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||C;return a.convertFileSrc||(a.convertFileSrc=E=>E),a.getPlatform=d,a.handleError=g,a.isNativePlatform=f,a.isPluginAvailable=m,a.pluginMethodNoop=y,a.registerPlugin=S,a.Exception=Wg,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Z6=t=>t.Capacitor=J6(t),uu=Z6(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),nd=uu.registerPlugin;uu.Plugins;class OA{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const o=async()=>this.removeListener(e,n),s=Promise.resolve({remove:o});return Object.defineProperty(s,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),s}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n){const i=this.listeners[e];i&&i.forEach(r=>r(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new uu.Exception(e,Qa.Unimplemented)}unavailable(e="not available"){return new uu.Exception(e,Qa.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const r=i.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const eE=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tE=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class e5 extends OA{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=tE(r).trim(),o=tE(o).trim(),n[r]=o}),n}async setCookie(e){try{const n=eE(e.key),i=eE(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${r}; path=${o}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}nd("CapacitorCookies",{web:()=>new e5});const t5=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(t)}),n5=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,o,s)=>(r[o]=t[e[s]],r),{})},i5=(t,e=!0)=>t?Object.entries(t).reduce((i,r)=>{const[o,s]=r;let a,l;return Array.isArray(s)?(l="",s.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${o}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(s):s,l=`${o}=${a}`),`${i}&${l}`},"").substr(1):null,r5=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=n5(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[s,a]of Object.entries(t.data||{}))o.set(s,a);n.body=o.toString()}else if(r.includes("multipart/form-data")){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{o.append(l,a)});else for(const a of Object.keys(t.data))o.append(a,t.data[a]);n.body=o;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class o5 extends OA{async request(e){const n=r5(e,e.webFetchExtra),i=i5(e.params,e.shouldEncodeUrlParams),r=i?`${e.url}?${i}`:e.url,o=await fetch(r,n),s=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};s.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await o.blob(),l=await t5(c);break;case"json":l=await o.json();break;case"document":case"text":default:l=await o.text()}const u={};return o.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}nd("CapacitorHttp",{web:()=>new o5});nd("App",{web:()=>qn(()=>import("./web-49127ab1.js"),[]).then(t=>new t.AppWeb)});const nE=(t,e,n)=>{const i=n==="forward"?"push":"pop";t.push(e,n,i)},s5="/assets/app_store-a26fc5b3.svg",a5="/assets/google-play-badge-f72611e2.png",Gg=()=>{const t=L6(),e=td();return H(gw,{children:mn(fw,{children:[H("div",{style:{height:"15vh"}}),mn(ed,{className:"ion-no-border",style:{paddingBottom:"5vh"},children:[H(yw,{darkMode:e.darkMode,schoolName:"",zoom:1.1,style:{fontWeight:"bold",margin:0}}),H("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"Arial"},children:"University Chats"})]}),H("div",{style:{height:"5%"}}),mn(l6,{style:{padding:"1%"},children:[H(jg,{className:"ion-text-right",children:H("img",{src:s5,alt:"iOS App Store logo",className:"store-logo",onClick:()=>{window.location.href="https://apps.apple.com/us/app/tellu/id6443764288?ign-itscg=30200&ign-itsct=apps_box_link"}})}),H(jg,{size:".5"}),H(jg,{className:"ion-text-left",children:H("img",{src:a5,alt:"Google Play Store logo",className:"store-logo",style:{scale:"1.25",transform:"translateY(-5%)"},onClick:()=>{window.location.href=""}})})]}),mn(a6,{children:[H("div",{children:H(qr,{className:"login-button",fill:"clear",expand:"block",id:"signInButton",onClick:()=>nE(t,"/forgot-password","forward"),children:"Forgot Password"})}),H("div",{style:{height:"1vh"}}),H("div",{children:H(qr,{className:"login-button",fill:"clear",expand:"block",id:"signInButton",onClick:()=>nE(t,"/delete-account","forward"),children:"Delete Account"})})]})]})})};var iE;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(iE||(iE={}));var qy;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(qy||(qy={}));const Kg=nd("Keyboard");function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wy.apply(this,arguments)}var LA=we.createContext(null),l5=LA.Provider,bw=function(){return we.useContext(LA)},c5=function(e){var n=e.value,i=e.children,r=we.useState(!1),o=r[0],s=r[1],a=we.useState(),l=a[0],c=a[1],u=we.useRef(null),d=we.useCallback(function(f){var p=function(v){return function(){c(Wy({},n,v)),s(!0)}},m=function(){var v;(v=u.current)===null||v===void 0||v.dismiss()};return{present:p(f),dismiss:m}},[n]),h=we.useMemo(function(){var f=function(m){return function(b){var v=d({message:b,color:m});return v.present(),v}};return{create:d,success:f("success"),error:f("danger"),warning:f("warning")}},[d]);return I.createElement(l5,{value:h},i,I.createElement(p6,Object.assign({ref:u,isOpen:o,onDidDismiss:function(){return s(!1)}},l)))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw yl(e)},yl=function(t){return new Error("Firebase Database ("+MA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},u5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],s=t[n++],a=t[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||c==null||d==null)throw new d5;const h=o<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(t){const e=FA(t);return ww.encodeByteArray(e,!0)},Rf=function(t){return BA(t).replace(/\./g,"")},Df=function(t){try{return ww.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return du(void 0,t)}function du(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!f5(n)||(t[n]=du(t[n],e[n]));return t}function f5(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=()=>p5().__FIREBASE_DEFAULTS__,g5=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Df(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return m5()||g5()||v5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UA=t=>{var e,n;return(n=(e=jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hp=t=>{const e=UA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},zA=()=>{var t;return(t=jp())===null||t===void 0?void 0:t.config},VA=t=>{var e;return(e=jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Rf(JSON.stringify(n)),Rf(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function y5(){var t;const e=(t=jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function b5(){return typeof self=="object"&&self.self===self}function w5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _5(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HA(){return MA.NODE_ADMIN===!0}function x5(){return!y5()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function k5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="FirebaseError";class ri extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=E5,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?I5(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new ri(r,a,i)}}function I5(t,e){return t.replace(S5,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const S5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){return JSON.parse(t)}function Ft(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=hu(Df(o[0])||""),n=hu(Df(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},T5=function(t){const e=WA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},C5=function(t){const e=WA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ya(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pf(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],s=e[r];if(rE(o)&&rE(s)){if(!Nf(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function rE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function GA(t,e){const n=new A5(t,e);return n.subscribe.bind(n)}class A5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");R5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Qg),r.error===void 0&&(r.error=Qg),r.complete===void 0&&(r.complete=Qg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(s){}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qg(){}function D5(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,B(i<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},qp=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _w;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L5(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch(o){}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(o){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:O5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O5(t){return t===Po?void 0:t}function L5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=[];var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const KA={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},F5=ae.INFO,B5={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},U5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=B5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class id{constructor(e){this.name=e,this._logLevel=F5,this._logHandler=U5,this._userLogHandler=null,Ew.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}function z5(t){Ew.forEach(e=>{e.setLogLevel(t)})}function V5(t,e){for(const n of Ew){let i=null;e&&e.level&&(i=KA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...s)=>{const a=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");o>=(i!=null?i:r.logLevel)&&t({level:ae[o].toLowerCase(),message:a,args:s,type:r.name})}}}const j5=(t,e)=>e.some(n=>t instanceof n);let oE,sE;function H5(){return oE||(oE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q5(){return sE||(sE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QA=new WeakMap,Ky=new WeakMap,YA=new WeakMap,Yg=new WeakMap,Iw=new WeakMap;function W5(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(to(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&QA.set(n,t)}).catch(()=>{}),Iw.set(e,t),e}function G5(t){if(Ky.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ky.set(t,e)}let Qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K5(t){Qy=t(Qy)}function Q5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Xg(this),e,...n);return YA.set(i,e.sort?e.sort():[e]),to(i)}:q5().includes(t)?function(...e){return t.apply(Xg(this),e),to(QA.get(this))}:function(...e){return to(t.apply(Xg(this),e))}}function Y5(t){return typeof t=="function"?Q5(t):(t instanceof IDBTransaction&&G5(t),j5(t,H5())?new Proxy(t,Qy):t)}function to(t){if(t instanceof IDBRequest)return W5(t);if(Yg.has(t))return Yg.get(t);const e=Y5(t);return e!==t&&(Yg.set(t,e),Iw.set(e,t)),e}const Xg=t=>Iw.get(t);function X5(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),a=to(s);return i&&s.addEventListener("upgradeneeded",l=>{i(to(s.result),l.oldVersion,l.newVersion,to(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const J5=["get","getKey","getAll","getAllKeys","count"],Z5=["put","add","delete","clear"],Jg=new Map;function aE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Z5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||J5.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Jg.set(e,o),o}K5(t=>({...t,get:(e,n,i)=>aE(e,n)||t.get(e,n,i),has:(e,n)=>!!aE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function tj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yy="@firebase/app",lE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new id("@firebase/app"),nj="@firebase/app-compat",ij="@firebase/analytics-compat",rj="@firebase/analytics",oj="@firebase/app-check-compat",sj="@firebase/app-check",aj="@firebase/auth",lj="@firebase/auth-compat",cj="@firebase/database",uj="@firebase/database-compat",dj="@firebase/functions",hj="@firebase/functions-compat",fj="@firebase/installations",pj="@firebase/installations-compat",mj="@firebase/messaging",gj="@firebase/messaging-compat",vj="@firebase/performance",yj="@firebase/performance-compat",bj="@firebase/remote-config",wj="@firebase/remote-config-compat",_j="@firebase/storage",xj="@firebase/storage-compat",kj="@firebase/firestore",Ej="@firebase/firestore-compat",Ij="firebase",Sj="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]",Tj={[Yy]:"fire-core",[nj]:"fire-core-compat",[rj]:"fire-analytics",[ij]:"fire-analytics-compat",[sj]:"fire-app-check",[oj]:"fire-app-check-compat",[aj]:"fire-auth",[lj]:"fire-auth-compat",[cj]:"fire-rtdb",[uj]:"fire-rtdb-compat",[dj]:"fire-fn",[hj]:"fire-fn-compat",[fj]:"fire-iid",[pj]:"fire-iid-compat",[mj]:"fire-fcm",[gj]:"fire-fcm-compat",[vj]:"fire-perf",[yj]:"fire-perf-compat",[bj]:"fire-rc",[wj]:"fire-rc-compat",[_j]:"fire-gcs",[xj]:"fire-gcs-compat",[kj]:"fire-fst",[Ej]:"fire-fst-compat","fire-js":"fire-js",[Ij]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Map,fu=new Map;function Of(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function XA(t,e){t.container.addOrOverwriteComponent(e)}function Ii(t){const e=t.name;if(fu.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;fu.set(e,t);for(const n of so.values())Of(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cj(t,e,n=oo){xo(t,e).clearInstance(n)}function $j(){fu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new $s("app","Firebase",Aj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rj=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=Sj;function Wp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:oo,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ur.create("bad-app-name",{appName:String(r)});if(n||(n=zA()),!n)throw ur.create("no-options");const o=so.get(r);if(o){if(Nf(n,o.options)&&Nf(i,o.config))return o;throw ur.create("duplicate-app",{appName:r})}const s=new M5(r);for(const l of fu.values())s.addComponent(l);const a=new Rj(n,i,s);return so.set(r,a),a}function wl(t=oo){const e=so.get(t);if(!e&&t===oo&&zA())return Wp();if(!e)throw ur.create("no-app",{appName:t});return e}function Dj(){return Array.from(so.values())}async function JA(t){const e=t.name;so.has(e)&&(so.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function zt(t,e,n){var i;let r=(i=Tj[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}Ii(new ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function ZA(t,e){if(t!==null&&typeof t!="function")throw ur.create("invalid-log-argument");V5(t,e)}function eR(t){z5(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="firebase-heartbeat-database",Nj=1,pu="firebase-heartbeat-store";let Zg=null;function tR(){return Zg||(Zg=X5(Pj,Nj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pu)}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function Oj(t){try{return await(await tR()).transaction(pu).objectStore(pu).get(nR(t))}catch(e){if(e instanceof ri)ds.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function cE(t,e){try{const i=(await tR()).transaction(pu,"readwrite");await i.objectStore(pu).put(e,nR(t)),await i.done}catch(n){if(n instanceof ri)ds.warn(n.message);else{const i=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(i.message)}}}function nR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=1024,Mj=30*24*60*60*1e3;class Fj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const o=new Date(r.date).valueOf();return Date.now()-o<=Mj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uE(),{heartbeatsToSend:n,unsentEntries:i}=Bj(this._heartbeatsCache.heartbeats),r=Rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function uE(){return new Date().toISOString().substring(0,10)}function Bj(t,e=Lj){const n=[];let i=t.slice();for(const r of t){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),dE(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),dE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?k5().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Oj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return cE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dE(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){Ii(new ti("platform-logger",e=>new ej(e),"PRIVATE")),Ii(new ti("heartbeat",e=>new Fj(e),"PRIVATE")),zt(Yy,lE,t),zt(Yy,lE,"esm2017"),zt("fire-js","")}zj("");const Vj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ri,SDK_VERSION:Yi,_DEFAULT_ENTRY_NAME:oo,_addComponent:Of,_addOrOverwriteComponent:XA,_apps:so,_clearComponents:$j,_components:fu,_getProvider:xo,_registerComponent:Ii,_removeServiceInstance:Cj,deleteApp:JA,getApp:wl,getApps:Dj,initializeApp:Wp,onLog:ZA,registerVersion:zt,setLogLevel:eR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this._delegate=e,this.firebase=n,Of(e,new ti("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),JA(this._delegate)))}_getService(e,n=oo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=oo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Of(this._delegate,e)}_addOrOverwriteComponent(e){XA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},hE=new $s("app-compat","Firebase",Hj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){const e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:zt,setLogLevel:eR,onLog:ZA,apps:null,SDK_VERSION:Yi,INTERNAL:{registerComponent:a,removeApp:i,useAsService:l,modularAPIs:Vj}};n.default=n,Object.defineProperty(n,"apps",{get:s});function i(c){delete e[c]}function r(c){if(c=c||oo,!Ei(e,c))throw hE.create("no-app",{appName:c});return e[c]}r.App=t;function o(c,u={}){const d=Wp(c,u);if(Ei(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function s(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Ii(c)&&c.type==="PUBLIC"){const h=(f=r())=>{if(typeof f[d]!="function")throw hE.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&du(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){const t=qj(jj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:iR,extendNamespace:e,createSubscribe:GA,ErrorFactory:$s,deepExtend:du});function e(n){du(t,n)}return t}const Wj=iR();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new id("@firebase/app-compat"),Gj="@firebase/app-compat",Kj="0.2.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t){zt(Gj,Kj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(b5()&&self.firebase!==void 0){fE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&fE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Yj=Wj;Qj();var Xj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,Sw=Sw||{},ee=Xj||self;function Gp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jj(t){return Object.prototype.hasOwnProperty.call(t,ev)&&t[ev]||(t[ev]=++Zj)}var ev="closure_uid_"+(1e9*Math.random()>>>0),Zj=0;function eH(t,e,n){return t.call.apply(t.bind,arguments)}function tH(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=eH:Zt=tH,Zt.apply(null,arguments)}function sh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ko(){this.s=this.s,this.o=this.o}var nH=0;ko.prototype.s=!1;ko.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),nH!=0)&&Jj(this)};ko.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tw(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function pE(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Gp(i)){const r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var iH=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",()=>{},e),ee.removeEventListener("test",()=>{},e)}catch(n){}return t}();function mu(t){return/^[\s\xa0]*$/.test(t)}function Kp(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Ni(t){return Kp().indexOf(t)!=-1}function Cw(t){return Cw[" "](t),t}Cw[" "]=function(){};function rH(t,e){var n=YH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var oH=Ni("Opera"),Xa=Ni("Trident")||Ni("MSIE"),oR=Ni("Edge"),Xy=oR||Xa,sR=Ni("Gecko")&&!(Kp().toLowerCase().indexOf("webkit")!=-1&&!Ni("Edge"))&&!(Ni("Trident")||Ni("MSIE"))&&!Ni("Edge"),sH=Kp().toLowerCase().indexOf("webkit")!=-1&&!Ni("Edge");function aR(){var t=ee.document;return t?t.documentMode:void 0}var Jy;e:{var tv="",nv=function(){var t=Kp();if(sR)return/rv:([^\);]+)(\)|;)/.exec(t);if(oR)return/Edge\/([\d\.]+)/.exec(t);if(Xa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sH)return/WebKit\/(\S+)/.exec(t);if(oH)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(nv&&(tv=nv?nv[1]:""),Xa){var iv=aR();if(iv!=null&&iv>parseFloat(tv)){Jy=String(iv);break e}}Jy=tv}var Zy;if(ee.document&&Xa){var mE=aR();Zy=mE||parseInt(Jy,10)||void 0}else Zy=void 0;var aH=Zy;function gu(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sR){e:{try{Cw(e.nodeName);var r=!0;break e}catch(o){}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lH[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gu.$.h.call(this)}}At(gu,en);var lH={2:"touch",3:"pen",4:"mouse"};gu.prototype.h=function(){gu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var od="closure_listenable_"+(1e6*Math.random()|0),cH=0;function uH(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++cH,this.fa=this.ia=!1}function Qp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $w(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function dH(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function lR(t){const e={};for(const n in t)e[n]=t[n];return e}const gE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cR(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<gE.length;o++)n=gE[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Yp(t){this.src=t,this.g={},this.h=0}Yp.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=tb(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new uH(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function eb(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=rR(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Qp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tb(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Aw="closure_lm_"+(1e6*Math.random()|0),rv={};function uR(t,e,n,i,r){if(i&&i.once)return hR(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)uR(t,e[o],n,i,r);return null}return n=Pw(n),t&&t[od]?t.O(e,n,rd(i)?!!i.capture:!!i,r):dR(t,e,n,!1,i,r)}function dR(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=rd(r)?!!r.capture:!!r,a=Dw(t);if(a||(t[Aw]=a=new Yp(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=hH(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)iH||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(pR(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hH(){function t(n){return e.call(t.src,t.listener,n)}const e=fH;return t}function hR(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)hR(t,e[o],n,i,r);return null}return n=Pw(n),t&&t[od]?t.P(e,n,rd(i)?!!i.capture:!!i,r):dR(t,e,n,!0,i,r)}function fR(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)fR(t,e[o],n,i,r);else i=rd(i)?!!i.capture:!!i,n=Pw(n),t&&t[od]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=tb(o,n,i,r),-1<n&&(Qp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Dw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tb(e,n,i,r)),(n=-1<t?e[t]:null)&&Rw(n))}function Rw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[od])eb(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(pR(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Dw(e))?(eb(n,t),n.h==0&&(n.src=null,e[Aw]=null)):Qp(t)}}}function pR(t){return t in rv?rv[t]:rv[t]="on"+t}function fH(t,e){if(t.fa)t=!0;else{e=new gu(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Rw(t),t=n.call(i,e)}return t}function Dw(t){return t=t[Aw],t instanceof Yp?t:null}var ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pw(t){return typeof t=="function"?t:(t[ov]||(t[ov]=function(e){return t.handleEvent(e)}),t[ov])}function $t(){ko.call(this),this.i=new Yp(this),this.S=this,this.J=null}At($t,ko);$t.prototype[od]=!0;$t.prototype.removeEventListener=function(t,e,n,i){fR(this,t,e,n,i)};function Vt(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var r=e;e=new en(i,t),cR(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=ah(s,i,!0,e)&&r}if(s=e.g=t,r=ah(s,i,!0,e)&&r,r=ah(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=ah(s,i,!1,e)&&r}$t.prototype.N=function(){if($t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Qp(n[i]);delete t.g[e],t.h--}}this.J=null};$t.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};$t.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ah(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&eb(t.i,s),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var Nw=ee.JSON.stringify;class pH{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mH(){var t=Ow;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gH{constructor(){this.h=this.g=null}add(e,n){const i=mR.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var mR=new pH(()=>new vH,t=>t.reset());class vH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yH(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bH(t){ee.setTimeout(()=>{throw t},0)}let vu,yu=!1,Ow=new gH,gR=()=>{const t=ee.Promise.resolve(void 0);vu=()=>{t.then(wH)}};var wH=()=>{for(var t;t=mH();){try{t.h.call(t.g)}catch(n){bH(n)}var e=mR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yu=!1};function Xp(t,e){$t.call(this),this.h=t||1,this.g=e||ee,this.j=Zt(this.qb,this),this.l=Date.now()}At(Xp,$t);z=Xp.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Lw(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Xp.$.N.call(this),Lw(this),delete this.g};function Mw(t,e,n){if(typeof t=="function")n&&(t=Zt(t,n));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function vR(t){t.g=Mw(()=>{t.g=null,t.i&&(t.i=!1,vR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class _H extends ko{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vR(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bu(t){ko.call(this),this.h=t,this.g={}}At(bu,ko);var vE=[];function yR(t,e,n,i){Array.isArray(n)||(n&&(vE[0]=n.toString()),n=vE);for(var r=0;r<n.length;r++){var o=uR(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function bR(t){$w(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rw(e)},t),t.g={}}bu.prototype.N=function(){bu.$.N.call(this),bR(this)};bu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jp(){this.g=!0}Jp.prototype.Ea=function(){this.g=!1};function xH(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+c+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function kH(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function va(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IH(t,n)+(i?" "+i:"")})}function EH(t,e){t.info(function(){return"TIMEOUT: "+e})}Jp.prototype.info=function(){};function IH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Nw(n)}catch(a){return e}}var As={},yE=null;function Zp(){return yE=yE||new $t}As.Ta="serverreachability";function wR(t){en.call(this,As.Ta,t)}At(wR,en);function wu(t){const e=Zp();Vt(e,new wR(e))}As.STAT_EVENT="statevent";function _R(t,e){en.call(this,As.STAT_EVENT,t),this.stat=e}At(_R,en);function an(t){const e=Zp();Vt(e,new _R(e,t))}As.Ua="timingevent";function xR(t,e){en.call(this,As.Ua,t),this.size=e}At(xR,en);function sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var em={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fw(){}Fw.prototype.h=null;function bE(t){return t.h||(t.h=t.i())}function ER(){}var ad={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bw(){en.call(this,"d")}At(Bw,en);function Uw(){en.call(this,"c")}At(Uw,en);var nb;function tm(){}At(tm,Fw);tm.prototype.g=function(){return new XMLHttpRequest};tm.prototype.i=function(){return{}};nb=new tm;function ld(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new bu(this),this.P=SH,t=Xy?125:void 0,this.V=new Xp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IR}function IR(){this.i=null,this.g="",this.h=!1}var SH=45e3,ib={},Lf={};z=ld.prototype;z.setTimeout=function(t){this.P=t};function rb(t,e,n){t.L=1,t.v=im(yr(e)),t.s=n,t.S=!0,SR(t,null)}function SR(t,e){t.G=Date.now(),cd(t),t.A=yr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),NR(n.i,"t",i),t.C=0,n=t.l.J,t.h=new IR,t.g=tD(t.l,n?e:null,!t.s),0<t.O&&(t.M=new _H(Zt(t.Pa,t,t.g),t.O)),yR(t.U,t.g,"readystatechange",t.nb),e=t.I?lR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),wu(),xH(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&Oi(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const u=Oi(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Xy||this.g&&(this.h.h||this.g.ja()||kE(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?wu(3):wu(2)),nm(this);var n=this.g.da();this.ca=n;t:if(TR(this)){var i=kE(this.g);t="";var r=i.length,o=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),Dc(this);var s="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,kH(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mu(a)){var c=a;break t}}c=null}if(n=c)va(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ob(this,n);else{this.i=!1,this.o=3,an(12),Wo(this),Dc(this);break e}}this.S?(CR(this,u,s),Xy&&this.i&&u==3&&(yR(this.U,this.V,"tick",this.mb),this.V.start())):(va(this.j,this.m,s,null),ob(this,s)),u==4&&Wo(this),this.i&&!this.J&&(u==4?XR(this.l,this):(this.i=!1,cd(this)))}else GH(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Wo(this),Dc(this)}}}catch(u){}finally{}};function TR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CR(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=TH(t,n),r==Lf){e==4&&(t.o=4,an(14),i=!1),va(t.j,t.m,null,"[Incomplete Response]");break}else if(r==ib){t.o=4,an(15),va(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else va(t.j,t.m,r,null),ob(t,r);TR(t)&&r!=Lf&&r!=ib&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,an(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ww(e),e.M=!0,an(11))):(va(t.j,t.m,n,"[Invalid Chunked Response]"),Wo(t),Dc(t))}z.mb=function(){if(this.g){var t=Oi(this.g),e=this.g.ja();this.C<e.length&&(nm(this),CR(this,t,e),this.i&&t!=4&&cd(this))}};function TH(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Lf:(n=Number(e.substring(n,i)),isNaN(n)?ib:(i+=1,i+n>e.length?Lf:(e=e.slice(i,i+n),t.C=i+n,e)))}z.cancel=function(){this.J=!0,Wo(this)};function cd(t){t.Y=Date.now()+t.P,$R(t,t.P)}function $R(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=sd(Zt(t.lb,t),e)}function nm(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(EH(this.j,this.A),this.L!=2&&(wu(),an(17)),Wo(this),this.o=2,Dc(this)):$R(this,this.Y-t)};function Dc(t){t.l.H==0||t.J||XR(t.l,t)}function Wo(t){nm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lw(t.V),bR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ob(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sb(n.i,t))){if(!t.K&&sb(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bf(n),sm(n);else break e;qw(n),an(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=sd(Zt(n.ib,n),6e3));if(1>=MR(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Go(n,11)}else if((t.K||n.g==t)&&Bf(n),!mu(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(zw(o,o.h),o.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Me(i.I,i.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=eD(i,i.J?i.pa:null,i.Y),s.K){FR(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(nm(a),cd(a)),i.g=s}else QR(i);0<n.j.length&&am(n)}else c[0]!="stop"&&c[0]!="close"||Go(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Go(n,7):Hw(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}wu(4)}catch(c){}}function CH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function $H(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function AR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$H(t),i=CH(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var RR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Zo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zo){this.h=t.h,Mf(this,t.j),this.s=t.s,this.g=t.g,Ff(this,t.m),this.l=t.l;var e=t.i,n=new _u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wE(this,n),this.o=t.o}else t&&(e=String(t).match(RR))?(this.h=!1,Mf(this,e[1]||"",!0),this.s=vc(e[2]||""),this.g=vc(e[3]||"",!0),Ff(this,e[4]),this.l=vc(e[5]||"",!0),wE(this,e[6]||"",!0),this.o=vc(e[7]||"")):(this.h=!1,this.i=new _u(null,this.h))}Zo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yc(e,_E,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yc(e,_E,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(yc(n,n.charAt(0)=="/"?PH:DH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yc(n,OH)),t.join("")};function yr(t){return new Zo(t)}function Mf(t,e,n){t.j=n?vc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ff(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wE(t,e,n){e instanceof _u?(t.i=e,LH(t.i,t.h)):(n||(e=yc(e,NH)),t.i=new _u(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function im(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,RH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var _E=/[#\/\?@]/g,DH=/[#\?:]/g,PH=/[#\?]/g,NH=/[#\?@]/g,OH=/#/g;function _u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Eo(t){t.g||(t.g=new Map,t.h=0,t.i&&AH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=_u.prototype;z.add=function(t,e){Eo(this),this.i=null,t=_l(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function DR(t,e){Eo(t),e=_l(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PR(t,e){return Eo(t),e=_l(t,e),t.g.has(e)}z.forEach=function(t,e){Eo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};z.ta=function(){Eo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};z.Z=function(t){Eo(this);let e=[];if(typeof t=="string")PR(this,t)&&(e=e.concat(this.g.get(_l(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return Eo(this),this.i=null,t=_l(this,t),PR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NR(t,e,n){DR(t,e),0<n.length&&(t.i=null,t.g.set(_l(t,e),Tw(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function _l(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LH(t,e){e&&!t.j&&(Eo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(DR(this,i),NR(this,r,n))},t)),t.j=e}var MH=class{constructor(t,e){this.g=t,this.map=e}};function OR(t){this.l=t||FH,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var FH=10;function LR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MR(t){return t.h?1:t.g?t.g.size:0}function sb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zw(t,e){t.g?t.g.add(e):t.h=e}function FR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OR.prototype.cancel=function(){if(this.i=BR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function BR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tw(t.i)}var BH=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function UH(){this.g=new BH}function zH(t,e,n){const i=n||"";try{AR(t,function(r,o){let s=r;rd(r)&&(s=Nw(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function VH(t,e){const n=new Jp;if(ee.Image){const i=new Image;i.onload=sh(lh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=sh(lh,n,i,"TestLoadImage: error",!1,e),i.onabort=sh(lh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=sh(lh,n,i,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function lh(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}function ud(t){this.l=t.fc||null,this.j=t.ob||!1}At(ud,Fw);ud.prototype.g=function(){return new rm(this.l,this.j)};ud.prototype.i=function(t){return function(){return t}}({});function rm(t,e){$t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Vw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(rm,$t);var Vw=0;z=rm.prototype;z.open=function(t,e){if(this.readyState!=Vw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xu(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dd(this)),this.readyState=Vw};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xu(this)),this.g&&(this.readyState=3,xu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dd(this):xu(this),this.readyState==3&&UR(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,dd(this))};z.Ya=function(t){this.g&&(this.response=t,dd(this))};z.ka=function(){this.g&&dd(this)};function dd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xu(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(rm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var jH=ee.JSON.parse;function nt(t){$t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zR,this.L=this.M=!1}At(nt,$t);var zR="",HH=/^https?$/i,qH=["POST","PUT"];z=nt.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nb.g(),this.C=this.u?bE(this.u):bE(nb),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){xE(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=ee.FormData&&t instanceof ee.FormData,!(0<=rR(qH,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HR(this),0<this.B&&((this.L=WH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=Mw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xE(this,o)}};function WH(t){return Xa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof Sw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function xE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VR(t),om(t)}function VR(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),om(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),om(this,!0)),nt.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?jR(this):this.kb())};z.kb=function(){jR(this)};function jR(t){if(t.h&&typeof Sw<"u"&&(!t.C[1]||Oi(t)!=4||t.da()!=2)){if(t.v&&Oi(t)==4)Mw(t.La,0,t);else if(Vt(t,"readystatechange"),Oi(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(RR)[1]||null;!r&&ee.self&&ee.self.location&&(r=ee.self.location.protocol.slice(0,-1)),i=!HH.test(r?r.toLowerCase():"")}n=i}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var o=2<Oi(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.da()+"]",VR(t)}}finally{om(t)}}}}function om(t,e){if(t.g){HR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function HR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function Oi(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<Oi(this)?this.g.status:-1}catch(t){return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),jH(e)}};function kE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function GH(t){const e={};t=(t.g&&2<=Oi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(mu(t[i]))continue;var n=yH(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[r]||[];e[r]=o,o.push(n)}dH(e,function(i){return i.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qR(t){let e="";return $w(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function jw(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=qR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function Xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WR(t){this.Ga=0,this.j=[],this.l=new Jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xl("baseRetryDelayMs",5e3,t),this.hb=Xl("retryDelaySeedMs",1e4,t),this.eb=Xl("forwardChannelMaxRetries",2,t),this.xa=Xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OR(t&&t.concurrentRequestLimit),this.Ja=new UH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=WR.prototype;z.ra=8;z.H=1;function Hw(t){if(GR(t),t.H==3){var e=t.W++,n=yr(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),hd(t,n),e=new ld(t,t.l,e),e.L=2,e.v=im(yr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.v.toString(),"")}catch(i){}!n&&ee.Image&&(new Image().src=e.v,n=!0),n||(e.g=tD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cd(e)}ZR(t)}function sm(t){t.g&&(Ww(t),t.g.cancel(),t.g=null)}function GR(t){sm(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Bf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function am(t){if(!LR(t.i)&&!t.m){t.m=!0;var e=t.Na;vu||gR(),yu||(vu(),yu=!0),Ow.add(e,t),t.C=0}}function KH(t,e){return MR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=sd(Zt(t.Na,t,e),JR(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new ld(this,this.l,t);let o=this.s;if(this.U&&(o?(o=lR(o),cR(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KR(this,r,e),n=yr(this.I),Me(n,"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),hd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(qR(o)))+"&"+e:this.o&&jw(n,this.o,o)),zw(this.i,r),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),r.aa=!0,rb(r,n,null)):rb(r,n,e),this.H=2}}else this.H==3&&(t?EE(this,t):this.j.length==0||LR(this.i)||EE(this))};function EE(t,e){var n;e?n=e.m:n=t.W++;const i=yr(t.I);Me(i,"SID",t.K),Me(i,"RID",n),Me(i,"AID",t.V),hd(t,i),t.o&&t.s&&jw(i,t.o,t.s),n=new ld(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zw(t.i,n),rb(n,i,e)}function hd(t,e){t.na&&$w(t.na,function(n,i){Me(e,i,n)}),t.h&&AR({},function(n,i){Me(e,i,n)})}function KR(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Zt(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{zH(u,s,"req"+c+"_")}catch(d){i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function QR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vu||gR(),yu||(vu(),yu=!0),Ow.add(e,t),t.A=0}}function qw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=sd(Zt(t.Ma,t),JR(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,YR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sd(Zt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),sm(this),YR(this))};function Ww(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function YR(t){t.g=new ld(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=yr(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),hd(t,e),t.o&&t.s&&jw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=im(yr(e)),n.s=null,n.S=!0,SR(n,t)}z.ib=function(){this.v!=null&&(this.v=null,sm(this),qw(this),an(19))};function Bf(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function XR(t,e){var n=null;if(t.g==e){Bf(t),Ww(t),t.g=null;var i=2}else if(sb(t.i,e))n=e.F,FR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=Zp(),Vt(i,new xR(i,n)),am(t)}else QR(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&KH(t,e)||i==2&&qw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Go(t,5);break;case 4:Go(t,10);break;case 3:Go(t,6);break;default:Go(t,2)}}}function JR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Go(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Zt(t.pb,t);n||(n=new Zo("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||Mf(n,"https"),im(n)),VH(n.toString(),i)}else an(2);t.H=0,t.h&&t.h.za(e),ZR(t),GR(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function ZR(t){if(t.H=0,t.ma=[],t.h){const e=BR(t.i);(e.length!=0||t.j.length!=0)&&(pE(t.ma,e),pE(t.ma,t.j),t.i.i.length=0,Tw(t.j),t.j.length=0),t.h.ya()}}function eD(t,e,n){var i=n instanceof Zo?yr(n):new Zo(n);if(i.g!="")e&&(i.g=e+"."+i.g),Ff(i,i.m);else{var r=ee.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Zo(null);i&&Mf(o,i),e&&(o.g=e),r&&Ff(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Me(i,n,e),Me(i,"VER",t.ra),hd(t,i),i}function tD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new nt(new ud({ob:!0})):new nt(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function nD(){}z=nD.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Uf(){if(Xa&&!(10<=Number(aH)))throw Error("Environmental error: no available transport.")}Uf.prototype.g=function(t,e){return new Pn(t,e)};function Pn(t,e){$t.call(this),this.g=new WR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xl(this)}At(Pn,$t);Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eD(t,null,t.Y),am(t)};Pn.prototype.close=function(){Hw(this.g)};Pn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nw(t),t=n);e.j.push(new MH(e.fb++,t)),e.H==3&&am(e)};Pn.prototype.N=function(){this.g.h=null,delete this.j,Hw(this.g),delete this.g,Pn.$.N.call(this)};function iD(t){Bw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(iD,Bw);function rD(){Uw.call(this),this.status=1}At(rD,Uw);function xl(t){this.g=t}At(xl,nD);xl.prototype.Ba=function(){Vt(this.g,"a")};xl.prototype.Aa=function(t){Vt(this.g,new iD(t))};xl.prototype.za=function(t){Vt(this.g,new rD)};xl.prototype.ya=function(){Vt(this.g,"b")};function QH(){this.blockSize=-1}function Si(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(Si,QH);Si.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Si.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)sv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){sv(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){sv(this,i),r=0;break}}this.h=r,this.i+=e};Si.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ie(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var YH={};function Gw(t){return-128<=t&&128>t?rH(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function Li(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return Mt(Li(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ab;return new Ie(e,0)}function oD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Mt(oD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Li(Math.pow(e,8)),i=$a,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Li(Math.pow(e,o)),i=i.R(o).add(Li(s))):(i=i.R(n),i=i.add(Li(s)))}return i}var ab=4294967296,$a=Gw(0),lb=Gw(1),IE=Gw(16777216);z=Ie.prototype;z.ea=function(){if(Gn(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ab+i)*e,e*=ab}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(rr(this))return"0";if(Gn(this))return"-"+Mt(this).toString(t);for(var e=Li(Math.pow(t,6)),n=this,i="";;){var r=Vf(n,e).g;n=zf(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,rr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function rr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gn(t){return t.h==-1}z.X=function(t){return t=zf(this,t),Gn(t)?-1:rr(t)?0:1};function Mt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ie(n,~t.h).add(lb)}z.abs=function(){return Gn(this)?Mt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function zf(t,e){return t.add(Mt(e))}z.R=function(t){if(rr(this)||rr(t))return $a;if(Gn(this))return Gn(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Gn(t))return Mt(this.R(Mt(t)));if(0>this.X(IE)&&0>t.X(IE))return Li(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=s*l,ch(n,2*i+2*r),n[2*i+2*r+1]+=o*l,ch(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,ch(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,ch(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ie(n,0)};function ch(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Jl(t,e){this.g=t,this.h=e}function Vf(t,e){if(rr(e))throw Error("division by zero");if(rr(t))return new Jl($a,$a);if(Gn(t))return e=Vf(Mt(t),e),new Jl(Mt(e.g),Mt(e.h));if(Gn(e))return e=Vf(t,Mt(e)),new Jl(Mt(e.g),e.h);if(30<t.g.length){if(Gn(t)||Gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lb,i=e;0>=i.X(t);)n=SE(n),i=SE(i);var r=Hs(n,1),o=Hs(i,1);for(i=Hs(i,2),n=Hs(n,2);!rr(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Hs(i,1),n=Hs(n,1)}return e=zf(t,r.R(e)),new Jl(r,e)}for(r=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Li(n),s=o.R(e);Gn(s)||0<s.X(t);)n-=i,o=Li(n),s=o.R(e);rr(o)&&(o=lb),r=r.add(o),t=zf(t,s)}return new Jl(r,t)}z.gb=function(t){return Vf(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ie(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ie(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ie(n,this.h^t.h)};function SE(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ie(n,t.h)}function Hs(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ie(r,t.h)}Uf.prototype.createWebChannel=Uf.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;em.NO_ERROR=0;em.TIMEOUT=8;em.HTTP_ERROR=6;kR.COMPLETE="complete";ER.EventType=ad;ad.OPEN="a";ad.CLOSE="b";ad.ERROR="c";ad.MESSAGE="d";$t.prototype.listen=$t.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;Si.prototype.digest=Si.prototype.l;Si.prototype.reset=Si.prototype.reset;Si.prototype.update=Si.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=Li;Ie.fromString=oD;var XH=function(){return new Uf},JH=function(){return Zp()},av=em,ZH=kR,e9=As,TE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},t9=ud,uh=ER,n9=nt,i9=Si,Aa=Ie;const CE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new id("@firebase/firestore");function cb(){return ao.logLevel}function r9(t){ao.setLogLevel(t)}function D(t,...e){if(ao.logLevel<=ae.DEBUG){const n=e.map(Kw);ao.debug(`Firestore (${kl}): ${t}`,...n)}}function rt(t,...e){if(ao.logLevel<=ae.ERROR){const n=e.map(Kw);ao.error(`Firestore (${kl}): ${t}`,...n)}}function Ti(t,...e){if(ao.logLevel<=ae.WARN){const n=e.map(Kw);ao.warn(`Firestore (${kl}): ${t}`,...n)}}function Kw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch(n){return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function Y(t,e){t||W()}function o9(t,e){t||W()}function U(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class a9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let l9=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Y(typeof i.accessToken=="string"),new sD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(e===null||typeof e=="string"),new kt(e)}};class c9{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class u9{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new c9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h9{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=o=>{o.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,D("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Y(typeof n.token=="string"),this.T=n.token,new d9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=f9(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}}function te(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function lD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ke(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Ke(0,0))}static max(){return new Q(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,i){n===void 0?n=0:n>e.length&&W(),i===void 0?i=e.length-n:i>e.length-n&&W(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ku.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ku?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends ku{construct(e,n,i){return new he(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new R(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new he(n)}static emptyPath(){return new he([])}}const p9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends ku{construct(e,n,i){return new ot(e,n,i)}static isValidIdentifier(e){return p9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new R(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new R(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new R(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new R(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(he.fromString(e))}static fromName(e){return new F(he.fromString(e).popFirst(5))}static empty(){return new F(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new he(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}}function ub(t){return t.fields.find(e=>e.kind===2)}function No(t){return t.fields.filter(e=>e.kind!==2)}cD.UNKNOWN_ID=-1;class m9{constructor(e,n){this.fieldPath=e,this.kind=n}}class jf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new jf(0,Nn.min())}}function uD(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Q.fromTimestamp(i===1e9?new Ke(n+1,0):new Ke(n,i));return new Nn(r,F.empty(),e)}function dD(t){return new Nn(t.readTime,t.key,-1)}class Nn{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Nn(Q.min(),F.empty(),-1)}static max(){return new Nn(Q.max(),F.empty(),-1)}}function Qw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==hD)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,i)=>{n(e)})}static reject(e){return new _((n,i)=>{i(e)})}static waitFor(e){return new _((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(e){let n=_.resolve(!1);for(const i of e)n=n.next(r=>r?_.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new _((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new _((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Tt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Pc(e,n.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Yw(i.target.error);this.v.reject(new Pc(e,r))}}static open(e,n,i,r){try{return new lm(n,e.transaction(r,i))}catch(o){throw new Pc(n,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new v9(n)}}class pi{constructor(e,n,i){this.name=e,this.version=n,this.V=i,pi.S(gt())===12.2&&rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Lo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!qA())return!1;if(pi.C())return!0;const e=gt(),n=pi.S(e),i=0<n&&n<10,r=pi.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async $(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{const s=o.target.result;n(s)},r.onblocked=()=>{i(new Pc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{const s=o.target.error;s.name==="VersionError"?i(new R(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new R(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Pc(e,s))},r.onupgradeneeded=o=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.V.O(s,r.transaction,o.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,r){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.$(e);const a=lm.open(this.db,e,o?"readonly":"readwrite",i),l=r(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),_.reject(c))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class g9{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Lo(this.L.delete())}}class Pc extends R{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function So(t){return t.name==="IndexedDbTransactionError"}class v9{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Lo(i)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Lo(this.store.add(e))}get(e){return Lo(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Lo(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Lo(this.store.count())}j(e,n){const i=this.options(e,n);if(i.index||typeof this.store.getAll!="function"){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new _((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new _((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,n){D("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.W(r,n)}Z(e){const n=this.cursor({});return new _((i,r)=>{n.onerror=o=>{const s=Yw(o.target.error);r(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,n){const i=[];return new _((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new g9(a),c=n(a.primaryKey,a.value,l);if(c instanceof _){const u=c.catch(d=>(l.done(),_.reject(d)));i.push(u)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>_.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Lo(t){return new _((e,n)=>{t.onsuccess=i=>{const r=i.target.result;e(r)},t.onerror=i=>{const r=Yw(i.target.error);n(r)}})}let $E=!1;function Yw(t){const e=pi.S(gt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new R("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $E||($E=!0,setTimeout(()=>{throw i},0)),i}}return t}class y9{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){D("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{D("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){So(n)?D("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Io(n)}await this.et(6e4)})}}class b9{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const i=new Set;let r=n,o=!0;return _.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return D("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}it(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(D("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}rt(e,n){let i=e;return n.changes.forEach((r,o)=>{const s=dD(o);Qw(s,i)>0&&(i=s)}),new Nn(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}vn.ct=-1;function fd(t){return t==null}function Eu(t){return t===0&&1/t==-1/0}function pD(t){return typeof t=="number"&&Number.isInteger(t)&&!Eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=w9(t.get(n),e);return AE(e)}function w9(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function AE(t){return t+""}function Mi(t){const e=t.length;if(Y(e>=2),e===2)return Y(t.charAt(0)===""&&t.charAt(1)===""),he.emptyPath();const n=e-2,i=[];let r="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&W(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;r.length===0?l=a:(r+=a,l=r,r=""),i.push(l);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:W()}o=s+2}return new he(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e){return[t,cn(e)]}function mD(t,e,n){return[t,cn(e),n]}const _9={},x9=["prefixPath","collectionGroup","readTime","documentId"],k9=["prefixPath","collectionGroup","documentId"],E9=["collectionGroup","readTime","prefixPath","documentId"],I9=["canonicalId","targetId"],S9=["targetId","path"],T9=["path","targetId"],C9=["collectionId","parent"],$9=["indexId","uid"],A9=["uid","sequenceNumber"],R9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D9=["indexId","uid","orderedDocumentKey"],P9=["userId","collectionPath","documentId"],N9=["userId","collectionPath","largestBatchId"],O9=["userId","collectionGroup","largestBatchId"],gD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],L9=[...gD,"documentOverlays"],vD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yD=vD,M9=[...yD,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends fD{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Rt(t,e){const n=U(t);return pi.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:Lt.RED,this.left=r!=null?r:Lt.EMPTY,this.right=o!=null?o:Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Lt(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Lt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Ue(ot.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wD("Invalid base64 string: "+r):r}}(e);return new vt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const B9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(Y(!!t),typeof t=="string"){let e=0;const n=B9.exec(t);if(Y(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xw(t){const e=t.mapValue.fields.__previous_value__;return cm(e)?Xw(e):e}function Iu(t){const e=lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,i,r,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class uo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lh={nullValue:"NULL_VALUE"};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cm(t)?4:_D(t)?9007199254740991:10:W()}function Wi(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iu(t).isEqual(Iu(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=lo(i.timestampValue),s=lo(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return co(i.bytesValue).isEqual(co(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return tt(i.geoPointValue.latitude)===tt(r.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return tt(i.integerValue)===tt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=tt(i.doubleValue),s=tt(r.doubleValue);return o===s?Eu(o)===Eu(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(DE(o)!==DE(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Wi(o[a],s[a])))return!1;return!0}(t,e);default:return W()}}function Su(t,e){return(t.values||[]).find(n=>Wi(n,e))!==void 0}function ho(t,e){if(t===e)return 0;const n=hs(t),i=hs(e);if(n!==i)return te(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(r,o){const s=tt(r.integerValue||r.doubleValue),a=tt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return NE(t.timestampValue,e.timestampValue);case 4:return NE(Iu(t),Iu(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(r,o){const s=co(r),a=co(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=te(s[l],a[l]);if(c!==0)return c}return te(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const s=te(tt(r.latitude),tt(o.latitude));return s!==0?s:te(tt(r.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=ho(s[l],a[l]);if(c)return c}return te(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Wr.mapValue&&o===Wr.mapValue)return 0;if(r===Wr.mapValue)return 1;if(o===Wr.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=te(a[u],c[u]);if(d!==0)return d;const h=ho(s[a[u]],l[c[u]]);if(h!==0)return h}return te(a.length,c.length)}(t.mapValue,e.mapValue);default:throw W()}}function NE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=lo(t),i=lo(e),r=te(n.seconds,i.seconds);return r!==0?r:te(n.nanos,i.nanos)}function Za(t){return hb(t)}function hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=lo(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?co(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=hb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${hb(i.fields[a])}`;return o+"}"}(t.mapValue):W();var e,n}function fs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fb(t){return!!t&&"integerValue"in t}function Tu(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function LE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mh(t){return!!t&&"mapValue"in t}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Nc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _D(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function z9(t){return"nullValue"in t?Lh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fs(uo.empty(),F.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:W()}function V9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fs(uo.empty(),F.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Wr:W()}function ME(t,e){const n=ho(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FE(t,e){const n=ho(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=ot.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=Nc(s):r.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Mh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Rs(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Bt(Nc(this.value))}}function xD(t){const e=[];return Rs(t.fields,(n,i)=>{const r=new ot([n]);if(Mh(i)){const o=xD(i.mapValue).fields;if(o.length===0)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Fe(e,0,Q.min(),Q.min(),Q.min(),Bt.empty(),0)}static newFoundDocument(e,n,i,r){return new Fe(e,1,n,Q.min(),i,r,0)}static newNoDocument(e,n){return new Fe(e,2,n,Q.min(),Q.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,Q.min(),Q.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.position=e,this.inclusive=n}}function BE(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],s=t.position[r];if(o.field.isKeyField()?i=F.comparator(F.fromName(s.referenceValue),n.key):i=ho(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function UE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function j9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{}class re extends kD{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new H9(e,n,i):n==="array-contains"?new G9(e,i):n==="in"?new $D(e,i):n==="not-in"?new K9(e,i):n==="array-contains-any"?new Q9(e,i):new re(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new q9(e,i):new W9(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ke extends kD{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ke(e,n)}matches(e){return el(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function el(t){return t.op==="and"}function pb(t){return t.op==="or"}function Jw(t){return ED(t)&&el(t)}function ED(t){for(const e of t.filters)if(e instanceof ke)return!1;return!0}function mb(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(Jw(t))return t.filters.map(e=>mb(e)).join(",");{const e=t.filters.map(n=>mb(n)).join(",");return`${t.op}(${e})`}}function ID(t,e){return t instanceof re?function(n,i){return i instanceof re&&n.op===i.op&&n.field.isEqual(i.field)&&Wi(n.value,i.value)}(t,e):t instanceof ke?function(n,i){return i instanceof ke&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((r,o,s)=>r&&ID(o,i.filters[s]),!0):!1}(t,e):void W()}function SD(t,e){const n=t.filters.concat(e);return ke.create(n,t.op)}function TD(t){return t instanceof re?function(e){return`${e.field.canonicalString()} ${e.op} ${Za(e.value)}`}(t):t instanceof ke?function(e){return e.op.toString()+" {"+e.getFilters().map(TD).join(" ,")+"}"}(t):"Filter"}class H9 extends re{constructor(e,n,i){super(e,n,i),this.key=F.fromName(i.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class q9 extends re{constructor(e,n){super(e,"in",n),this.keys=CD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W9 extends re{constructor(e,n){super(e,"not-in",n),this.keys=CD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class G9 extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tu(n)&&Su(n.arrayValue,this.value)}}class $D extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class K9 extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class Q9 extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function gb(t,e=null,n=[],i=[],r=null,o=null,s=null){return new Y9(t,e,n,i,r,o,s)}function ps(t){const e=U(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>mb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Za(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Za(i)).join(",")),e.dt=n}return e.dt}function pd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ID(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UE(t.startAt,e.startAt)&&UE(t.endAt,e.endAt)}function Hf(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qf(t,e){return t.filters.filter(n=>n instanceof re&&n.field.isEqual(e))}function zE(t,e,n){let i=Lh,r=!0;for(const o of qf(t,e)){let s=Lh,a=!0;switch(o.op){case"<":case"<=":s=z9(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Lh}ME({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];ME({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function VE(t,e,n){let i=Wr,r=!0;for(const o of qf(t,e)){let s=Wr,a=!0;switch(o.op){case">=":case">":s=V9(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Wr}FE({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];FE({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function AD(t,e,n,i,r,o,s,a){return new kr(t,e,n,i,r,o,s,a)}function El(t){return new kr(t)}function jE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function um(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function e_(t){return t.collectionGroup!==null}function es(t){const e=U(t);if(e.wt===null){e.wt=[];const n=um(e),i=Zw(e);if(n!==null&&i===null)n.isKeyField()||e.wt.push(new Ra(n)),e.wt.push(new Ra(ot.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ra(ot.keyField(),o))}}}return e.wt}function En(t){const e=U(t);if(!e._t)if(e.limitType==="F")e._t=gb(e.path,e.collectionGroup,es(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of es(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Ra(o.field,s))}const i=e.endAt?new fo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fo(e.startAt.position,e.startAt.inclusive):null;e._t=gb(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function vb(t,e){e.getFirstInequalityField(),um(t);const n=t.filters.concat([e]);return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Wf(t,e,n){return new kr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return pd(En(t),En(e))&&t.limitType===e.limitType}function RD(t){return`${ps(En(t))}|lt:${t.limitType}`}function yb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>TD(i)).join(", ")}]`),fd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(i)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Za(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Za(i)).join(",")),`Target(${n})`}(En(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):F.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of es(n))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(r,o,s){const a=BE(r,o,s);return r.inclusive?a<=0:a<0}(n.startAt,es(n),i)||n.endAt&&!function(r,o,s){const a=BE(r,o,s);return r.inclusive?a>=0:a>0}(n.endAt,es(n),i))}(t,e)}function DD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PD(t){return(e,n)=>{let i=!1;for(const r of es(t)){const o=X9(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function X9(t,e,n){const i=t.field.isKeyField()?F.comparator(e.key,n.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return a!==null&&l!==null?ho(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return bD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new De(F.comparator);function bn(){return J9}const ND=new De(F.comparator);function bc(...t){let e=ND;for(const n of t)e=e.insert(n.key,n);return e}function OD(t){let e=ND;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Fi(){return Oc()}function LD(){return Oc()}function Oc(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z9=new De(F.comparator),eq=new Ue(F.comparator);function ne(...t){let e=eq;for(const n of t)e=e.add(n);return e}const tq=new Ue(te);function t_(){return tq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function FD(t){return{integerValue:""+t}}function BD(t,e){return pD(e)?FD(e):MD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this._=void 0}}function nq(t,e,n){return t instanceof tl?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&cm(r)&&(r=Xw(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,e):t instanceof ms?zD(t,e):t instanceof gs?VD(t,e):function(i,r){const o=UD(i,r),s=HE(o)+HE(i.gt);return fb(o)&&fb(i.gt)?FD(s):MD(i.serializer,s)}(t,e)}function iq(t,e,n){return t instanceof ms?zD(t,e):t instanceof gs?VD(t,e):n}function UD(t,e){return t instanceof nl?fb(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}class tl extends dm{}class ms extends dm{constructor(e){super(),this.elements=e}}function zD(t,e){const n=jD(e);for(const i of t.elements)n.some(r=>Wi(r,i))||n.push(i);return{arrayValue:{values:n}}}class gs extends dm{constructor(e){super(),this.elements=e}}function VD(t,e){let n=jD(e);for(const i of t.elements)n=n.filter(r=>!Wi(r,i));return{arrayValue:{values:n}}}class nl extends dm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function HE(t){return tt(t.integerValue||t.doubleValue)}function jD(t){return Tu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.field=e,this.transform=n}}function rq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ms&&i instanceof ms||n instanceof gs&&i instanceof gs?Ja(n.elements,i.elements,Wi):n instanceof nl&&i instanceof nl?Wi(n.gt,i.gt):n instanceof tl&&i instanceof tl}(t.transform,e.transform)}class oq{constructor(e,n){this.version=e,this.transformResults=n}}class Ge{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ge}static exists(e){return new Ge(void 0,e)}static updateTime(e){return new Ge(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hm{}function HD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sl(t.key,Ge.none()):new Il(t.key,t.data,Ge.none());{const n=t.data,i=Bt.empty();let r=new Ue(ot.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Er(t.key,i,new yn(r.toArray()),Ge.none())}}function sq(t,e,n){t instanceof Il?function(i,r,o){const s=i.value.clone(),a=WE(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Er?function(i,r,o){if(!Fh(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=WE(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(qD(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,i){return t instanceof Il?function(r,o,s,a){if(!Fh(r.precondition,o))return s;const l=r.value.clone(),c=GE(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Er?function(r,o,s,a){if(!Fh(r.precondition,o))return s;const l=GE(r.fieldTransforms,a,o),c=o.data;return c.setAll(qD(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,i):function(r,o,s){return Fh(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function aq(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=UD(i.transform,r||null);o!=null&&(n===null&&(n=Bt.empty()),n.set(i.field,o))}return n||null}function qE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ja(n,i,(r,o)=>rq(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Il extends hm{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Er extends hm{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function WE(t,e,n){const i=new Map;Y(t.length===n.length);for(let r=0;r<n.length;r++){const o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,iq(s,a,n[r]))}return i}function GE(t,e,n){const i=new Map;for(const r of t){const o=r.transform,s=n.data.field(r.field);i.set(r.field,nq(o,s,e))}return i}class Sl extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n_ extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&sq(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Lc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Lc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=LD();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;const l=HD(s,a);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Q.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,i)=>qE(n,i))&&Ja(this.baseMutations,e.baseMutations,(n,i)=>qE(n,i))}}class r_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Y(e.mutations.length===i.length);let r=Z9;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new r_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,ue;function WD(t){switch(t){default:return W();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function GD(t){if(t===void 0)return rt("GRPC error has no .code"),k.UNKNOWN;switch(t){case ut.OK:return k.OK;case ut.CANCELLED:return k.CANCELLED;case ut.UNKNOWN:return k.UNKNOWN;case ut.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ut.INTERNAL:return k.INTERNAL;case ut.UNAVAILABLE:return k.UNAVAILABLE;case ut.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ut.NOT_FOUND:return k.NOT_FOUND;case ut.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ut.ABORTED:return k.ABORTED;case ut.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ut.DATA_LOSS:return k.DATA_LOSS;default:return W()}}(ue=ut||(ut={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hh}static getOrCreateInstance(){return hh===null&&(hh=new s_),hh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let hh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=new Aa([4294967295,4294967295],0);function KE(t){const e=KD().encode(t),n=new i9;return n.update(e),new Uint8Array(n.digest())}function QE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Aa([n,i],0),new Aa([r,o],0)]}class a_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(i<0)throw new wc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Aa.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(Aa.fromNumber(i)));return r.compare(cq)===1&&(r=new Aa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=KE(e),[i,r]=QE(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new a_(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=KE(e),[i,r]=QE(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new yd(Q.min(),r,new De(te),bn(),ne())}}class bd{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new bd(i,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class QD{constructor(e,n){this.targetId=e,this.Vt=n}}class YD{constructor(e,n,i=vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class YE{constructor(){this.St=0,this.Dt=JE(),this.Ct=vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ne(),n=ne(),i=ne();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:W()}}),new bd(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=JE()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class uq{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=bn(),this.zt=XE(),this.Wt=new De(te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(Hf(s))if(r===0){const a=new F(s.path);this.Yt(i,a,Fe.newNoDocument(a,Q.min()))}else Y(r===1);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);if(l!==0){this.ee(i);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(i,c)}(n=s_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,b,v;const g={localCacheCount:u,existenceFilterCount:d.count},y=d.unchangedNames;return y&&(g.bloomFilter={applied:c===0,hashCount:(h=y==null?void 0:y.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=y==null?void 0:y.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(v=(b=y==null?void 0:y.bits)===null||b===void 0?void 0:b.padding)!==null&&v!==void 0?v:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=co(o).toUint8Array()}catch(u){if(u instanceof wD)return Ti("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new a_(l,s,a)}catch(u){return Ti(u instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Hf(a.target)){const l=new F(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,Fe.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let i=ne();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new yd(e,n,this.Wt,this.jt,i);return this.jt=bn(),this.zt=XE(),this.Wt=new De(te),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new YE,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ue(te),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YE),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function XE(){return new De(F.comparator)}function JE(){return new De(F.comparator)}const dq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),fq=(()=>({and:"AND",or:"OR"}))();class pq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bb(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function il(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mq(t,e){return il(t,e.toTimestamp())}function st(t){return Y(!!t),Q.fromTimestamp(function(e){const n=lo(e);return new Ke(n.seconds,n.nanos)}(t))}function l_(t,e){return function(n){return new he(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function JD(t){const e=he.fromString(t);return Y(aP(e)),e}function Cu(t,e){return l_(t.databaseId,e.path)}function Vi(t,e){const n=JD(e);if(n.get(1)!==t.databaseId.projectId)throw new R(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(eP(n))}function wb(t,e){return l_(t.databaseId,e)}function ZD(t){const e=JD(t);return e.length===4?he.emptyPath():eP(e)}function $u(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eP(t){return Y(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZE(t,e,n){return{name:Cu(t,e),fields:n.value.mapValue.fields}}function tP(t,e,n){const i=Vi(t,e.name),r=st(e.updateTime),o=e.createTime?st(e.createTime):Q.min(),s=new Bt({mapValue:{fields:e.fields}}),a=Fe.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gq(t,e){return"found"in e?function(n,i){Y(!!i.found),i.found.name,i.found.updateTime;const r=Vi(n,i.found.name),o=st(i.found.updateTime),s=i.found.createTime?st(i.found.createTime):Q.min(),a=new Bt({mapValue:{fields:i.found.fields}});return Fe.newFoundDocument(r,o,s,a)}(t,e):"missing"in e?function(n,i){Y(!!i.missing),Y(!!i.readTime);const r=Vi(n,i.missing),o=st(i.readTime);return Fe.newNoDocument(r,o)}(t,e):W()}function vq(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Y(c===void 0||typeof c=="string"),vt.fromBase64String(c||"")):(Y(c===void 0||c instanceof Uint8Array),vt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?k.UNKNOWN:GD(l.code);return new R(c,l.message||"")}(s);n=new YD(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vi(t,i.document.name),o=st(i.document.updateTime),s=i.document.createTime?st(i.document.createTime):Q.min(),a=new Bt({mapValue:{fields:i.document.fields}}),l=Fe.newFoundDocument(r,o,s,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Bh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Vi(t,i.document),o=i.readTime?st(i.readTime):Q.min(),s=Fe.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Bh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Vi(t,i.document),o=i.removedTargetIds||[];n=new Bh([],o,r,null)}else{if(!("filter"in e))return W();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,s=new lq(r,o),a=i.targetId;n=new QD(a,s)}}return n}function Au(t,e){let n;if(e instanceof Il)n={update:ZE(t,e.key,e.value)};else if(e instanceof Sl)n={delete:Cu(t,e.key)};else if(e instanceof Er)n={update:ZE(t,e.key,e.data),updateMask:kq(e.fieldMask)};else{if(!(e instanceof n_))return W();n={verify:Cu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof tl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ms)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof gs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof nl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw W()}(0,i))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:mq(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:W()}(t,e.precondition)),n}function _b(t,e){const n=e.currentDocument?function(r){return r.updateTime!==void 0?Ge.updateTime(st(r.updateTime)):r.exists!==void 0?Ge.exists(r.exists):Ge.none()}(e.currentDocument):Ge.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;if("setToServerValue"in s)Y(s.setToServerValue==="REQUEST_TIME"),a=new tl;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];a=new ms(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];a=new gs(c)}else"increment"in s?a=new nl(o,s.increment):W();const l=ot.fromServerFormat(s.fieldPath);return new vd(l,a)}(t,r)):[];if(e.update){e.update.name;const r=Vi(t,e.update.name),o=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const l=a.fieldPaths||[];return new yn(l.map(c=>ot.fromServerFormat(c)))}(e.updateMask);return new Er(r,o,s,n,i)}return new Il(r,o,n,i)}if(e.delete){const r=Vi(t,e.delete);return new Sl(r,n)}if(e.verify){const r=Vi(t,e.verify);return new n_(r,n)}return W()}function yq(t,e){return t&&t.length>0?(Y(e!==void 0),t.map(n=>function(i,r){let o=i.updateTime?st(i.updateTime):st(r);return o.isEqual(Q.min())&&(o=st(r)),new oq(o,i.transformResults||[])}(n,e))):[]}function nP(t,e){return{documents:[wb(t,e.path)]}}function iP(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=wb(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wb(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return sP(ke.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const o=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:ta(u.field),direction:wq(u.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=bb(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function rP(t){let e=ZD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Y(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(u){const d=oP(u);return d instanceof ke&&Jw(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(u=>function(d){return new Ra(na(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,fd(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new fo(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new fo(h,d)}(n.endAt)),AD(e,r,s,o,a,"F",l,c)}function bq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oP(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=na(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=na(e.unaryFilter.field);return re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=na(e.unaryFilter.field);return re.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(e.unaryFilter.field);return re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return re.create(na(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ke.create(e.compositeFilter.filters.map(n=>oP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function wq(t){return dq[t]}function _q(t){return hq[t]}function xq(t){return fq[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return ot.fromServerFormat(t.fieldPath)}function sP(t){return t instanceof re?function(e){if(e.op==="=="){if(LE(e.value))return{unaryFilter:{field:ta(e.field),op:"IS_NAN"}};if(OE(e.value))return{unaryFilter:{field:ta(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(LE(e.value))return{unaryFilter:{field:ta(e.field),op:"IS_NOT_NAN"}};if(OE(e.value))return{unaryFilter:{field:ta(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(e.field),op:_q(e.op),value:e.value}}}(t):t instanceof ke?function(e){const n=e.getFilters().map(i=>sP(i));return n.length===1?n[0]:{compositeFilter:{op:xq(e.op),filters:n}}}(t):W()}function kq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,i,r,o=Q.min(),s=Q.min(),a=vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.fe=e}}function Eq(t,e){let n;if(e.document)n=tP(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=F.fromSegments(e.noDocument.path),r=ys(e.noDocument.readTime);n=Fe.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return W();{const i=F.fromSegments(e.unknownDocument.path),r=ys(e.unknownDocument.version);n=Fe.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(i){const r=new Ke(i[0],i[1]);return Q.fromTimestamp(r)}(e.readTime)),n}function eI(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(r,o){return{name:Cu(r,o.key),fields:o.data.value.mapValue.fields,updateTime:il(r,o.version.toTimestamp()),createTime:il(r,o.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:vs(e.version)};else{if(!e.isUnknownDocument())return W();i.unknownDocument={path:n.path.toArray(),version:vs(e.version)}}return i}function Gf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ys(t){const e=new Ke(t.seconds,t.nanoseconds);return Q.fromTimestamp(e)}function Mo(t,e){const n=(e.baseMutations||[]).map(o=>_b(t.fe,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map(o=>_b(t.fe,o)),r=Ke.fromMillis(e.localWriteTimeMs);return new i_(e.batchId,r,n,i)}function _c(t){const e=ys(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ys(t.lastLimboFreeSnapshotVersion):Q.min();let i;var r;return t.query.documents!==void 0?(Y((r=t.query).documents.length===1),i=En(El(ZD(r.documents[0])))):i=function(o){return En(rP(o))}(t.query),new or(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vt.fromBase64String(t.resumeToken))}function cP(t,e){const n=vs(e.snapshotVersion),i=vs(e.lastLimboFreeSnapshotVersion);let r;r=Hf(e.target)?nP(t.fe,e.target):iP(t.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ps(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function c_(t){const e=rP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wf(e,e.limit,"L"):e}function lv(t,e){return new o_(e.largestBatchId,_b(t.fe,e.overlayMutation))}function tI(t,e){const n=e.path.lastSegment();return[t,cn(e.path.popLast()),n]}function nI(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:vs(i.readTime),documentKey:cn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{getBundleMetadata(e,n){return iI(e).get(n).next(i=>{if(i)return{id:(r=i).bundleId,createTime:ys(r.createTime),version:r.version};var r})}saveBundleMetadata(e,n){return iI(e).put({bundleId:(i=n).id,createTime:vs(st(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return rI(e).get(n).next(i=>{if(i)return{name:(r=i).name,query:c_(r.bundledQuery),readTime:ys(r.readTime)};var r})}saveNamedQuery(e,n){return rI(e).put(function(i){return{name:i.name,readTime:vs(st(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function iI(t){return Rt(t,"bundles")}function rI(t){return Rt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const i=n.uid||"";return new fm(e,i)}getOverlay(e,n){return Zl(e).get(tI(this.userId,n)).next(i=>i?lv(this.serializer,i):null)}getOverlays(e,n){const i=Fi();return _.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){const r=[];return i.forEach((o,s)=>{const a=new o_(n,s);r.push(this.we(e,a))}),_.waitFor(r)}removeOverlaysForBatchId(e,n,i){const r=new Set;n.forEach(s=>r.add(cn(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Zl(e).J("collectionPathOverlayIndex",a))}),_.waitFor(o)}getOverlaysForCollection(e,n,i){const r=Fi(),o=cn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zl(e).j("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=lv(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,n,i,r){const o=Fi();let s;const a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Zl(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=lv(this.serializer,c);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,n){return Zl(e).put(function(i,r,o){const[s,a,l]=tI(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Au(i.fe,o.mutation)}}(this.serializer,this.userId,n))}}function Zl(t){return Rt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tt(e.integerValue));else if("doubleValue"in e){const i=tt(e.doubleValue);isNaN(i)?this.ye(n,13):(this.ye(n,15),Eu(i)?n.pe(0):n.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(n,20),typeof i=="string"?n.Ie(i):(n.Ie(`${i.seconds||""}`),n.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(co(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(n,45),n.pe(i.latitude||0),n.pe(i.longitude||0)}else"mapValue"in e?_D(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):W()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const i=e.fields||{};this.ye(n,55);for(const r of Object.keys(i))this.Te(r,n),this.me(i[r],n)}Pe(e,n){const i=e.values||[];this.ye(n,50);for(const r of i)this.me(r,n)}ve(e,n){this.ye(n,37),F.fromName(e).path.forEach(i=>{this.ye(n,60),this.be(i,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Fo.Ve=new Fo;function Sq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function oI(t){const e=64-function(n){let i=0;for(let r=0;r<8;++r){const o=Sq(255&n[r]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Tq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.De(i.value),i=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ne(i.value),i=n.next();this.ke()}Me(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=n.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=n.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const n=this.Fe(e),i=oI(n);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Le(e){const n=this.Fe(e),i=oI(n);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Cq{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class $q{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class ec{constructor(){this.je=new Tq,this.ze=new Cq(this.je),this.We=new $q(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Bo(this.indexId,this.documentKey,this.arrayValue,i)}}function Cr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=sI(t.arrayValue,e.arrayValue),n!==0?n:(n=sI(t.directionalValue,e.directionalValue),n!==0?n:F.comparator(t.documentKey,e.documentKey)))}function sI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const i=n;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Y(e.collectionGroup===this.collectionId);const n=ub(e);if(n!==void 0&&!this.en(n))return!1;const i=No(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Ze!==void 0){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o){const a=i[o];if(s>=this.Ye.length||!this.sn(this.Ye[s++],a))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){var e,n;if(Y(t instanceof re||t instanceof ke),t instanceof re){if(t instanceof $D){const r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>re.create(t.field,"==",o)))||[];return ke.create(r,"or")}return t}const i=t.filters.map(r=>uP(r));return ke.create(i,t.op)}function Rq(t){if(t.getFilters().length===0)return[];const e=Eb(uP(t));return Y(dP(e)),xb(e)||kb(e)?[e]:e.getFilters()}function xb(t){return t instanceof re}function kb(t){return t instanceof ke&&Jw(t)}function dP(t){return xb(t)||kb(t)||function(e){if(e instanceof ke&&pb(e)){for(const n of e.getFilters())if(!xb(n)&&!kb(n))return!1;return!0}return!1}(t)}function Eb(t){if(Y(t instanceof re||t instanceof ke),t instanceof re)return t;if(t.filters.length===1)return Eb(t.filters[0]);const e=t.filters.map(i=>Eb(i));let n=ke.create(e,t.op);return n=Kf(n),dP(n)?n:(Y(n instanceof ke),Y(el(n)),Y(n.filters.length>1),n.filters.reduce((i,r)=>u_(i,r)))}function u_(t,e){let n;return Y(t instanceof re||t instanceof ke),Y(e instanceof re||e instanceof ke),n=t instanceof re?e instanceof re?function(i,r){return ke.create([i,r],"and")}(t,e):aI(t,e):e instanceof re?aI(e,t):function(i,r){if(Y(i.filters.length>0&&r.filters.length>0),el(i)&&el(r))return SD(i,r.getFilters());const o=pb(i)?i:r,s=pb(i)?r:i,a=o.filters.map(l=>u_(l,s));return ke.create(a,"or")}(t,e),Kf(n)}function aI(t,e){if(el(e))return SD(e,t.getFilters());{const n=e.filters.map(i=>u_(t,i));return ke.create(n,"or")}}function Kf(t){if(Y(t instanceof re||t instanceof ke),t instanceof re)return t;const e=t.getFilters();if(e.length===1)return Kf(e[0]);if(ED(t))return t;const n=e.map(r=>Kf(r)),i=[];return n.forEach(r=>{r instanceof re?i.push(r):r instanceof ke&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:ke.create(i,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(){this.rn=new d_}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Nn.min())}updateCollectionGroup(e,n,i){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class d_{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ue(he.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ue(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Uint8Array(0);class Pq{constructor(e,n){this.user=e,this.databaseId=n,this.on=new d_,this.un=new To(i=>ps(i),(i,r)=>pd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const o={collectionId:i,parent:cn(r)};return lI(e).put(o)}return _.resolve()}getCollectionParents(e,n){const i=[],r=IDBKeyRange.bound([n,""],[lD(n),""],!1,!0);return lI(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==n)break;i.push(Mi(s.parent))}return i})}addFieldIndex(e,n){const i=ph(e),r=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete r.indexId;const o=i.add(r);if(n.indexState){const s=nc(e);return o.next(a=>{s.put(nI(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const i=ph(e),r=nc(e),o=tc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const i=tc(e);let r=!0;const o=new Map;return _.forEach(this.cn(n),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ne();const a=[];return _.forEach(o,(l,c)=>{var u;D("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(y=>`${y.fieldPath}:${y.kind}`).join(",")}`} to execute ${ps(n)}`);const d=function(y,w){const C=ub(w);if(C===void 0)return null;for(const S of qf(y,C.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}(c,l),h=function(y,w){const C=new Map;for(const S of No(w))for(const E of qf(y,S.fieldPath))switch(E.op){case"==":case"in":C.set(S.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return C.set(S.fieldPath.canonicalString(),E.value),Array.from(C.values())}return null}(c,l),f=function(y,w){const C=[];let S=!0;for(const E of No(w)){const T=E.kind===0?zE(y,E.fieldPath,y.startAt):VE(y,E.fieldPath,y.startAt);C.push(T.value),S&&(S=T.inclusive)}return new fo(C,S)}(c,l),p=function(y,w){const C=[];let S=!0;for(const E of No(w)){const T=E.kind===0?VE(y,E.fieldPath,y.endAt):zE(y,E.fieldPath,y.endAt);C.push(T.value),S&&(S=T.inclusive)}return new fo(C,S)}(c,l),m=this.hn(l,c,f),b=this.hn(l,c,p),v=this.ln(l,c,h),g=this.fn(l.indexId,d,m,f.inclusive,b,p.inclusive,v);return _.forEach(g,y=>i.H(y,n.limit).next(w=>{w.forEach(C=>{const S=F.fromSegments(C.documentKey);s.has(S)||(s=s.add(S),a.push(S))})}))}).next(()=>a)}return _.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Rq(ke.create(e.filters,"and")).map(i=>gb(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,i,r,o,s,a){const l=(n!=null?n.length:1)*Math.max(i.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/c]):fh,f=this.wn(e,h,i[d%c],r),p=this._n(e,h,o[d%c],s),m=a.map(b=>this.wn(e,h,b,!0));u.push(...this.createRange(f,p,m))}return u}wn(e,n,i,r){const o=new Bo(e,F.empty(),n,i);return r?o:o.Je()}_n(e,n,i,r){const o=new Bo(e,F.empty(),n,i);return r?o.Je():o}an(e,n){const i=new Aq(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2;const r=this.cn(n);return _.forEach(r,o=>this.an(e,o).next(s=>{s?i!==0&&s.fields.length<function(a){let l=new Ue(ot.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(o)&&(i=1):i=0})).next(()=>function(o){return o.limit!==null}(n)&&r.length>1&&i===2?1:i)}mn(e,n){const i=new ec;for(const r of No(e)){const o=n.data.field(r.fieldPath);if(o==null)return null;const s=i.He(r.kind);Fo.Ve._e(o,s)}return i.Qe()}dn(e){const n=new ec;return Fo.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const i=new ec;return Fo.Ve._e(fs(this.databaseId,n),i.He(function(r){const o=No(r);return o.length===0?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,n,i){if(i===null)return[];let r=[];r.push(new ec);let o=0;for(const s of No(e)){const a=i[o++];for(const l of r)if(this.yn(n,s.fieldPath)&&Tu(a))r=this.pn(r,s,a);else{const c=l.He(s.kind);Fo.Ve._e(a,c)}}return this.In(r)}hn(e,n,i){return this.ln(e,n,i.position)}In(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Qe();return n}pn(e,n,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new ec;l.seed(a.Qe()),Fo.Ve._e(s,l.He(n.kind)),o.push(l)}return o}yn(e,n){return!!e.filters.find(i=>i instanceof re&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){const i=ph(e),r=nc(e);return(n?i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.j()).next(o=>{const s=[];return _.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(c,u){const d=u?new jf(u.sequenceNumber,new Nn(ys(u.readTime),new F(Mi(u.documentKey)),u.largestBatchId)):jf.empty(),h=c.fields.map(([f,p])=>new m9(ot.fromServerFormat(f),p));return new cD(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:te(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const r=ph(e),o=nc(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>_.forEach(a,l=>o.put(nI(l.indexId,this.user,s,i)))))}updateIndexEntries(e,n){const i=new Map;return _.forEach(n,(r,o)=>{const s=i.get(r.collectionGroup);return(s?_.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),_.forEach(a,l=>this.En(e,r,l).next(c=>{const u=this.An(o,l);return c.isEqual(u)?_.resolve():this.vn(e,o,l,c,u)}))))})}Rn(e,n,i,r){return tc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,i,r){return tc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,n.key),n.key.path.toArray()])}En(e,n,i){const r=tc(e);let o=new Ue(Cr);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,n)])},(s,a)=>{o=o.add(new Bo(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,n){let i=new Ue(Cr);const r=this.mn(n,e);if(r==null)return i;const o=ub(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Tu(s))for(const a of s.arrayValue.values||[])i=i.add(new Bo(n.indexId,e.key,this.dn(a),r))}else i=i.add(new Bo(n.indexId,e.key,fh,r));return i}vn(e,n,i,r,o){D("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,l,c,u,d){const h=a.getIterator(),f=l.getIterator();let p=qs(h),m=qs(f);for(;p||m;){let b=!1,v=!1;if(p&&m){const g=c(p,m);g<0?v=!0:g>0&&(b=!0)}else p!=null?v=!0:b=!0;b?(u(m),m=qs(f)):v?(d(p),p=qs(h)):(p=qs(h),m=qs(f))}}(r,o,Cr,a=>{s.push(this.Rn(e,n,i,a))},a=>{s.push(this.Pn(e,n,i,a))}),_.waitFor(s)}Tn(e){let n=1;return nc(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>Cr(s,a)).filter((s,a,l)=>!a||Cr(s,l[a-1])!==0);const r=[];r.push(e);for(const s of i){const a=Cr(s,e),l=Cr(s,n);if(a===0)r[0]=e.Je();else if(a>0&&l<0)r.push(s),r.push(s.Je());else if(l>0)break}r.push(n);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,fh,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,fh,[]];o.push(IDBKeyRange.bound(a,l))}return o}bn(e,n){return Cr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cI)}getMinOffset(e,n){return _.mapArray(this.cn(n),i=>this.an(e,i).next(r=>r||W())).next(cI)}}function lI(t){return Rt(t,"collectionParents")}function tc(t){return Rt(t,"indexEntries")}function ph(t){return Rt(t,"indexConfiguration")}function nc(t){return Rt(t,"indexState")}function cI(t){Y(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;Qw(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Nn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{Y(a===1)}));const c=[];for(const u of n.mutations){const d=mD(e,u.key.path,n.batchId);o.push(r.delete(d)),c.push(u.key)}return _.waitFor(o).next(()=>c)}function Qf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw W();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class pm{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,n,i,r){Y(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new pm(o,n,i,r)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $r(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){const o=ia(e),s=$r(e);return s.add({}).next(a=>{Y(typeof a=="number");const l=new i_(a,n,i,r),c=function(h,f,p){const m=p.baseMutations.map(v=>Au(h.fe,v)),b=p.mutations.map(v=>Au(h.fe,v));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:b}}(this.serializer,this.userId,l),u=[];let d=new Ue((h,f)=>te(h.canonicalString(),f.canonicalString()));for(const h of r){const f=mD(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(f,_9))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),_.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return $r(e).get(n).next(i=>i?(Y(i.userId===this.userId),Mo(this.serializer,i)):null)}Sn(e,n){return this.Vn[n]?_.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const r=i.keys();return this.Vn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return $r(e).X({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=i),o=Mo(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $r(e).X({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $r(e).j("userMutationsIndex",n).next(i=>i.map(r=>Mo(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=Oh(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return ia(e).X({range:r},(s,a,l)=>{const[c,u,d]=s,h=Mi(u);if(c===this.userId&&n.path.isEqual(h))return $r(e).get(d).next(f=>{if(!f)throw W();Y(f.userId===this.userId),o.push(Mo(this.serializer,f))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ue(te);const r=[];return n.forEach(o=>{const s=Oh(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ia(e).X({range:a},(c,u,d)=>{const[h,f,p]=c,m=Mi(f);h===this.userId&&o.path.isEqual(m)?i=i.add(p):d.done()});r.push(l)}),_.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1,o=Oh(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Ue(te);return ia(e).X({range:s},(l,c,u)=>{const[d,h,f]=l,p=Mi(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const i=[],r=[];return n.forEach(o=>{r.push($r(e).get(o).next(s=>{if(s===null)throw W();Y(s.userId===this.userId),i.push(Mo(this.serializer,s))}))}),_.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return hP(e.ht,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),_.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return _.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ia(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Mi(o[1]);r.push(l)}else a.done()}).next(()=>{Y(r.length===0)})})}containsKey(e,n){return fP(e,this.userId,n)}xn(e){return pP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fP(t,e,n){const i=Oh(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return ia(t).X({range:o,Y:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),c.done()}).next(()=>s)}function $r(t){return Rt(t,"mutations")}function ia(t){return Rt(t,"documentMutations")}function pP(t){return Rt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bs(0)}static Mn(){return new bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const i=new bs(n.highestTargetId);return n.highestTargetId=i.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Q.fromTimestamp(new Ke(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.On(e,r)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(n,i),this.On(e,i))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ws(e).delete(n.targetId)).next(()=>this.$n(e)).next(i=>(Y(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,n,i){let r=0;const o=[];return Ws(e).X((s,a)=>{const l=_c(a);l.sequenceNumber<=n&&i.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>_.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Ws(e).X((i,r)=>{const o=_c(r);n(o)})}$n(e){return dI(e).get("targetGlobalKey").next(n=>(Y(n!==null),n))}On(e,n){return dI(e).put("targetGlobalKey",n)}Fn(e,n){return Ws(e).put(cP(this.serializer,n))}Bn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const i=ps(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Ws(e).X({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=_c(a);pd(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,i){const r=[],o=Lr(e);return n.forEach(s=>{const a=cn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),_.waitFor(r)}removeMatchingKeys(e,n,i){const r=Lr(e);return _.forEach(n,o=>{const s=cn(o.path);return _.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){const i=Lr(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Lr(e);let o=ne();return r.X({range:i,Y:!0},(s,a,l)=>{const c=Mi(s[1]),u=new F(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const i=cn(n.path),r=IDBKeyRange.bound([i],[lD(i)],!1,!0);let o=0;return Lr(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}le(e,n){return Ws(e).get(n).next(i=>i?_c(i):null)}}function Ws(t){return Rt(t,"targets")}function dI(t){return Rt(t,"targetGlobal")}function Lr(t){return Rt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI([t,e],[n,i]){const r=te(t,n);return r===0?te(e,i):r}class Oq{constructor(e){this.Ln=e,this.buffer=new Ue(hI),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lq{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){D("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Qn(3e5)})}}class Mq{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return _.resolve(vn.ct);const i=new Oq(n);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),_.resolve(uI)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uI):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),cb()<=ae.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}function Fq(t,e){return new Mq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.db=e,this.garbageCollector=Fq(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Jn(e){let n=0;return this.Wn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(i,r)=>n(r))}addReference(e,n,i){return mh(e,i)}removeReference(e,n,i){return mh(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return mh(e,n)}Xn(e,n){return function(i,r){let o=!1;return pP(i).Z(s=>fP(i,s,r).next(a=>(a&&(o=!0),_.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=n){const l=this.Xn(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Q.min()),Lr(e).delete([0,cn(s.path)])))});r.push(l)}}).next(()=>_.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return mh(e,n)}Yn(e,n){const i=Lr(e);let r,o=vn.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==vn.ct&&n(new F(Mi(r)),o),o=c,r=l):o=vn.ct}).next(()=>{o!==vn.ct&&n(new F(Mi(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mh(t,e){return Lr(t).put(function(n,i){return{targetId:0,path:cn(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?_.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Ao(e).put(i)}removeEntry(e,n,i){return Ao(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Gf(o),s[s.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.Zn(e,i)))}getEntry(e,n){let i=Fe.newInvalidDocument(n);return Ao(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ic(n))},(r,o)=>{i=this.ts(n,o)}).next(()=>i)}es(e,n){let i={size:0,document:Fe.newInvalidDocument(n)};return Ao(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ic(n))},(r,o)=>{i={document:this.ts(n,o),size:Qf(o)}}).next(()=>i)}getEntries(e,n){let i=bn();return this.ns(e,n,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,n){let i=bn(),r=new De(F.comparator);return this.ns(e,n,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,Qf(s))}).next(()=>({documents:i,rs:r}))}ns(e,n,i){if(n.isEmpty())return _.resolve();let r=new Ue(mI);n.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(ic(r.first()),ic(r.last())),s=r.getIterator();let a=s.getNext();return Ao(e).X({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=F.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&mI(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.G(ic(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),Gf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ao(e).j(IDBKeyRange.bound(s,a,!0)).next(l=>{let c=bn();for(const u of l){const d=this.ts(F.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(gd(n,d)||r.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,i,r){let o=bn();const s=pI(n,i),a=pI(n,Nn.max());return Ao(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.ts(F.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new zq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fI(e).get("remoteDocumentGlobalKey").next(n=>(Y(!!n),n))}Zn(e,n){return fI(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const i=Eq(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(Q.min())))return i}return Fe.newInvalidDocument(e)}}function gP(t){return new Uq(t)}class zq extends mP{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new To(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const n=[];let i=0,r=new Ue((o,s)=>te(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(n.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=eI(this.os.serializer,s);r=r.add(o.path.popLast());const c=Qf(l);i+=c-a.size,n.push(this.os.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=eI(this.os.serializer,s.convertToNoDocument(Q.min()));n.push(this.os.addEntry(e,o,l))}}),r.forEach(o=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.os.updateMetadata(e,i)),_.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(i=>(this.us.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function fI(t){return Rt(t,"remoteDocumentGlobal")}function Ao(t){return Rt(t,"remoteDocumentsV14")}function ic(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pI(t,e){const n=e.documentKey.path.toArray();return[t,Gf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mI(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=te(n[o],i[o]),r)return r;return r=te(n.length,i.length),r||(r=te(n[n.length-2],i[i.length-2]),r||te(n[n.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Lc(i.mutation,r,yn.empty(),Ke.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ne()){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=bc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ne()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=bn();const s=Oc(),a=Oc();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Er)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Lc(u.mutation,c,u.mutation.getFieldMask(),Ke.now())):s.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Vq(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Oc();let r=new De((s,a)=>s-a),o=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||yn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||ne()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=LD();u.forEach(h=>{if(!o.has(h)){const f=HD(n.get(h),i.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return function(r){return F.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):_.resolve(Fi());let a=-1,l=o;return s.next(c=>_.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?_.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ne())).next(u=>({batchId:a,changes:OD(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(i=>{let r=bc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let o=bc();return this.indexManager.getCollectionParents(e,r).next(s=>_.forEach(s,a=>{const l=function(c,u){return new kr(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Fe.newInvalidDocument(c)))});let s=bc();return o.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Lc(c.mutation,l,yn.empty(),Ke.now()),gd(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:st(i.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(i){return{name:i.name,query:c_(i.bundledQuery),readTime:st(i.readTime)}}(n)),_.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.overlays=new De(F.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fi();return _.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.we(e,n,o)}),_.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),_.resolve()}getOverlaysForCollection(e,n,i){const r=Fi(),o=n.length+1,s=new F(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return _.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new De((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=o.get(c.largestBatchId);u===null&&(u=Fi(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Fi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return _.resolve(a)}we(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new o_(n,i));let o=this.ls.get(n);o===void 0&&(o=ne(),this.ls.set(n,o)),this.ls.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.fs=new Ue(_t.ds),this.ws=new Ue(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new _t(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new F(new he([])),i=new _t(n,e),r=new _t(n,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new F(new he([])),i=new _t(n,e),r=new _t(n,e+1);let o=ne();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _t(e,0),i=this.fs.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return F.comparator(e.key,n.key)||te(e.As,n.As)}static _s(e,n){return te(e.As,n.As)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ue(_t.ds)}checkEmpty(e){return _.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new i_(o,n,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new _t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(s)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.bs(i),o=r<0?0:r;return _.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new _t(n,0),r=new _t(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),_.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ue(te);return n.forEach(r=>{const o=new _t(r,0),s=new _t(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),_.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;F.isDocumentKey(o)||(o=o.child(""));const s=new _t(new F(o),0);let a=new Ue(te);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},s),_.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Y(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Rs;return _.forEach(n.mutations,r=>{const o=new _t(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new _t(n,0),r=this.Rs.firstAfterOrEqual(i);return _.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,_.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.Ds=e,this.docs=new De(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return _.resolve(i?i.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let i=bn();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Fe.newInvalidDocument(r))}),_.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=bn();const s=n.path,a=new F(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Qw(dD(u),i)<=0||(r.has(u.key)||gd(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return _.resolve(o)}getAllFromCollectionGroup(e,n,i,r){W()}Cs(e,n){return _.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Gq(this)}getSize(e){return _.resolve(this.size)}}class Gq extends mP{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.persistence=e,this.xs=new To(n=>ps(n),pd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new h_,this.targetCount=0,this.Ms=bs.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),_.waitFor(o).next(()=>r)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return _.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),_.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),_.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return _.resolve(i)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.$s={},this.overlays={},this.Os=new vn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kq(this),this.indexManager=new Dq,this.remoteDocumentCache=function(i){return new Wq(i)}(i=>this.referenceDelegate.Ls(i)),this.serializer=new lP(n),this.qs=new jq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new qq(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){D("MemoryPersistence","Starting transaction:",e);const r=new Qq(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,n){return _.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class Qq extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Qs=new h_,this.js=null}static zs(e){return new mm(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),_.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,i=>{const r=F.fromPath(i);return this.Hs(e,r).next(o=>{o||n.removeEntry(r,Q.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.serializer=e}O(e,n,i,r){const o=new lm("createOrUpgrade",n);i<1&&r>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RE,{unique:!0}),a.createObjectStore("documentMutations")}(e),gI(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=_.resolve();return i<3&&r>=3&&(i!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),gI(e)),s=s.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RE,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return _.waitFor(d)})}(e,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:P9});l.createIndex("collectionPathOverlayIndex",N9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",O9,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:x9});l.createIndex("documentKeyIndex",k9),l.createIndex("collectionGroupIndex",E9)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:$9}).createIndex("sequenceNumberIndex",A9,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:R9}).createIndex("documentKeyIndex",D9,{unique:!1})}(e))),s}Xs(e){let n=0;return e.store("remoteDocuments").X((i,r)=>{n+=Qf(r)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.j().next(r=>_.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>_.forEach(a,l=>{Y(l.userId===o.userId);const c=Mo(this.serializer,l);return hP(e,o.userId,c).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const l=new he(s),c=function(u){return[0,cn(u)]}(l);o.push(n.get(c).next(u=>u?_.resolve():(d=>n.put({targetId:0,path:cn(d),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>_.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:C9});const i=n.store("collectionParents"),r=new d_,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:cn(l)})}};return n.store("remoteDocuments").X({Y:!0},(s,a)=>{const l=new he(s);return o(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([s,a,l],c)=>{const u=Mi(a);return o(u.popLast())}))}ei(e){const n=e.store("targets");return n.X((i,r)=>{const o=_c(r),s=cP(this.serializer,o);return n.put(s)})}ni(e,n){const i=n.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(c=s,c.document?new F(he.fromString(c.document.name).popFirst(5)):c.noDocument?F.fromSegments(c.noDocument.path):c.unknownDocument?F.fromSegments(c.unknownDocument.path):W()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>_.waitFor(r))}si(e,n){const i=n.store("mutations"),r=gP(this.serializer),o=new yP(mm.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:ne();Mo(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),_.forEach(a,(l,c)=>{const u=new kt(c),d=fm.de(this.serializer,u),h=o.getIndexManager(u),f=pm.de(u,this.serializer,h,o.referenceDelegate);return new vP(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new db(n,vn.ct),l).next()})})}}function gI(t){t.createObjectStore("targetDocuments",{keyPath:S9}).createIndex("documentTargetsIndex",T9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",I9,{unique:!0}),t.createObjectStore("targetGlobal")}const cv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f_{constructor(e,n,i,r,o,s,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=c,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!f_.D())throw new R(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bq(this,r),this.di=n+"main",this.serializer=new lP(l),this.wi=new pi(this.di,this.ui,new Yq(this.serializer)),this.Bs=new Nq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gP(this.serializer),this.qs=new Iq,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,u===!1&&rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new R(k.FAILED_PRECONDITION,cv);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new vn(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(So(e))return D("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return rc(e).get("owner").next(n=>_.resolve(this.Ri(n)))}Pi(e){return gh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const i=Rt(n,"clientMetadata");return i.j().next(r=>{const o=this.Si(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return _.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?_.resolve(!0):rc(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new R(k.FAILED_PRECONDITION,cv);return!1}}return!(!this.networkEnabled||!this.inForeground)||gh(e).j().next(i=>this.Si(i,5e3).find(r=>{if(this.clientId!==r.clientId){const o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&D("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new db(e,vn.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(i=>this.Vi(i.updateTimeMs,n)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gh(e).j().next(n=>this.Si(n,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return pm.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pq(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return fm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,i){D("IndexedDbPersistence","Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",o=(s=this.ui)===15?M9:s===14?yD:s===13?vD:s===12?L9:s===11?gD:void W();var s;let a;return this.wi.runTransaction(e,r,o,l=>(a=new db(l,this.Os?this.Os.next():vn.ct),n==="readwrite-primary"?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw rt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new R(k.FAILED_PRECONDITION,hD);return i(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>i(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return rc(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new R(k.FAILED_PRECONDITION,cv)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rc(e).put("owner",n)}static D(){return pi.D()}Ai(e){const n=rc(e);return n.get("owner").next(i=>this.Ri(i)?(D("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):_.resolve())}Vi(e,n){const i=Date.now();return!(e<i-n)&&(!(e>i)||(rt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;x5()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const i=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return D("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){rt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rc(t){return Rt(t,"owner")}function gh(t){return Rt(t,"clientMetadata")}function p_(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=ne(),r=ne();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new m_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(o=>o||this.Gi(e,n,r,i)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(jE(n))return _.resolve(null);let i=En(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Wf(n,null,"F"),i=En(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ne(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(n,a);return this.zi(n,c,s,l.readTime)?this.Ki(e,Wf(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,i,r){return jE(n)||r.isEqual(Q.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(n,o);return this.zi(n,s,i,r)?this.Qi(e,n):(cb()<=ae.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yb(n)),this.Wi(e,s,n,uD(r,-1)))})}ji(e,n){let i=new Ue(PD(e));return n.forEach((r,o)=>{gd(e,o)&&(i=i.add(o))}),i}zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,n){return cb()<=ae.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",yb(n)),this.Ui.getDocumentsMatchingQuery(e,n,Nn.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new De(te),this.Yi=new To(o=>ps(o),pd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function wP(t,e,n,i){return new Xq(t,e,n,i)}async function _P(t,e){const n=U(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ne();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}function Jq(t,e){const n=U(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Y(m!==null),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=ne();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function xP(t){const e=U(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Zq(t,e){const n=U(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(vt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(p,m,b){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,f,u)&&a.push(n.Bs.updateTargetData(o,f))});let l=bn(),c=ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(kP(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(Q.min())){const u=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return _.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ji=r,o))}function kP(t,e,n){let i=ne(),r=ne();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=bn();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:r}})}function e8(t,e){const n=U(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rl(t,e){const n=U(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(o=>o?(r=o,_.resolve(r)):n.Bs.allocateTargetId(i).next(s=>(r=new or(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}async function ol(t,e,n){const i=U(t),r=i.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!So(s))throw s;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}function Yf(t,e,n){const i=U(t);let r=Q.min(),o=ne();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=U(a),d=u.Yi.get(c);return d!==void 0?_.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,s,En(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,n?r:Q.min(),n?o:ne())).next(a=>(SP(i,DD(e),a),{documents:a,ir:o})))}function EP(t,e){const n=U(t),i=U(n.Bs),r=n.Ji.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(s=>s?s.target:null))}function IP(t,e){const n=U(t),i=n.Xi.get(e)||Q.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.Zi.getAllFromCollectionGroup(r,e,uD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(SP(n,e,r),r))}function SP(t,e,n){let i=t.Xi.get(e)||Q.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Xi.set(e,i)}async function t8(t,e,n,i){const r=U(t);let o=ne(),s=bn();for(const c of n){const u=e.rr(c.metadata.name);c.document&&(o=o.add(u));const d=e.ur(c);d.setReadTime(e.cr(c.metadata.readTime)),s=s.insert(u,d)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await rl(r,function(c){return En(El(he.fromString(`__bundle__/docs/${c}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>kP(c,a,s).next(u=>(a.apply(c),u)).next(u=>r.Bs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Bs.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.nr,u.sr)).next(()=>u.nr)))}async function n8(t,e,n=ne()){const i=await rl(t,En(c_(e.bundledQuery))),r=U(t);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=st(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.qs.saveNamedQuery(o,e);const a=i.withResumeToken(vt.EMPTY_BYTE_STRING,s);return r.Ji=r.Ji.insert(a.targetId,a),r.Bs.updateTargetData(o,a).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,n,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}function vI(t,e){return`firestore_clients_${t}_${e}`}function yI(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function uv(t,e){return`firestore_targets_${t}_${e}`}class Xf{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static ar(e,n,i){const r=JSON.parse(i);let o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new R(r.error.code,r.error.message))),s?new Xf(e,n,r.state,o):(rt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mc{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static ar(e,n){const i=JSON.parse(n);let r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new R(i.error.code,i.error.message))),o?new Mc(e,i.state,r):(rt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const i=JSON.parse(n);let r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=t_();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=pD(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Jf(e,o):(rt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class g_{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new g_(n.clientId,n.onlineState):(rt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ib{constructor(){this.activeTargetIds=t_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dv{constructor(e,n,i,r,o){this.window=e,this.ii=n,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new De(te),this.started=!1,this.yr=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=vI(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Ib),this.Tr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const i of e){if(i===this.wr)continue;const r=this.getItem(vI(this.persistenceKey,i));if(r){const o=Jf.ar(i,r);o&&(this.gr=this.gr.insert(o.clientId,o))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const i=this.br(n);i&&this.Vr(i)}for(const i of this.yr)this.mr(i);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,i){this.Dr(e,n,i),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(uv(this.persistenceKey,e));if(i){const r=Mc.ar(e,i);r&&(n=r.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uv(this.persistenceKey,e))}updateQueryState(e,n,i){this.kr(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return D("SharedClientState","READ",e,n),n}setItem(e,n){D("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){D("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(D("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const i=this.Or(n.key);return this.Fr(i,null)}{const i=this.Br(n.key,n.newValue);if(i)return this.Fr(i.clientId,i)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const i=this.Lr(n.key,n.newValue);if(i)return this.qr(i)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const i=this.Ur(n.key,n.newValue);if(i)return this.Kr(i)}}else if(n.key===this.vr){if(n.newValue!==null){const i=this.br(n.newValue);if(i)return this.Vr(i)}}else if(n.key===this.Ir){const i=function(r){let o=vn.ct;if(r!=null)try{const s=JSON.parse(r);Y(typeof s=="number"),o=s}catch(s){rt("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);i!==vn.ct&&this.sequenceNumberHandler(i)}else if(n.key===this.Rr){const i=this.Gr(n.newValue);await Promise.all(i.map(r=>this.syncEngine.Qr(r)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,i){const r=new Xf(this.currentUser,e,n,i),o=yI(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const n=yI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,i){const r=uv(this.persistenceKey,e),o=new Mc(e,n,i);this.setItem(r,o.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const i=this.Or(e);return Jf.ar(i,n)}Lr(e,n){const i=this.Er.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Xf.ar(new kt(o),r,n)}Ur(e,n){const i=this.Ar.exec(e),r=Number(i[1]);return Mc.ar(r,n)}br(e){return g_.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);D("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const i=n?this.gr.insert(e,n):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.Wr(s,a).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=t_();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class TP{constructor(){this.Hr=new Ib,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ib,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function hv(){return vh===null?vh=268435456+Math.round(2147483648*Math.random()):vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class s8 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,o){const s=hv(),a=this.To(e,n);D("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.Eo(l,r,o),this.Ao(e,a,l,i).then(c=>(D("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Ti("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,n,i,r,o,s){return this.Io(e,n,i,r,o)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+kl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,n){const i=r8[e];return`${this.mo}/v1/${n}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const o=hv();return new Promise((s,a)=>{const l=new n9;l.setWithCredentials(!0),l.listenOnce(ZH.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case av.NO_ERROR:const u=l.getResponseJson();D(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case av.TIMEOUT:D(Kt,`RPC '${e}' ${o} timed out`),a(new R(k.DEADLINE_EXCEEDED,"Request time out"));break;case av.HTTP_ERROR:const d=l.getStatus();if(D(Kt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const b=m.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(b)>=0?b:k.UNKNOWN}(f.status);a(new R(p,f.message))}else a(new R(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new R(k.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{D(Kt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);D(Kt,`RPC '${e}' ${o} sending request:`,r),l.send(n,"POST",c,i,15)})}Ro(e,n,i){const r=hv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XH(),a=JH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new t9({})),this.Eo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=o.join("");D(Kt,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const p=new o8({ro:b=>{f?D(Kt,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(h||(D(Kt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),D(Kt,`RPC '${e}' stream ${r} sending:`,b),d.send(b))},oo:()=>d.close()}),m=(b,v,g)=>{b.listen(v,y=>{try{g(y)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,uh.EventType.OPEN,()=>{f||D(Kt,`RPC '${e}' stream ${r} transport opened.`)}),m(d,uh.EventType.CLOSE,()=>{f||(f=!0,D(Kt,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(d,uh.EventType.ERROR,b=>{f||(f=!0,Ti(Kt,`RPC '${e}' stream ${r} transport errored:`,b),p.wo(new R(k.UNAVAILABLE,"The operation could not be completed")))}),m(d,uh.EventType.MESSAGE,b=>{var v;if(!f){const g=b.data[0];Y(!!g);const y=g,w=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(w){D(Kt,`RPC '${e}' stream ${r} received error:`,w);const C=w.status;let S=function(T){const X=ut[T];if(X!==void 0)return GD(X)}(C),E=w.message;S===void 0&&(S=k.INTERNAL,E="Unknown error status: "+C+" with message "+w.message),f=!0,p.wo(new R(S,E)),d.close()}else D(Kt,`RPC '${e}' stream ${r} received:`,g),p._o(g)}}),m(a,e9.STAT_EVENT,b=>{b.stat===TE.PROXY?D(Kt,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===TE.NOPROXY&&D(Kt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){return typeof window<"u"?window:null}function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return new pq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&D("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,i,r,o,s,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new v_(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new R(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a8 extends $P{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=vq(this.serializer,e),i=function(r){if(!("targetChange"in r))return Q.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?st(o.readTime):Q.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=$u(this.serializer),n.addTarget=function(r,o){let s;const a=o.target;if(s=Hf(a)?{documents:nP(r,a)}:{query:iP(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=XD(r,o.resumeToken);const l=bb(r,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Q.min())>0){s.readTime=il(r,o.snapshotVersion.toTimestamp());const l=bb(r,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const i=bq(this.serializer,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=$u(this.serializer),n.removeTarget=e,this.Wo(n)}}class l8 extends $P{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=yq(e.writeResults,e.commitTime),i=st(e.commitTime);return this.listener.cu(i,n)}return Y(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$u(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Au(this.serializer,i))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new R(k.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new R(k.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new R(k.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class u8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):D("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{i.enqueueAndForget(async()=>{Co(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=U(a);l.vu.add(4),await Tl(l),l.bu.set("Unknown"),l.vu.delete(4),await _d(l)}(this))})}),this.bu=new u8(i,r)}}async function _d(t){if(Co(t))for(const e of t.Ru)await e(!0)}async function Tl(t){for(const e of t.Ru)await e(!1)}function gm(t,e){const n=U(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),w_(n)?b_(n):$l(n).Ko()&&y_(n,e))}function Ru(t,e){const n=U(t),i=$l(n);n.Au.delete(e),i.Ko()&&AP(n,e),n.Au.size===0&&(i.Ko()?i.jo():Co(n)&&n.bu.set("Unknown"))}function y_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).su(e)}function AP(t,e){t.Vu.qt(e),$l(t).iu(e)}function b_(t){t.Vu=new uq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.bu.gu()}function w_(t){return Co(t)&&!$l(t).Uo()&&t.Au.size>0}function Co(t){return U(t).vu.size===0}function RP(t){t.Vu=void 0}async function h8(t){t.Au.forEach((e,n)=>{y_(t,e)})}async function f8(t,e){RP(t),w_(t)?(t.bu.Iu(e),b_(t)):t.bu.set("Unknown")}async function p8(t,e,n){if(t.bu.set("Online"),e instanceof YD&&e.state===2&&e.cause)try{await async function(i,r){const o=r.cause;for(const s of r.targetIds)i.Au.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Au.delete(s),i.Vu.removeTarget(s))}(t,e)}catch(i){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zf(t,i)}else if(e instanceof Bh?t.Vu.Ht(e):e instanceof QD?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Q.min()))try{const i=await xP(t.localStore);n.compareTo(i)>=0&&await function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(vt.EMPTY_BYTE_STRING,c.snapshotVersion)),AP(r,a);const u=new or(c.target,a,l,c.sequenceNumber);y_(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(i){D("RemoteStore","Failed to raise snapshot:",i),await Zf(t,i)}}async function Zf(t,e,n){if(!So(e))throw e;t.vu.add(1),await Tl(t),t.bu.set("Offline"),n||(n=()=>xP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await _d(t)})}function DP(t,e){return e().catch(n=>Zf(t,n,e))}async function Cl(t){const e=U(t),n=po(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;m8(e);)try{const r=await e8(e.localStore,i);if(r===null){e.Eu.length===0&&n.jo();break}i=r.batchId,g8(e,r)}catch(r){await Zf(e,r)}PP(e)&&NP(e)}function m8(t){return Co(t)&&t.Eu.length<10}function g8(t,e){t.Eu.push(e);const n=po(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function PP(t){return Co(t)&&!po(t).Uo()&&t.Eu.length>0}function NP(t){po(t).start()}async function v8(t){po(t).hu()}async function y8(t){const e=po(t);for(const n of t.Eu)e.uu(n.mutations)}async function b8(t,e,n){const i=t.Eu.shift(),r=r_.from(i,e,n);await DP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Cl(t)}async function w8(t,e){e&&po(t).ou&&await async function(n,i){if(r=i.code,WD(r)&&r!==k.ABORTED){const o=n.Eu.shift();po(n).Qo(),await DP(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cl(n)}var r}(t,e),PP(t)&&NP(t)}async function wI(t,e){const n=U(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const i=Co(n);n.vu.add(3),await Tl(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await _d(n)}async function Sb(t,e){const n=U(t);e?(n.vu.delete(2),await _d(n)):e||(n.vu.add(2),await Tl(n),n.bu.set("Unknown"))}function $l(t){return t.Su||(t.Su=function(e,n,i){const r=U(e);return r.fu(),new a8(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:h8.bind(null,t),ao:f8.bind(null,t),nu:p8.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),w_(t)?b_(t):t.bu.set("Unknown")):(await t.Su.stop(),RP(t))})),t.Su}function po(t){return t.Du||(t.Du=function(e,n,i){const r=U(e);return r.fu(),new l8(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:v8.bind(null,t),ao:w8.bind(null,t),au:y8.bind(null,t),cu:b8.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Cl(t)):(await t.Du.stop(),t.Eu.length>0&&(D("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,i,r,o){const s=Date.now()+i,a=new __(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Al(t,e){if(rt("AsyncQueue",`${e}: ${t}`),So(t))return new R(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.comparator=e?(n,i)=>e(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=bc(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Da;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Cu=new De(F.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?e.type!==0&&i.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&i.type!==1?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Cu=this.Cu.remove(n):e.type===1&&i.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class sl{constructor(e,n,i,r,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new sl(e,n,Da.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.Nu=void 0,this.listeners=[]}}class x8{constructor(){this.queries=new To(e=>RD(e),md),this.onlineState="Unknown",this.ku=new Set}}async function x_(t,e){const n=U(t),i=e.query;let r=!1,o=n.queries.get(i);if(o||(r=!0,o=new _8),r)try{o.Nu=await n.onListen(i)}catch(s){const a=Al(s,`Initialization of query '${yb(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&E_(n)}async function k_(t,e){const n=U(t),i=e.query;let r=!1;const o=n.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function k8(t,e){const n=U(t);let i=!1;for(const r of e){const o=r.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&E_(n)}function E8(t,e,n){const i=U(t),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(n);i.queries.delete(e)}function E_(t){t.ku.forEach(e=>{e.next()})}class I_{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.Ku||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.serializer=e}rr(e){return Vi(this.serializer,e)}ur(e){return e.metadata.exists?tP(this.serializer,e.document,!1):Fe.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return st(e)}}class S8{constructor(e,n,i){this.ju=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OP(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const i=he.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,i=new xI(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const s of r.metadata.queries){const a=(n.get(s)||ne()).add(o);n.set(s,a)}}return n}async complete(){const e=await t8(this.localStore,new xI(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const i of this.queries)await n8(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function OP(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.key=e}}class MP{constructor(e){this.key=e}}class FP{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ne(),this.mutatedKeys=ne(),this.tc=PD(e),this.ec=new Da(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new _I,r=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=gd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),b=!0):this.rc(h,f)||(i.track({type:2,doc:f}),b=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),b=!0):h&&!f&&(i.track({type:1,doc:h}),b=!0,(l||c)&&(a=!0)),b&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new sl(this.query,e.ec,r,o,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _I,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ne(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new MP(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new LP(i))}),n}hc(e){this.Yu=e.ir,this.Zu=ne();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return sl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class T8{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class C8{constructor(e){this.key=e,this.fc=!1}}class $8{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new To(a=>RD(a),md),this._c=new Map,this.mc=new Set,this.gc=new De(F.comparator),this.yc=new Map,this.Ic=new h_,this.Tc={},this.Ec=new Map,this.Ac=bs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function A8(t,e){const n=A_(t);let i,r;const o=n.wc.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=await rl(n.localStore,En(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=await S_(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&gm(n.remoteStore,s)}return r}async function S_(t,e,n,i,r){t.Rc=(d,h,f)=>async function(p,m,b,v){let g=m.view.sc(b);g.zi&&(g=await Yf(p.localStore,m.query,!1).then(({documents:C})=>m.view.sc(C,g)));const y=v&&v.targetChanges.get(m.targetId),w=m.view.applyChanges(g,p.isPrimaryClient,y);return Tb(p,m.targetId,w.cc),w.snapshot}(t,d,h,f);const o=await Yf(t.localStore,e,!0),s=new FP(e,o.ir),a=s.sc(o.documents),l=bd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=s.applyChanges(a,t.isPrimaryClient,l);Tb(t,n,c.cc);const u=new T8(e,n,s);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function R8(t,e){const n=U(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(o=>!md(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ol(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Ru(n.remoteStore,i.targetId),al(n,i.targetId)}).catch(Io)):(al(n,i.targetId),await ol(n.localStore,i.targetId,!0))}async function D8(t,e,n){const i=R_(t);try{const r=await function(o,s){const a=U(o),l=Ke.now(),c=s.reduce((h,f)=>h.add(f.key),ne());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=bn(),p=ne();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((b,v)=>{v.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const b=[];for(const v of s){const g=aq(v,u.get(v.key).overlayedDocument);g!=null&&b.push(new Er(v.key,g,xD(g.value.mapValue),Ge.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,b,s)}).next(m=>{d=m;const b=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,b)})}).then(()=>({batchId:d.batchId,changes:OD(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new De(te)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(i,r.batchId,n),await Ir(i,r.changes),await Cl(i.remoteStore)}catch(r){const o=Al(r,"Failed to persist write");n.reject(o)}}async function BP(t,e){const n=U(t);try{const i=await Zq(n.localStore,e);e.targetChanges.forEach((r,o)=>{const s=n.yc.get(o);s&&(Y(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?Y(s.fc):r.removedDocuments.size>0&&(Y(s.fc),s.fc=!1))}),await Ir(n,i,e)}catch(i){await Io(i)}}function kI(t,e,n){const i=U(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=U(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&E_(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function P8(t,e,n){const i=U(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new De(F.comparator);s=s.insert(o,Fe.newNoDocument(o,Q.min()));const a=ne().add(o),l=new yd(Q.min(),new Map,new De(te),s,a);await BP(i,l),i.gc=i.gc.remove(o),i.yc.delete(e),$_(i)}else await ol(i.localStore,e,!1).then(()=>al(i,e,n)).catch(Io)}async function N8(t,e){const n=U(t),i=e.batch.batchId;try{const r=await Jq(n.localStore,e);C_(n,i,null),T_(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ir(n,r)}catch(r){await Io(r)}}async function O8(t,e,n){const i=U(t);try{const r=await function(o,s){const a=U(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(Y(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);C_(i,e,n),T_(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ir(i,r)}catch(r){await Io(r)}}async function L8(t,e){const n=U(t);Co(n.remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(o){const s=U(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(i===-1)return void e.resolve();const r=n.Ec.get(i)||[];r.push(e),n.Ec.set(i,r)}catch(i){const r=Al(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}function T_(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function C_(t,e,n){const i=U(t);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function al(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||UP(t,i)})}function UP(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Ru(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),$_(t))}function Tb(t,e,n){for(const i of n)i instanceof LP?(t.Ic.addReference(i.key,e),M8(t,i)):i instanceof MP?(D("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||UP(t,i.key)):W()}function M8(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(D("SyncEngine","New document in limbo: "+n),t.mc.add(i),$_(t))}function $_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new F(he.fromString(e)),i=t.Ac.next();t.yc.set(i,new C8(n)),t.gc=t.gc.insert(n,i),gm(t.remoteStore,new or(En(El(n.path)),i,"TargetPurposeLimboResolution",vn.ct))}}async function Ir(t,e,n){const i=U(t),r=[],o=[],s=[];i.wc.isEmpty()||(i.wc.forEach((a,l)=>{s.push(i.Rc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=m_.Li(l.targetId,c);o.push(u)}}))}),await Promise.all(s),i.dc.nu(r),await async function(a,l){const c=U(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>_.forEach(l,d=>_.forEach(d.Fi,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>_.forEach(d.Bi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!So(u))throw u;D("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const h=c.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);c.Ji=c.Ji.insert(d,p)}}}(i.localStore,o))}async function F8(t,e){const n=U(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const i=await _P(n.localStore,e);n.currentUser=e,function(r,o){r.Ec.forEach(s=>{s.forEach(a=>{a.reject(new R(k.CANCELLED,o))})}),r.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ir(n,i.er)}}function B8(t,e){const n=U(t),i=n.yc.get(e);if(i&&i.fc)return ne().add(i.key);{let r=ne();const o=n._c.get(e);if(!o)return r;for(const s of o){const a=n.wc.get(s);r=r.unionWith(a.view.nc)}return r}}async function U8(t,e){const n=U(t),i=await Yf(n.localStore,e.query,!0),r=e.view.hc(i);return n.isPrimaryClient&&Tb(n,e.targetId,r.cc),r}async function z8(t,e){const n=U(t);return IP(n.localStore,e).then(i=>Ir(n,i))}async function V8(t,e,n,i){const r=U(t),o=await function(s,a){const l=U(s),c=U(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Sn(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):_.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?await Cl(r.remoteStore):n==="acknowledged"||n==="rejected"?(C_(r,e,i||null),T_(r,e),function(s,a){U(U(s).mutationQueue).Cn(a)}(r.localStore,e)):W(),await Ir(r,o)):D("SyncEngine","Cannot apply mutation batch with id: "+e)}async function j8(t,e){const n=U(t);if(A_(n),R_(n),e===!0&&n.vc!==!0){const i=n.sharedClientState.getAllActiveQueryTargets(),r=await EI(n,i.toArray());n.vc=!0,await Sb(n.remoteStore,!0);for(const o of r)gm(n.remoteStore,o)}else if(e===!1&&n.vc!==!1){const i=[];let r=Promise.resolve();n._c.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(al(n,s),ol(n.localStore,s,!0))),Ru(n.remoteStore,s)}),await r,await EI(n,i),function(o){const s=U(o);s.yc.forEach((a,l)=>{Ru(s.remoteStore,l)}),s.Ic.Ts(),s.yc=new Map,s.gc=new De(F.comparator)}(n),n.vc=!1,await Sb(n.remoteStore,!1)}}async function EI(t,e,n){const i=U(t),r=[],o=[];for(const s of e){let a;const l=i._c.get(s);if(l&&l.length!==0){a=await rl(i.localStore,En(l[0]));for(const c of l){const u=i.wc.get(c),d=await U8(i,u);d.snapshot&&o.push(d.snapshot)}}else{const c=await EP(i.localStore,s);a=await rl(i.localStore,c),await S_(i,zP(c),s,!1,a.resumeToken)}r.push(a)}return i.dc.nu(o),r}function zP(t){return AD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function H8(t){const e=U(t);return U(U(e.localStore).persistence).$i()}async function q8(t,e,n,i){const r=U(t);if(r.vc)return void D("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await IP(r.localStore,DD(o[0])),a=yd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",vt.EMPTY_BYTE_STRING);await Ir(r,s,a);break}case"rejected":await ol(r.localStore,e,!0),al(r,e,i);break;default:W()}}async function W8(t,e,n){const i=A_(t);if(i.vc){for(const r of e){if(i._c.has(r)){D("SyncEngine","Adding an already active target "+r);continue}const o=await EP(i.localStore,r),s=await rl(i.localStore,o);await S_(i,zP(o),s.targetId,!1,s.resumeToken),gm(i.remoteStore,s)}for(const r of n)i._c.has(r)&&await ol(i.localStore,r,!1).then(()=>{Ru(i.remoteStore,r),al(i,r)}).catch(Io)}}function A_(t){const e=U(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P8.bind(null,e),e.dc.nu=k8.bind(null,e.eventManager),e.dc.Pc=E8.bind(null,e.eventManager),e}function R_(t){const e=U(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O8.bind(null,e),e}function G8(t,e,n){const i=U(t);(async function(r,o,s){try{const a=await o.getMetadata();if(await function(d,h){const f=U(d),p=st(h.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",m=>f.qs.getBundleMetadata(m,h.id)).then(m=>!!m&&m.createTime.compareTo(p)>=0)}(r.localStore,a))return await o.close(),s._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);s._updateProgress(OP(a));const l=new S8(a,r.localStore,o.serializer);let c=await o.bc();for(;c;){const d=await l.zu(c);d&&s._updateProgress(d),c=await o.bc()}const u=await l.complete();return await Ir(r,u.Ju,void 0),await function(d,h){const f=U(d);return f.persistence.runTransaction("Save bundle","readwrite",p=>f.qs.saveBundleMetadata(p,h))}(r.localStore,a),s._completeWith(u.progress),Promise.resolve(u.Hu)}catch(a){return Ti("SyncEngine",`Loading bundle failed with ${a}`),s._failWith(a),Promise.resolve(new Set)}})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}class Cb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wP(this.persistence,new bP,e.initialUser,this.serializer)}createPersistence(e){return new yP(mm.zs,this.serializer)}createSharedClientState(e){return new TP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VP extends Cb{constructor(e,n,i){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await R_(this.Vc.syncEngine),await Cl(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return wP(this.persistence,new bP,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const i=this.persistence.referenceDelegate.garbageCollector;return new Lq(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new b9(n,this.persistence);return new y9(e.asyncQueue,i)}createPersistence(e){const n=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new f_(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,CP(),Uh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TP}}class K8 extends VP{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof dv&&(this.sharedClientState.syncEngine={jr:V8.bind(null,n),zr:q8.bind(null,n),Wr:W8.bind(null,n),$i:H8.bind(null,n),Qr:z8.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async i=>{await j8(this.Vc.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=CP();if(!dv.D(n))throw new R(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=p_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dv(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class D_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kI(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=F8.bind(null,this.syncEngine),await Sb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new x8}createDatastore(e){const n=wd(e.databaseInfo.databaseId),i=(r=e.databaseInfo,new s8(r));var r;return function(o,s,a,l){return new c8(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>kI(this.syncEngine,a,0),s=bI.D()?new bI:new i8,new d8(n,i,r,o,s);var n,i,r,o,s}createSyncEngine(e,n){return function(i,r,o,s,a,l,c){const u=new $8(i,r,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=U(e);D("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Tl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Tt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),i=Number(n);isNaN(i)&&this.Mc(`length string (${n}) is not valid number`);const r=await this.$c(i);return new I8(JSON.parse(r),e.length+i)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new R(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(i,r){const o=U(i),s=$u(o.serializer)+"/documents",a={documents:r.map(d=>Cu(o.serializer,d))},l=await o.vo("BatchGetDocuments",s,a,r.length),c=new Map;l.forEach(d=>{const h=gq(o.serializer,d);c.set(h.key.toString(),h)});const u=[];return r.forEach(d=>{const h=c.get(d.toString());Y(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const r=F.fromPath(i);this.mutations.push(new n_(r,this.precondition(r)))}),await async function(n,i){const r=U(n),o=$u(r.serializer)+"/documents",s={writes:i.map(a=>Au(r.serializer,a))};await r.Io("Commit",o,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W();n=Q.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new R(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Q.min())?Ge.exists(!1):Ge.updateTime(n):Ge.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Q.min()))throw new R(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ge.updateTime(n)}return Ge.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new v_(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new Y8(this.datastore),n=this.qc(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.Uc(r)}))}).catch(i=>{this.Uc(i)})})}qc(e){try{const n=this.updateFunction(e);return!fd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!WD(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=kt.UNAUTHENTICATED,this.clientId=aD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{D("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Al(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zh(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await _P(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $b(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P_(t);D("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>wI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>wI(e.remoteStore,o)),t._onlineComponents=e}function jP(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function P_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jP(n))throw n;Ti("Error using user provided cache. Falling back to memory cache: "+n),await zh(t,new Cb)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await zh(t,new Cb);return t._offlineComponents}async function ym(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await $b(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await $b(t,new D_))),t._onlineComponents}function HP(t){return P_(t).then(e=>e.persistence)}function N_(t){return P_(t).then(e=>e.localStore)}function qP(t){return ym(t).then(e=>e.remoteStore)}function O_(t){return ym(t).then(e=>e.syncEngine)}function Z8(t){return ym(t).then(e=>e.datastore)}async function ll(t){const e=await ym(t),n=e.eventManager;return n.onListen=A8.bind(null,e.syncEngine),n.onUnlisten=R8.bind(null,e.syncEngine),n}function eW(t){return t.asyncQueue.enqueue(async()=>{const e=await HP(t),n=await qP(t);return e.setNetworkEnabled(!0),function(i){const r=U(i);return r.vu.delete(0),_d(r)}(n)})}function tW(t){return t.asyncQueue.enqueue(async()=>{const e=await HP(t),n=await qP(t);return e.setNetworkEnabled(!1),async function(i){const r=U(i);r.vu.add(0),await Tl(r),r.bu.set("Offline")}(n)})}function nW(t,e){const n=new Tt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,r,o){try{const s=await function(a,l){const c=U(a);return c.persistence.runTransaction("read document","readonly",u=>c.localDocuments.getDocument(u,l))}(i,r);s.isFoundDocument()?o.resolve(s):s.isNoDocument()?o.resolve(null):o.reject(new R(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const a=Al(s,`Failed to get document '${r} from cache`);o.reject(a)}}(await N_(t),e,n)),n.promise}function WP(t,e,n={}){const i=new Tt;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,s,a,l){const c=new vm({next:d=>{o.enqueueAndForget(()=>k_(r,u));const h=d.docs.has(s);!h&&d.fromCache?l.reject(new R(k.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new R(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new I_(El(s.path),c,{includeMetadataChanges:!0,Ku:!0});return x_(r,u)}(await ll(t),t.asyncQueue,e,n,i)),i.promise}function iW(t,e){const n=new Tt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,r,o){try{const s=await Yf(i,r,!0),a=new FP(r,s.ir),l=a.sc(s.documents),c=a.applyChanges(l,!1);o.resolve(c.snapshot)}catch(s){const a=Al(s,`Failed to execute query '${r} against cache`);o.reject(a)}}(await N_(t),e,n)),n.promise}function GP(t,e,n={}){const i=new Tt;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,s,a,l){const c=new vm({next:d=>{o.enqueueAndForget(()=>k_(r,u)),d.fromCache&&a.source==="server"?l.reject(new R(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new I_(s,c,{includeMetadataChanges:!0,Ku:!0});return x_(r,u)}(await ll(t),t.asyncQueue,e,n,i)),i.promise}function rW(t,e){const n=new vm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,r){U(i).ku.add(r),r.next()}(await ll(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(i,r){U(i).ku.delete(r)}(await ll(t),n))}}function oW(t,e,n,i){const r=function(o,s){let a;return a=typeof o=="string"?KD().encode(o):o,function(l,c){return new Q8(l,c)}(function(l,c){if(l instanceof Uint8Array)return II(l,c);if(l instanceof ArrayBuffer)return II(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),s)}(n,wd(e));t.asyncQueue.enqueueAndForget(async()=>{G8(await O_(t),r,i)})}function sW(t,e){return t.asyncQueue.enqueue(async()=>function(n,i){const r=U(n);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(await N_(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e,n){if(!n)throw new R(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QP(t,e,n,i){if(e===!0&&i===!0)throw new R(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TI(t){if(!F.isDocumentKey(t))throw new R(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CI(t){if(F.isDocumentKey(t))throw new R(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bm(t);throw new R(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YP(t,e){if(e<=0)throw new R(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new R(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,n.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,i}}class xd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $I({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $I(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new s9;switch(n.type){case"firstParty":return new u9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=SI.get(e);n&&(D("ComponentProvider","Removing Datastore"),SI.delete(e),n.terminate())}(this),Promise.resolve()}}function XP(t,e,n,i={}){var r;const o=(t=pe(t,xd))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=kt.MOCK_USER;else{a=xw(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new R(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(c)}t._authCredentials=new a9(new sD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}}class Ht{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ht(this.firestore,e,this._query)}}class ji extends Ht{constructor(e,n,i){super(e,n,El(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new F(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function JP(t,e,...n){if(t=ce(t),L_("collection","path",e),t instanceof xd){const i=he.fromString(e,...n);return CI(i),new ji(t,null,i)}{if(!(t instanceof ze||t instanceof ji))throw new R(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(he.fromString(e,...n));return CI(i),new ji(t.firestore,null,i)}}function aW(t,e){if(t=pe(t,xd),L_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new R(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ht(t,null,function(n){return new kr(he.emptyPath(),n)}(e))}function Du(t,e,...n){if(t=ce(t),arguments.length===1&&(e=aD.A()),L_("doc","path",e),t instanceof xd){const i=he.fromString(e,...n);return TI(i),new ze(t,null,new F(i))}{if(!(t instanceof ze||t instanceof ji))throw new R(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(he.fromString(e,...n));return TI(i),new ze(t.firestore,t instanceof ji?t.converter:null,new F(i))}}function ZP(t,e){return t=ce(t),e=ce(e),(t instanceof ze||t instanceof ji)&&(e instanceof ze||e instanceof ji)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function eN(t,e){return t=ce(t),e=ce(e),t instanceof Ht&&e instanceof Ht&&t.firestore===e.firestore&&md(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new v_(this,"async_queue_retry"),this.Xc=()=>{const n=Uh();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Uh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Tt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!So(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{this.Wc=i,this.Hc=!1;const r=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i);throw rt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=__.createAndSchedule(this,e,n,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&W()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Ab(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const i=e;for(const r of n)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class cW{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=-1;class Je extends xd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new lW,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tN(this),this._firestoreClient.terminate()}}function dW(t,e){const n=typeof t=="object"?t:wl(),i=typeof t=="string"?t:e||"(default)",r=xo(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Hp("firestore");o&&XP(r,...o)}return r}function yt(t){return t._firestoreClient||tN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tN(t){var e,n,i;const r=t._freezeSettings(),o=function(s,a,l,c){return new U9(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new J8(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.cache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function hW(t,e){iN(t=pe(t,Je));const n=yt(t);if(n._uninitializedComponentsProvider)throw new R(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ti("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new D_;return nN(n,r,new VP(r,i.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function fW(t){iN(t=pe(t,Je));const e=yt(t);if(e._uninitializedComponentsProvider)throw new R(k.FAILED_PRECONDITION,"SDK cache is already specified.");Ti("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new D_;return nN(e,i,new K8(i,n.cacheSizeBytes))}function nN(t,e,n){const i=new Tt;return t.asyncQueue.enqueue(async()=>{try{await zh(t,n),await $b(t,e),i.resolve()}catch(r){const o=r;if(!jP(o))throw o;Ti("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}}).then(()=>i.promise)}function pW(t){if(t._initialized&&!t._terminated)throw new R(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!pi.D())return Promise.resolve();const i=n+"main";await pi.delete(i)}(p_(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function mW(t){return function(e){const n=new Tt;return e.asyncQueue.enqueueAndForget(async()=>L8(await O_(e),n)),n.promise}(yt(t=pe(t,Je)))}function gW(t){return eW(yt(t=pe(t,Je)))}function vW(t){return tW(yt(t=pe(t,Je)))}function yW(t,e){const n=yt(t=pe(t,Je)),i=new cW;return oW(n,t._databaseId,e,i),i}function bW(t,e){return sW(yt(t=pe(t,Je)),e).then(n=>n?new Ht(t,null,n.query):null)}function iN(t){if(t._initialized||t._terminated)throw new R(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(vt.fromBase64String(e))}catch(n){throw new R(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=/^__.*__$/;class _W{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new Il(e,this.data,n,this.fieldTransforms)}}class rN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class _m{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ep(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(oN(this.ca)&&wW.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xW{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wd(e)}ya(e,n,i,r=!1){return new _m({ca:e,methodName:n,ga:i,path:ot.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ps(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new xW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xm(t,e,n,i,r,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,r);U_("Data must be an object, but it was:",s,i);const a=lN(i,s);let l,c;if(o.merge)l=new yn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Rb(e,d,n);if(!s.contains(h))throw new R(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uN(u,h)||u.push(h)}l=new yn(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new _W(new Bt(a),l,c)}class kd extends Ds{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function sN(t,e,n){return new _m({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class M_ extends Ds{_toFieldTransform(e){return new vd(e.path,new tl)}isEqual(e){return e instanceof M_}}class kW extends Ds{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sN(this,e,!0),i=this.pa.map(o=>Ns(o,n)),r=new ms(i);return new vd(e.path,r)}isEqual(e){return this===e}}class EW extends Ds{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sN(this,e,!0),i=this.pa.map(o=>Ns(o,n)),r=new gs(i);return new vd(e.path,r)}isEqual(e){return this===e}}class IW extends Ds{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new nl(e.serializer,BD(e.serializer,this.Ia));return new vd(e.path,n)}isEqual(e){return this===e}}function F_(t,e,n,i){const r=t.ya(1,e,n);U_("Data must be an object, but it was:",r,i);const o=[],s=Bt.empty();Rs(i,(l,c)=>{const u=z_(e,l,n);c=ce(c);const d=r.da(u);if(c instanceof kd)o.push(u);else{const h=Ns(c,d);h!=null&&(o.push(u),s.set(u,h))}});const a=new yn(o);return new rN(s,a,r.fieldTransforms)}function B_(t,e,n,i,r,o){const s=t.ya(1,e,n),a=[Rb(e,i,n)],l=[r];if(o.length%2!=0)throw new R(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Rb(e,o[h])),l.push(o[h+1]);const c=[],u=Bt.empty();for(let h=a.length-1;h>=0;--h)if(!uN(c,a[h])){const f=a[h];let p=l[h];p=ce(p);const m=s.da(f);if(p instanceof kd)c.push(f);else{const b=Ns(p,m);b!=null&&(c.push(f),u.set(f,b))}}const d=new yn(c);return new rN(u,d,s.fieldTransforms)}function aN(t,e,n,i=!1){return Ns(n,t.ya(i?4:3,e))}function Ns(t,e){if(cN(t=ce(t)))return U_("Unsupported field value:",e,t),lN(t,e);if(t instanceof Ds)return function(n,i){if(!oN(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let o=0;for(const s of n){let a=Ns(s,i.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if((n=ce(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ke.fromDate(n);return{timestampValue:il(i.serializer,r)}}if(n instanceof Ke){const r=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:il(i.serializer,r)}}if(n instanceof wm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gi)return{bytesValue:XD(i.serializer,n._byteString)};if(n instanceof ze){const r=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:l_(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${bm(n)}`)}(t,e)}function lN(t,e){const n={};return bD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(i,r)=>{const o=Ns(r,e.ha(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function cN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof wm||t instanceof Gi||t instanceof ze||t instanceof Ds)}function U_(t,e,n){if(!cN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const i=bm(n);throw i==="an object"?e._a(t+" a custom object"):e._a(t+" "+i)}}function Rb(t,e,n){if((e=ce(e))instanceof mo)return e._internalPath;if(typeof e=="string")return z_(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const SW=new RegExp("[~\\*/\\[\\]]");function z_(t,e,n){if(e.search(SW)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mo(...e.split("."))._internalPath}catch(i){throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ep(t,e,n,i,r){const o=i&&!i.isEmpty(),s=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new R(k.INVALID_ARGUMENT,a+t+l)}function uN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TW extends Pu{data(){return super.data()}}function km(t,e){return typeof e=="string"?z_(t,e):e instanceof mo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class Ed extends V_{}function Ar(t,e,...n){let i=[];e instanceof V_&&i.push(e),i=i.concat(n),function(r){const o=r.filter(a=>a instanceof j_).length,s=r.filter(a=>a instanceof Em).length;if(o>1||o>0&&s>0)throw new R(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Em extends Ed{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Em(e,n,i)}_apply(e){const n=this._parse(e);return fN(e._query,n),new Ht(e.firestore,e.converter,vb(e._query,n))}_parse(e){const n=Ps(e.firestore);return function(r,o,s,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new R(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){RI(u,c);const h=[];for(const f of u)h.push(AI(a,r,f));d={arrayValue:{values:h}}}else d=AI(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||RI(u,c),d=aN(s,o,u,c==="in"||c==="not-in");return re.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CW(t,e,n){const i=e,r=km("where",t);return Em._create(r,i,n)}class j_ extends V_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ke.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)fN(o,a),o=vb(o,a)}(e._query,n),new Ht(e.firestore,e.converter,vb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class H_ extends Ed{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new H_(e,n)}_apply(e){const n=function(i,r,o){if(i.startAt!==null)throw new R(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new R(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Ra(r,o);return function(a,l){if(Zw(a)===null){const c=um(a);c!==null&&pN(a,c,l.field)}}(i,s),s}(e._query,this._field,this._direction);return new Ht(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new kr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $W(t,e="asc"){const n=e,i=km("orderBy",t);return H_._create(i,n)}class Im extends Ed{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new Im(e,n,i)}_apply(e){return new Ht(e.firestore,e.converter,Wf(e._query,this._limit,this._limitType))}}function AW(t){return YP("limit",t),Im._create("limit",t,"F")}function RW(t){return YP("limitToLast",t),Im._create("limitToLast",t,"L")}class Sm extends Ed{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Sm(e,n,i)}_apply(e){const n=hN(e,this.type,this._docOrFields,this._inclusive);return new Ht(e.firestore,e.converter,function(i,r){return new kr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)}(e._query,n))}}function DW(...t){return Sm._create("startAt",t,!0)}function PW(...t){return Sm._create("startAfter",t,!1)}class Tm extends Ed{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new Tm(e,n,i)}_apply(e){const n=hN(e,this.type,this._docOrFields,this._inclusive);return new Ht(e.firestore,e.converter,function(i,r){return new kr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)}(e._query,n))}}function NW(...t){return Tm._create("endBefore",t,!1)}function OW(...t){return Tm._create("endAt",t,!0)}function hN(t,e,n,i){if(n[0]=ce(n[0]),n[0]instanceof Pu)return function(r,o,s,a,l){if(!a)throw new R(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const c=[];for(const u of es(r))if(u.field.isKeyField())c.push(fs(o,a.key));else{const d=a.data.field(u.field);if(cm(d))throw new R(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=u.field.canonicalString();throw new R(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new fo(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Ps(t.firestore);return function(o,s,a,l,c,u){const d=o.explicitOrderBy;if(c.length>d.length)throw new R(k.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if(typeof p!="string")throw new R(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!e_(o)&&p.indexOf("/")!==-1)throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=o.path.child(he.fromString(p));if(!F.isDocumentKey(m))throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const b=new F(m);h.push(fs(s,b))}else{const m=aN(a,l,p);h.push(m)}}return new fo(h,u)}(t._query,t.firestore._databaseId,r,e,n,i)}}function AI(t,e,n){if(typeof(n=ce(n))=="string"){if(n==="")throw new R(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e_(e)&&n.indexOf("/")!==-1)throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(he.fromString(n));if(!F.isDocumentKey(i))throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fs(t,new F(i))}if(n instanceof ze)return fs(t,n._key);throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(n)}.`)}function RI(t,e){if(!Array.isArray(t)||t.length===0)throw new R(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fN(t,e){if(e.isInequality()){const i=um(t),r=e.field;if(i!==null&&!i.isEqual(r))throw new R(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Zw(t);o!==null&&pN(t,r,o)}const n=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new R(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new R(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pN(t,e,n){if(!n.isEqual(e))throw new R(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class q_{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Rs(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new wm(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=lo(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=he.fromString(e);Y(aP(i));const r=new uo(i.get(1),i.get(3)),o=new F(i.popFirst(5));return r.isEqual(n)||rt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class LW extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class br extends Pu{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(km("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Fc extends br{data(e={}){return super.data(e)}}class go{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ko(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Fc(this._firestore,this._userDataWriter,i.key,i,new Ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const a=new Fc(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ko(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||s.type!==3).map(s=>{const a=new Fc(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ko(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:MW(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function mN(t,e){return t instanceof br&&e instanceof br?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof go&&e instanceof go&&t._firestore===e._firestore&&eN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t){t=pe(t,ze);const e=pe(t.firestore,Je);return WP(yt(e),t._key).then(n=>W_(e,t,n))}class Os extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function BW(t){t=pe(t,ze);const e=pe(t.firestore,Je),n=yt(e),i=new Os(e);return nW(n,t._key).then(r=>new br(e,i,t._key,r,new Ko(r!==null&&r.hasLocalMutations,!0),t.converter))}function UW(t){t=pe(t,ze);const e=pe(t.firestore,Je);return WP(yt(e),t._key,{source:"server"}).then(n=>W_(e,t,n))}function zW(t){t=pe(t,Ht);const e=pe(t.firestore,Je),n=yt(e),i=new Os(e);return dN(t._query),GP(n,t._query).then(r=>new go(e,i,t,r))}function VW(t){t=pe(t,Ht);const e=pe(t.firestore,Je),n=yt(e),i=new Os(e);return iW(n,t._query).then(r=>new go(e,i,t,r))}function jW(t){t=pe(t,Ht);const e=pe(t.firestore,Je),n=yt(e),i=new Os(e);return GP(n,t._query,{source:"server"}).then(r=>new go(e,i,t,r))}function DI(t,e,n){t=pe(t,ze);const i=pe(t.firestore,Je),r=Cm(t.converter,e,n);return Rl(i,[xm(Ps(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ge.none())])}function PI(t,e,n,...i){t=pe(t,ze);const r=pe(t.firestore,Je),o=Ps(r);let s;return s=typeof(e=ce(e))=="string"||e instanceof mo?B_(o,"updateDoc",t._key,e,n,i):F_(o,"updateDoc",t._key,e),Rl(r,[s.toMutation(t._key,Ge.exists(!0))])}function HW(t){return Rl(pe(t.firestore,Je),[new Sl(t._key,Ge.none())])}function qW(t,e){const n=pe(t.firestore,Je),i=Du(t),r=Cm(t.converter,e);return Rl(n,[xm(Ps(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ge.exists(!1))]).then(()=>i)}function gN(t,...e){var n,i,r;t=ce(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||Ab(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Ab(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[s+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,c,u;if(t instanceof ze)c=pe(t.firestore,Je),u=El(t._key.path),l={next:d=>{e[s]&&e[s](W_(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=pe(t,Ht);c=pe(d.firestore,Je),u=d._query;const h=new Os(c);l={next:f=>{e[s]&&e[s](new go(c,h,d,f))},error:e[s+1],complete:e[s+2]},dN(t._query)}return function(d,h,f,p){const m=new vm(p),b=new I_(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>x_(await ll(d),b)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>k_(await ll(d),b))}}(yt(c),u,a,l)}function WW(t,e){return rW(yt(t=pe(t,Je)),Ab(e)?e:{next:e})}function Rl(t,e){return function(n,i){const r=new Tt;return n.asyncQueue.enqueueAndForget(async()=>D8(await O_(n),i,r)),r.promise}(yt(t),e)}function W_(t,e,n){const i=n.docs.get(e._key),r=new Os(t);return new br(t,r,e._key,i,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ps(e)}set(e,n,i){this._verifyNotCommitted();const r=Mr(e,this._firestore),o=Cm(r.converter,n,i),s=xm(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,Ge.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const o=Mr(e,this._firestore);let s;return s=typeof(n=ce(n))=="string"||n instanceof mo?B_(this._dataReader,"WriteBatch.update",o._key,n,i,r):F_(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ge.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mr(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(n._key,Ge.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mr(t,e){if((t=ce(t)).firestore!==e)throw new R(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ps(e)}get(e){const n=Mr(e,this._firestore),i=new LW(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return W();const o=r[0];if(o.isFoundDocument())return new Pu(this._firestore,i,o.key,o,n.converter);if(o.isNoDocument())return new Pu(this._firestore,i,n._key,null,n.converter);throw W()})}set(e,n,i){const r=Mr(e,this._firestore),o=Cm(r.converter,n,i),s=xm(this._dataReader,"Transaction.set",r._key,o,r.converter!==null,i);return this._transaction.set(r._key,s),this}update(e,n,i,...r){const o=Mr(e,this._firestore);let s;return s=typeof(n=ce(n))=="string"||n instanceof mo?B_(this._dataReader,"Transaction.update",o._key,n,i,r):F_(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=Mr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Mr(e,this._firestore),i=new Os(this._firestore);return super.get(e).then(r=>new br(this._firestore,i,n._key,r._document,new Ko(!1,!1),n.converter))}}function QW(t,e,n){t=pe(t,Je);const i=Object.assign(Object.assign({},GW),n);return function(r){if(r.maxAttempts<1)throw new R(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,s){const a=new Tt;return r.asyncQueue.enqueueAndForget(async()=>{const l=await Z8(r);new X8(r.asyncQueue,l,s,o,a).run()}),a.promise}(yt(t),r=>e(new KW(t,r)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(){return new kd("deleteField")}function XW(){return new M_("serverTimestamp")}function JW(...t){return new kW("arrayUnion",t)}function ZW(...t){return new EW("arrayRemove",t)}function eG(t){return new IW("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(t){return yt(t=pe(t,Je)),new vN(t,e=>Rl(t,e))}(function(t,e=!0){(function(n){kl=n})(Yi),Ii(new ti("firestore",(n,{instanceIdentifier:i,options:r})=>{const o=n.getProvider("app").getImmediate(),s=new Je(new l9(n.getProvider("auth-internal")),new h9(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),zt(CE,"3.13.0",t),zt(CE,"3.13.0","esm2017")})();const nG="@firebase/firestore-compat",iG="0.3.12";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new R("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){if(typeof Uint8Array>"u")throw new R("unimplemented","Uint8Arrays are not available in this environment.")}function OI(){if(!F9())throw new R("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Nu{constructor(e){this._delegate=e}static fromBase64String(e){return OI(),new Nu(Gi.fromBase64String(e))}static fromUint8Array(e){return NI(),new Nu(Gi.fromUint8Array(e))}toBase64(){return OI(),this._delegate.toBase64()}toUint8Array(){return NI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){return rG(t,["next","error","complete"])}function rG(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{enableIndexedDbPersistence(e,n){return hW(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return fW(e._delegate)}clearIndexedDbPersistence(e){return pW(e._delegate)}}class yN{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof uo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ti("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){XP(this._delegate,e,n,i)}enableNetwork(){return gW(this._delegate)}disableNetwork(){return vW(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,QP("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mW(this._delegate)}onSnapshotsInSync(e){return WW(this._delegate,e)}get app(){if(!this._appCompat)throw new R("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cl(this,JP(this._delegate,e))}catch(n){throw sn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qn(this,Du(this._delegate,e))}catch(n){throw sn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new on(this,aW(this._delegate,e))}catch(n){throw sn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return QW(this._delegate,n=>e(new bN(this,n)))}batch(){return yt(this._delegate),new wN(new vN(this._delegate,e=>Rl(this._delegate,e)))}loadBundle(e){return yW(this._delegate,e)}namedQuery(e){return bW(this._delegate,e).then(n=>n?new on(this,n):null)}}class $m extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(new Gi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qn.forKey(n,this.firestore,null)}}function sG(t){r9(t)}class bN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new $m(e)}get(e){const n=Qo(e);return this._delegate.get(n).then(i=>new Ou(this._firestore,new br(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const r=Qo(e);return i?(G_("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=Qo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=Qo(e);return this._delegate.delete(n),this}}class wN{constructor(e){this._delegate=e}set(e,n,i){const r=Qo(e);return i?(G_("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const o=Qo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){const n=Qo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ws{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new Fc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lu(this._firestore,i),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=ws.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new ws(e,new $m(e),n),r.set(n,o)),o}}ws.INSTANCES=new WeakMap;class Qn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $m(e)}static forPath(e,n,i){if(e.length%2!==0)throw new R("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qn(n,new ze(n._delegate,i,new F(e)))}static forKey(e,n,i){return new Qn(n,new ze(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cl(this.firestore,JP(this._delegate,e))}catch(n){throw sn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ce(e),e instanceof ze?ZP(this._delegate,e):!1}set(e,n){n=G_("DocumentReference.set",n);try{return n?DI(this._delegate,e,n):DI(this._delegate,e)}catch(i){throw sn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?PI(this._delegate,e):PI(this._delegate,e,n,...i)}catch(r){throw sn(r,"updateDoc()","DocumentReference.update()")}}delete(){return HW(this._delegate)}onSnapshot(...e){const n=_N(e),i=xN(e,r=>new Ou(this.firestore,new br(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return gN(this._delegate,n,i)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=BW(this._delegate):(e==null?void 0:e.source)==="server"?n=UW(this._delegate):n=FW(this._delegate),n.then(i=>new Ou(this.firestore,new br(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sn(t,e,n){return t.message=t.message.replace(e,n),t}function _N(t){for(const e of t)if(typeof e=="object"&&!Db(e))return e;return{}}function xN(t,e){var n,i;let r;return Db(t[0])?r=t[0]:Db(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}class Ou{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return mN(this._delegate,e._delegate)}}class Lu extends Ou{data(e){const n=this._delegate.data(e);return o9(n!==void 0),n}}class on{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new $m(e)}where(e,n,i){try{return new on(this.firestore,Ar(this._delegate,CW(e,n,i)))}catch(r){throw sn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new on(this.firestore,Ar(this._delegate,$W(e,n)))}catch(i){throw sn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new on(this.firestore,Ar(this._delegate,AW(e)))}catch(n){throw sn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new on(this.firestore,Ar(this._delegate,RW(e)))}catch(n){throw sn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new on(this.firestore,Ar(this._delegate,DW(...e)))}catch(n){throw sn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new on(this.firestore,Ar(this._delegate,PW(...e)))}catch(n){throw sn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new on(this.firestore,Ar(this._delegate,NW(...e)))}catch(n){throw sn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new on(this.firestore,Ar(this._delegate,OW(...e)))}catch(n){throw sn(n,"endAt()","Query.endAt()")}}isEqual(e){return eN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=VW(this._delegate):(e==null?void 0:e.source)==="server"?n=jW(this._delegate):n=zW(this._delegate),n.then(i=>new Pb(this.firestore,new go(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=_N(e),i=xN(e,r=>new Pb(this.firestore,new go(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return gN(this._delegate,n,i)}withConverter(e){return new on(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class aG{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Lu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pb{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new on(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new aG(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Lu(this._firestore,i))})}isEqual(e){return mN(this._delegate,e._delegate)}}class cl extends on{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qn(this.firestore,e):null}doc(e){try{return e===void 0?new Qn(this.firestore,Du(this._delegate)):new Qn(this.firestore,Du(this._delegate,e))}catch(n){throw sn(n,"doc()","CollectionReference.doc()")}}add(e){return qW(this._delegate,e).then(n=>new Qn(this.firestore,n))}isEqual(e){return ZP(this._delegate,e._delegate)}withConverter(e){return new cl(this.firestore,e?this._delegate.withConverter(ws.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Qo(t){return pe(t,ze)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(...e){this._delegate=new mo(...e)}static documentId(){return new K_(ot.keyField().canonicalString())}isEqual(e){return e=ce(e),e instanceof mo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._delegate=e}static serverTimestamp(){const e=XW();return e._methodName="FieldValue.serverTimestamp",new Uo(e)}static delete(){const e=YW();return e._methodName="FieldValue.delete",new Uo(e)}static arrayUnion(...e){const n=JW(...e);return n._methodName="FieldValue.arrayUnion",new Uo(n)}static arrayRemove(...e){const n=ZW(...e);return n._methodName="FieldValue.arrayRemove",new Uo(n)}static increment(e){const n=eG(e);return n._methodName="FieldValue.increment",new Uo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG={Firestore:yN,GeoPoint:wm,Timestamp:Ke,Blob:Nu,Transaction:bN,WriteBatch:wN,DocumentReference:Qn,DocumentSnapshot:Ou,Query:on,QueryDocumentSnapshot:Lu,QuerySnapshot:Pb,CollectionReference:cl,FieldPath:K_,FieldValue:Uo,setLogLevel:sG,CACHE_SIZE_UNLIMITED:uW};function cG(t,e){t.INTERNAL.registerComponent(new ti("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},lG)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uG(t){cG(t,(e,n)=>new yN(e,n,new oG)),t.registerVersion(nG,iG)}uG(Yj);function kN(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dG=kN,EN=new $s("auth","Firebase",kN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new id("@firebase/auth");function hG(t,...e){tp.logLevel<=ae.WARN&&tp.warn(`Auth (${Yi}): ${t}`,...e)}function Vh(t,...e){tp.logLevel<=ae.ERROR&&tp.error(`Auth (${Yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw Q_(t,...e)}function Hi(t,...e){return Q_(t,...e)}function fG(t,e,n){const i=Object.assign(Object.assign({},dG()),{[e]:n});return new $s("auth","Firebase",i).create(e,{appName:t.name})}function Q_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return EN.create(t,...e)}function J(t,e,...n){if(!t)throw Q_(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function wr(t,e){t||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pG(){return LI()==="http:"||LI()==="https:"}function LI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pG()||w5()||"connection"in navigator)?navigator.onLine:!0}function gG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=kw()||jA()}get(){return mG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=new Id(3e4,6e4);function Dl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ls(t,e,n,i,r={}){return SN(t,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const a=bl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),IN.fetch()(TN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function SN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},vG),e);try{const r=new bG(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw yh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw yh(t,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fG(t,u,c);Ci(t,u)}}catch(r){if(r instanceof ri)throw r;Ci(t,"network-request-failed",{message:String(r)})}}async function Am(t,e,n,i,r={}){const o=await Ls(t,e,n,i,r);return"mfaPendingCredential"in o&&Ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}function TN(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Y_(t.config,r):`${t.config.apiScheme}://${r}`}class bG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hi(this.auth,"network-request-failed")),yG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Hi(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wG(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function _G(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function xG(t,e=!1){const n=ce(t),i=await n.getIdToken(e),r=X_(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Bc(fv(r.auth_time)),issuedAtTime:Bc(fv(r.iat)),expirationTime:Bc(fv(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function X_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const r=Df(n);return r?JSON.parse(r):(Vh("Failed to decode base64 JWT payload"),null)}catch(r){return Vh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function kG(t){const e=X_(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ri&&EG(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function EG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Mu(t,_G(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CG(o.providerUserInfo):[],a=TG(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new CN(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function SG(t){const e=ce(t);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TG(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CG(t){return t.map(e=>{var{providerId:n}=e,i=mt(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $G(t,e){const n=await SN(t,{},async()=>{const i=bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=TN(t,r,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IN.fetch()(s,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kG(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await $G(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new Fu;return i&&(J(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=mt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new CN(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xG(this,e)}reload(){return SG(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await np(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Mu(this,wG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,l,c,u;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:w,isAnonymous:C,providerData:S,stsTokenManager:E}=n;J(y&&E,e,"internal-error");const T=Fu.fromJSON(this.name,E);J(typeof y=="string",e,"internal-error"),Rr(d,e.name),Rr(h,e.name),J(typeof w=="boolean",e,"internal-error"),J(typeof C=="boolean",e,"internal-error"),Rr(f,e.name),Rr(p,e.name),Rr(m,e.name),Rr(b,e.name),Rr(v,e.name),Rr(g,e.name);const X=new ts({uid:y,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:T,createdAt:v,lastLoginAt:g});return S&&Array.isArray(S)&&(X.providerData=S.map(q=>Object.assign({},q))),b&&(X._redirectEventId=b),X}static async _fromIdTokenResponse(e,n,i=!1){const r=new Fu;r.updateFromServerResponse(n);const o=new ts({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await np(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;function ar(t){wr(t instanceof Function,"Expected a class definition");let e=MI.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$N.type="NONE";const FI=$N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=jh(this.userKey,r.apiKey,o),this.fullPersistenceKey=jh("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Pa(ar(FI),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=r[0]||ar(FI);const s=jh(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=ts._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Pa(o,e,i):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch(u){}})),new Pa(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NN(e))return"Blackberry";if(ON(e))return"Webos";if(J_(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(PN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function AN(t=gt()){return/firefox\//i.test(t)}function J_(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=gt()){return/crios\//i.test(t)}function DN(t=gt()){return/iemobile/i.test(t)}function PN(t=gt()){return/android/i.test(t)}function NN(t=gt()){return/blackberry/i.test(t)}function ON(t=gt()){return/webos/i.test(t)}function Rm(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AG(t=gt()){var e;return Rm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RG(){return _5()&&document.documentMode===10}function LN(t=gt()){return Rm(t)||PN(t)||ON(t)||NN(t)||/windows phone/i.test(t)||DN(t)}function DG(){try{return!!(window&&window!==window.top)}catch(t){return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e=[]){let n;switch(t){case"Browser":n=BI(gt());break;case"Worker":n=`${BI(gt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yi}/${i}`}async function FN(t,e){return Ls(t,"GET","/v2/recaptchaConfig",Dl(t,e))}function UI(t){return t!==void 0&&t.enterprise!==void 0}class BN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function UN(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Hi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",PG().appendChild(i)})}function NG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OG="https://www.google.com/recaptcha/enterprise.js?render=",LG="recaptcha-enterprise",MG="NO_RECAPTCHA";class zN{constructor(e){this.type=LG,this.auth=Pl(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{FN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new BN(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function r(o,s,a){const l=window.grecaptcha;UI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(MG)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(a=>{if(!n&&UI(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}UN(OG+a).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function ip(t,e,n,i=!1){const r=new zN(t);let o;try{o=await r.verify(n)}catch(a){o=await r.verify(n,!0)}const s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch(o){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zI(this),this.idTokenSubscription=new zI(this),this.beforeStateQueue=new FG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(o){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(i){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ce(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}async initializeRecaptchaConfig(){const e=await FN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new BN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new zN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return J(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,i,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hG(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pl(t){return ce(t)}class zI{constructor(e){this.auth=e,this.observer=null,this.addObserver=GA(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){const n=xo(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Nf(o,e!=null?e:{}))return r;Ci(r,"already-initialized")}return n.initialize({options:e})}function UG(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function zG(t,e,n){const i=Pl(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=jN(e),{host:s,port:a}=VG(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||jG()}function jN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VG(t){const e=jN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:VI(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:VI(s)}}}function VI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function HG(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t,e){return Am(t,"POST","/v1/accounts:signInWithPassword",Dl(t,e))}async function qG(t,e){return Ls(t,"POST","/v1/accounts:sendOobCode",Dl(t,e))}async function mv(t,e){return qG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WG(t,e){return Am(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}async function GG(t,e){return Am(t,"POST","/v1/accounts:signInWithEmailLink",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Z_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Bu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Bu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const r=await ip(e,i,"signInWithPassword");return pv(e,r)}else return pv(e,i).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await ip(e,i,"signInWithPassword");return pv(e,o)}else return Promise.reject(r)});case"emailLink":return WG(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return HG(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return GG(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(t,e){return Am(t,"POST","/v1/accounts:signInWithIdp",Dl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="http://localhost";class _s extends Z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=mt(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new _s(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Na(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Na(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Na(e,n)}buildRequest(){const e={requestUri:KG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YG(t){const e=mc(gc(t)).link,n=e?mc(gc(e)).deep_link_id:null,i=mc(gc(t)).deep_link_id;return(i?mc(gc(i)).link:null)||i||n||e||t}class e1{constructor(e){var n,i,r,o,s,a;const l=mc(gc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=QG((r=l.mode)!==null&&r!==void 0?r:null);J(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=YG(e);try{return new e1(n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.providerId=Ms.PROVIDER_ID}static credential(e,n){return Bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=e1.parseLink(n);return J(i,"argument-error"),Bu._fromEmailAndCode(e,i.code,i.tenantId)}}Ms.PROVIDER_ID="password";Ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends HN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Sd{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch(n){return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Br.credential(n,i)}catch(r){return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Sd{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch(n){return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Sd{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zr.credential(n,i)}catch(r){return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await ts._fromIdTokenResponse(e,i,r),s=jI(i);return new ul({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=jI(i);return new ul({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function jI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends ri{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new rp(e,n,i,r)}}function qN(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(t,o,e,i):o})}async function XG(t,e,n=!1){const i=await Mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Mu(t,qN(i,r,e,t),n);J(o.idToken,i,"internal-error");const s=X_(o.idToken);J(s,i,"internal-error");const{sub:a}=s;return J(t.uid===a,i,"user-mismatch"),ul._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ci(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){const i="signIn",r=await qN(t,i,e),o=await ul._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function JG(t,e){return GN(Pl(t),e)}async function ZG(t,e){return WN(ce(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(t,e,n){var i;const r=Pl(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const s=await ip(r,o,"getOobCode",!0);n&&gv(r,s,n),await mv(r,s)}else n&&gv(r,o,n),await mv(r,o).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ip(r,o,"getOobCode",!0);n&&gv(r,a,n),await mv(r,a)}else return Promise.reject(s)})}function tK(t,e,n){return JG(ce(t),Ms.credential(e,n))}function nK(t,e,n,i){return ce(t).onIdTokenChanged(e,n,i)}function iK(t,e,n){return ce(t).beforeAuthStateChanged(e,n)}async function rK(t){return ce(t).delete()}const op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(){const t=gt();return J_(t)||Rm(t)}const sK=1e3,aK=10;class QN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oK()&&DG(),this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);RG()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,aK):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},sK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QN.type="LOCAL";const lK=QN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YN.type="SESSION";const XN=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Dm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await cK(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=t1("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function dK(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function hK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function fK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pK(){return JN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebaseLocalStorageDb",mK=1,sp="firebaseLocalStorage",eO="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pm(t,e){return t.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function gK(){const t=indexedDB.deleteDatabase(ZN);return new Td(t).toPromise()}function Ob(){const t=indexedDB.open(ZN,mK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(sp,{keyPath:eO})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(sp)?e(i):(i.close(),await gK(),e(await Ob()))})})}async function HI(t,e,n){const i=Pm(t,!0).put({[eO]:e,value:n});return new Td(i).toPromise()}async function vK(t,e){const n=Pm(t,!1).get(e),i=await new Td(n).toPromise();return i===void 0?null:i.value}function qI(t,e){const n=Pm(t,!0).delete(e);return new Td(n).toPromise()}const yK=800,bK=3;class tO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ob(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bK)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(pK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hK(),!this.activeServiceWorker)return;this.sender=new uK(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ob();return await HI(e,op,"1"),await qI(e,op),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>HI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>vK(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Pm(r,!1).getAll();return new Td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tO.type="LOCAL";const nO=tO;new Id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t,e){return e?ar(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _K(t){return GN(t.auth,new n1(t),t.bypassAuthState)}function xK(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),WN(n,new n1(t),t.bypassAuthState)}async function kK(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),XG(n,new n1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _K;case"linkViaPopup":case"linkViaRedirect":return kK;case"reauthViaPopup":case"reauthViaRedirect":return xK;default:Ci(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=new Id(2e3,1e4);class ya extends iO{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EK.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="pendingRedirect",Hh=new Map;class SK extends iO{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const i=await TK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TK(t,e){const n=AK(e),i=$K(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function CK(t,e){Hh.set(t._key(),e)}function $K(t){return ar(t._redirectPersistence)}function AK(t){return jh(IK,t.config.apiKey,t.name)}async function RK(t,e,n=!1){const i=Pl(t),r=wK(i,e),s=await new SK(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=10*60*1e3;class PK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!rO(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DK&&this.cachedEventUids.clear(),this.cachedEventUids.has(WI(e))}saveEventToCache(e){this.cachedEventUids.add(WI(e)),this.lastProcessedEventTime=Date.now()}}function WI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MK=/^https?/;async function FK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OK(t);for(const n of e)try{if(BK(n))return}catch(i){}Ci(t,"unauthorized-domain")}function BK(t){const e=Nb(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!MK.test(n))return!1;if(LK.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=new Id(3e4,6e4);function GI(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zK(t){return new Promise((e,n)=>{var i,r,o;function s(){GI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GI(),n(Hi(t,"network-request-failed"))},timeout:UK.get()})}if(!((r=(i=qi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=qi().gapi)===null||o===void 0)&&o.load)s();else{const a=NG("iframefcb");return qi()[a]=()=>{gapi.load?s():n(Hi(t,"network-request-failed"))},UN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qh=null,e})}let qh=null;function VK(t){return qh=qh||zK(t),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new Id(5e3,15e3),HK="__/auth/iframe",qK="emulator/auth/iframe",WK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KK(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Y_(e,qK):`https://${t.config.authDomain}/${HK}`,i={apiKey:e.apiKey,appName:t.name,v:Yi},r=GK.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${bl(i).slice(1)}`}async function QK(t){const e=await VK(t),n=qi().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:KK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WK,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const s=Hi(t,"network-request-failed"),a=qi().setTimeout(()=>{o(s)},jK.get());function l(){qi().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XK=500,JK=600,ZK="_blank",e7="http://localhost";class KI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function t7(t,e,n,i=XK,r=JK){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YK),{width:i.toString(),height:r.toString(),top:o,left:s}),c=gt().toLowerCase();n&&(a=RN(c)?ZK:n),AN(c)&&(e=e||e7,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(AG(c)&&a!=="_self")return n7(e||"",a),new KI(null);const d=window.open(e||"",a,u);J(d,t,"popup-blocked");try{d.focus()}catch(h){}return new KI(d)}function n7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="__/auth/handler",r7="emulator/auth/handler",o7=encodeURIComponent("fac");async function QI(t,e,n,i,r,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Yi,eventId:r};if(e instanceof HN){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Gy(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Sd){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${o7}=${encodeURIComponent(l)}`:"";return`${s7(t)}?${bl(a).slice(1)}${c}`}function s7({config:t}){return t.emulator?Y_(t,r7):`https://${t.authDomain}/${i7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="webStorageSupport";class a7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XN,this._completeRedirectFn=RK,this._overrideRedirectResult=CK}async _openPopup(e,n,i,r){var o;wr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await QI(e,n,i,Nb(),r);return t7(e,s,t1())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await QI(e,n,i,Nb(),r);return dK(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(wr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QK(e),i=new PK(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vv,{type:vv},r=>{var o;const s=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[vv];s!==void 0&&n(!!s),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LN()||J_()||Rm()}}const l7=a7;var YI="@firebase/auth",XI="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function d7(t){Ii(new ti("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MN(t)},c=new BG(i,r,o,l);return UG(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ii(new ti("auth-internal",e=>{const n=Pl(e.getProvider("auth").getImmediate());return(i=>new c7(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zt(YI,XI,u7(t)),zt(YI,XI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=5*60,f7=VA("authIdTokenMaxAge")||h7;let JI=null;const p7=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>f7)return;const r=n==null?void 0:n.token;JI!==r&&(JI=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function m7(t=wl()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VN(t,{popupRedirectResolver:l7,persistence:[nO,lK,XN]}),i=VA("authTokenSyncURL");if(i){const o=p7(i);iK(n,o,()=>o(n.currentUser)),nK(n,s=>o(s))}const r=UA("auth");return r&&zG(n,`http://${r}`),n}d7("Browser");const ZI="@firebase/database",eS="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO="";function g7(t){oO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ft(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:hu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new v7(e)}}catch(e){}return new y7},Yo=sO("localStorage"),Lb=sO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new id("@firebase/database"),b7=function(){let t=1;return function(){return t++}}(),aO=function(t){const e=P5(t),n=new $5;n.update(e);const i=n.digest();return ww.encodeByteArray(i)},Cd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Cd.apply(null,i):typeof i=="object"?e+=Ft(i):e+=i,e+=" "}return e};let ns=null,tS=!0;const w7=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oa.logLevel=ae.VERBOSE,ns=Oa.log.bind(Oa),e&&Lb.set("logging_enabled",!0)):typeof t=="function"?ns=t:(ns=null,Lb.remove("logging_enabled"))},Yt=function(...t){if(tS===!0&&(tS=!1,ns===null&&Lb.get("logging_enabled")===!0&&w7(!0)),ns){const e=Cd.apply(null,t);ns(e)}},$d=function(t){return function(...e){Yt(t,...e)}},Mb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cd(...t);Oa.error(e)},_r=function(...t){const e=`FIREBASE FATAL ERROR: ${Cd(...t)}`;throw Oa.error(e),new Error(e)},Rn=function(...t){const e="FIREBASE WARNING: "+Cd(...t);Oa.warn(e)},_7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x7=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},dl="[MIN_NAME]",xs="[MAX_NAME]",Nl=function(t,e){if(t===e)return 0;if(t===dl||e===xs)return-1;if(e===dl||t===xs)return 1;{const n=nS(t),i=nS(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},k7=function(t,e){return t===e?0:t<e?-1:1},oc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ft(e))},i1=function(t){if(typeof t!="object"||t===null)return Ft(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ft(e[i]),n+=":",n+=i1(t[e[i]]);return n+="}",n},cO=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ni(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const uO=function(t){B(!lO(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},E7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},I7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},S7=new RegExp("^-?(0*)\\d{1,10}$"),T7=-2147483648,C7=2147483647,nS=function(t){if(S7.test(t)){const e=Number(t);if(e>=T7&&e<=C7)return e}return null},Ad=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Rn("Exception was thrown by user callback.",n),e},Math.floor(0))}},$7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Rn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rn(e)}}class La{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}La.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="5",dO="v",hO="s",fO="r",pO="f",mO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gO="ls",vO="p",Fb="ac",yO="websocket",bO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function D7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _O(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let i;if(e===yO)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===bO)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);D7(t)&&(n.ns=t.namespace);const r=[];return ni(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.counters_={}}incrementCounter(e,n=1){Ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return h5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={},bv={};function o1(t){const e=t.toString();return yv[e]||(yv[e]=new P7),yv[e]}function N7(t,e){const n=t.toString();return bv[n]||(bv[n]=e()),bv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ad(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="start",L7="close",M7="pLPCommand",F7="pRTLPCB",xO="id",kO="pw",EO="ser",B7="cb",U7="seg",z7="ts",V7="d",j7="dframe",IO=1870,SO=30,H7=IO-SO,q7=25e3,W7=3e4;class ba{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$d(e),this.stats_=o1(n),this.urlFn=l=>(this.appCheckToken&&(l[Fb]=this.appCheckToken),_O(n,bO,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new O7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(W7)),x7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new s1((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===iS)this.id=a,this.password=l;else if(s===L7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[iS]="t",i[EO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[B7]=this.scriptTagHolder.uniqueCallbackIdentifier),i[dO]=r1,this.transportSessionId&&(i[hO]=this.transportSessionId),this.lastSessionId&&(i[gO]=this.lastSessionId),this.applicationId&&(i[vO]=this.applicationId),this.appCheckToken&&(i[Fb]=this.appCheckToken),typeof location<"u"&&location.hostname&&mO.test(location.hostname)&&(i[fO]=pO);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ba.forceAllow_=!0}static forceDisallow(){ba.forceDisallow_=!0}static isAvailable(){return ba.forceAllow_?!0:!ba.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!E7()&&!I7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=BA(n),r=cO(i,H7);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[j7]="t",i[xO]=e,i[kO]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ft(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class s1{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=b7(),window[M7+this.uniqueCallbackIdentifier]=e,window[F7+this.uniqueCallbackIdentifier]=n,this.myIFrame=s1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Yt("frame writing exception"),a.stack&&Yt(a.stack),Yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yt("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[xO]=this.myID,e[kO]=this.myPW,e[EO]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SO+i.length<=IO;){const s=this.pendingSegs.shift();i=i+"&"+U7+r+"="+s.seg+"&"+z7+r+"="+s.ts+"&"+V7+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(q7)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=16384,K7=45e3;let ap=null;typeof MozWebSocket<"u"?ap=MozWebSocket:typeof WebSocket<"u"&&(ap=WebSocket);class fi{constructor(e,n,i,r,o,s,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$d(this.connId),this.stats_=o1(n),this.connURL=fi.connectionURL_(n,s,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const s={};return s[dO]=r1,typeof location<"u"&&location.hostname&&mO.test(location.hostname)&&(s[fO]=pO),n&&(s[hO]=n),i&&(s[gO]=i),r&&(s[Fb]=r),o&&(s[vO]=o),_O(e,yO,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{let i;HA(),this.mySock=new ap(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){fi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ap!==null&&!fi.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||Yo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=hu(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ft(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=cO(n,G7);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(K7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fi.responsesRequiredToBeHealthy=2;fi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ba,fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=fi&&fi.isAvailable();let i=n&&!fi.previouslyFailed();if(e.webSocketOnly&&(n||Rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fi];else{const r=this.transports_=[];for(const o of Uu.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Uu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=6e4,Y7=5e3,X7=10*1024,J7=100*1024,wv="t",rS="d",Z7="s",oS="r",eQ="e",sS="o",aS="a",lS="n",cS="p",tQ="h";class nQ{constructor(e,n,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$d("c:"+this.id+":"),this.transportManager_=new Uu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Uc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>J7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>X7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wv in e){const n=e[wv];n===aS?this.upgradeIfSecondaryHealthy_():n===oS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=oc("t",e),i=oc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=oc("t",e),i=oc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=oc(wv,e);if(rS in e){const i=e[rS];if(n===tQ){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===lS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Z7?this.onConnectionShutdown_(i):n===oS?this.onReset_(i):n===eQ?Mb("Server Error: "+i):n===sS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),r1!==i&&Rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Uc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Q7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Y7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends CO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lp}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=32,dS=768;class Ve{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Ve("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vo(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ve(t.pieces_,e)}function $O(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iQ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function AO(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RO(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ve(e,0)}function It(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ve)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ve(n,0)}function le(t){return t.pieceNum_>=t.pieces_.length}function Yn(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return Yn(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function DO(t,e){if(vo(t)!==vo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function mi(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(vo(t)>vo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class rQ{constructor(e,n){this.errorPrefix_=n,this.parts_=AO(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=qp(this.parts_[i]);PO(this)}}function oQ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qp(e),PO(t)}function sQ(t){const e=t.parts_.pop();t.byteLength_-=qp(e),t.parts_.length>0&&(t.byteLength_-=1)}function PO(t){if(t.byteLength_>dS)throw new Error(t.errorPrefix_+"has a key path longer than "+dS+" bytes ("+t.byteLength_+").");if(t.parts_.length>uS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uS+") or object contains a cycle "+Oo(t))}function Oo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends CO{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new a1}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=1e3,aQ=60*5*1e3,hS=30*1e3,lQ=1.3,cQ=3e4,uQ="server_kill",fS=3;class dr extends TO{constructor(e,n,i,r,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=dr.nextPersistentConnectionId_++,this.log_=$d("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sc,this.maxReconnectDelay_=aQ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!HA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");a1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(Ft(o)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new _w,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,c=a.s;dr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ei(e,"w")){const i=Ya(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||C5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=T5(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,s=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";r&&(o.q=i,o.t=r),this.sendRequest(s,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{r&&setTimeout(()=>{r(s.s,s.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const s={p:n,d:i};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ft(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Mb("Unrecognized action received from server: "+Ft(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cQ&&(this.reconnectDelay_=sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lQ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+dr.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,i())},c=function(d){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Yt("getToken() completed but was canceled"):(Yt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new nQ(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Rn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(uQ)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&Rn(d),l())}}}interrupt(e){Yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gy(this.interruptReasons_)&&(this.reconnectDelay_=sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>i1(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ve(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fS&&(this.reconnectDelay_=hS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+oO.replace(/\./g,"-")]=1,kw()?e["framework.cordova"]=1:jA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lp.getInstance().currentlyOnline();return Gy(this.interruptReasons_)&&e}}dr.nextPersistentConnectionId_=0;dr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new fe(dl,e),r=new fe(dl,n);return this.compare(i,r)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh;class NO extends Nm{static get __EMPTY_NODE(){return bh}static set __EMPTY_NODE(e){bh=e}compare(e,n){return Nl(e.name,n.name)}isDefinedOn(e){throw yl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fe.MIN}maxPost(){return new fe(xs,bh)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,bh)}toString(){return".key"}}const Ma=new NO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Et{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i!=null?i:Et.RED,this.left=r!=null?r:wn.EMPTY_NODE,this.right=o!=null?o:wn.EMPTY_NODE}copy(e,n,i,r,o){return new Et(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return wn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Et.RED=!0;Et.BLACK=!1;class dQ{copy(e,n,i,r,o){return this}insert(e,n,i){return new Et(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wn{constructor(e,n=wn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new wn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Et.BLACK,null,null))}remove(e){return new wn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Et.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wh(this.root_,null,this.comparator_,!0,e)}}wn.EMPTY_NODE=new dQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(t,e){return Nl(t.name,e.name)}function l1(t,e){return Nl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bb;function fQ(t){Bb=t}const OO=function(t){return typeof t=="number"?"number:"+uO(t):"string:"+t},LO=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ei(e,".sv"),"Priority must be a string or number.")}else B(t===Bb||t.isEmpty(),"priority of unexpected type.");B(t===Bb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pS;class wt{constructor(e,n=wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LO(this.priorityNode_)}static set __childrenNodeConstructor(e){pS=e}static get __childrenNodeConstructor(){return pS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return le(e)?this:de(e)===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(B(i!==".priority"||vo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+OO(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=uO(this.value_):e+=this.value_,this.lazyHash_=aO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wt.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=wt.VALUE_TYPE_ORDER.indexOf(n),o=wt.VALUE_TYPE_ORDER.indexOf(i);return B(r>=0,"Unknown leaf type: "+n),B(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MO,FO;function pQ(t){MO=t}function mQ(t){FO=t}class gQ extends Nm{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Nl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(xs,new wt("[PRIORITY-POST]",FO))}makePost(e,n){const i=MO(e);return new fe(n,new wt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Jt=new gQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=Math.log(2);class yQ{constructor(e){const n=o=>parseInt(Math.log(o)/vQ,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cp=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Et(h,d.node,Et.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=t[f],h=n?n(d):d,new Et(h,d.node,Et.BLACK,p,m)}},o=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const b=d-p,v=d;d-=p;const g=r(b+1,v),y=t[b],w=n?n(y):y;f(new Et(w,y.node,m,null,g))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));m?h(b,Et.BLACK):(h(b,Et.BLACK),h(b,Et.RED))}return u},s=new yQ(t.length),a=o(s);return new wn(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v;const Gs={};class lr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(Gs&&Jt,"ChildrenNode.ts has not been loaded"),_v=_v||new lr({".priority":Gs},{".priority":Jt}),_v}get(e){const n=Ya(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wn?n:null}hasIndex(e){return Ei(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Ma,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(fe.Wrap);let s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=cp(i,e.getCompare()):a=Gs;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new lr(u,c)}addToIndexes(e,n){const i=Pf(this.indexes_,(r,o)=>{const s=Ya(this.indexSet_,o);if(B(s,"Missing index implementation for "+o),r===Gs)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(fe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cp(a,s.getCompare())}else return Gs;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new fe(e.name,a))),l.insert(e,e.node)}});return new lr(i,this.indexSet_)}removeFromIndexes(e,n){const i=Pf(this.indexes_,r=>{if(r===Gs)return r;{const o=n.get(e.name);return o?r.remove(new fe(e.name,o)):r}});return new lr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;class _e{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LO(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ac||(ac=new _e(new wn(l1),null,lr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ac}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ac:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new fe(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const s=r.isEmpty()?ac:this.priorityNode_;return new _e(r,s,o)}}updateChild(e,n){const i=de(e);if(i===null)return n;{B(de(e)!==".priority"||vo(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Le(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Jt,(s,a)=>{n[s]=a.val(e),i++,o&&_e.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1}),!e&&o&&r<2*i){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+OO(this.getPriority().val())+":"),this.forEachChild(Jt,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":aO(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new fe(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,fe.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rd?-1:0}withIndex(e){if(e===Ma||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ma||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Jt),r=n.getIterator(Jt);let o=i.getNext(),s=r.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=r.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Ma?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bQ extends _e{constructor(){super(new wn(l1),_e.EMPTY_NODE,lr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const Rd=new bQ;Object.defineProperties(fe,{MIN:{value:new fe(dl,_e.EMPTY_NODE)},MAX:{value:new fe(xs,Rd)}});NO.__EMPTY_NODE=_e.EMPTY_NODE;wt.__childrenNodeConstructor=_e;fQ(Rd);mQ(Rd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=!0;function Xt(t,e=null){if(t===null)return _e.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new wt(n,Xt(e))}if(!(t instanceof Array)&&wQ){const n=[];let i=!1;if(ni(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Xt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new fe(s,l)))}}),n.length===0)return _e.EMPTY_NODE;const o=cp(n,hQ,s=>s.name,l1);if(i){const s=cp(n,Jt.getCompare());return new _e(o,Xt(e),new lr({".priority":s},{".priority":Jt}))}else return new _e(o,Xt(e),lr.Default)}else{let n=_e.EMPTY_NODE;return ni(t,(i,r)=>{if(Ei(t,i)&&i.substring(0,1)!=="."){const o=Xt(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Xt(e))}}pQ(Xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q extends Nm{constructor(e){super(),this.indexPath_=e,B(!le(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Nl(e.name,n.name):o}makePost(e,n){const i=Xt(e),r=_e.EMPTY_NODE.updateChild(this.indexPath_,i);return new fe(n,r)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,Rd);return new fe(xs,e)}toString(){return AO(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ extends Nm{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Nl(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,n){const i=Xt(e);return new fe(n,i)}toString(){return".value"}}const kQ=new xQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){return{type:"value",snapshotNode:t}}function IQ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function SQ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function TQ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jt}copy(){const e=new c1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Jt?n="$priority":t.index_===kQ?n="$value":t.index_===Ma?n="$key":(B(t.index_ instanceof _Q,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ft(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ft(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ft(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ft(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ft(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function vS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends TO{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$d("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=up.getListenId_(e,i),a={};this.listens_[s]=a;const l=gS(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Ya(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){const i=up.getListenId_(e,n);delete this.listens_[i]}get(e){const n=gS(e._queryParams),i=e._path.toString(),r=new _w;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bl(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=hu(a.responseText)}catch(c){Rn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Rn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return{value:null,children:new Map}}function BO(t,e,n){if(le(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,dp());const r=t.children.get(i);e=Le(e),BO(r,e,n)}}function Ub(t,e,n){t.value!==null?n(e,t.value):$Q(t,(i,r)=>{const o=new Ve(e.toString()+"/"+i);Ub(r,o,n)})}function $Q(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ni(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=10*1e3,RQ=30*1e3,DQ=5*60*1e3;class PQ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AQ(e);const i=yS+(RQ-yS)*Math.random();Uc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ni(e,(r,o)=>{o>0&&Ei(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*DQ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bi||(Bi={}));function UO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zO(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function VO(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Bi.ACK_USER_WRITE,this.source=UO()}operationForChild(e){if(le(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ve(e));return new hp(Te(),n,this.revert)}}else return B(de(this.path)===e,"operationForChild called for unrelated child."),new hp(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Bi.OVERWRITE}operationForChild(e){return le(this.path)?new ks(this.source,Te(),this.snap.getImmediateChild(e)):new ks(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Bi.MERGE}operationForChild(e){if(le(this.path)){const n=this.children.subtree(new Ve(e));return n.isEmpty()?null:n.value?new ks(this.source,Te(),n.value):new zu(this.source,Te(),n)}else return B(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zu(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(le(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function NQ(t,e,n,i){const r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(TQ(s.childName,s.snapshotNode))}),lc(t,r,"child_removed",e,i,n),lc(t,r,"child_added",e,i,n),lc(t,r,"child_moved",o,i,n),lc(t,r,"child_changed",e,i,n),lc(t,r,"value",e,i,n),r}function lc(t,e,n,i,r,o){const s=i.filter(a=>a.type===n);s.sort((a,l)=>LQ(t,a,l)),s.forEach(a=>{const l=OQ(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function OQ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LQ(t,e,n){if(e.childName==null||n.childName==null)throw yl("Should only compare child_ events.");const i=new fe(e.childName,e.snapshotNode),r=new fe(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e){return{eventCache:t,serverCache:e}}function zc(t,e,n,i){return jO(new u1(e,n,i),t.serverCache)}function HO(t,e,n,i){return jO(t.eventCache,new u1(e,n,i))}function zb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Es(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv;const MQ=()=>(xv||(xv=new wn(k7)),xv);class Oe{constructor(e,n=MQ()){this.value=e,this.children=n}static fromObject(e){let n=new Oe(null);return ni(e,(i,r)=>{n=n.set(new Ve(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(le(e))return null;{const i=de(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Le(e),n);return o!=null?{path:It(new Ve(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(le(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(Le(e)):new Oe(null)}}set(e,n){if(le(e))return new Oe(n,this.children);{const i=de(e),o=(this.children.get(i)||new Oe(null)).set(Le(e),n),s=this.children.insert(i,o);return new Oe(this.value,s)}}remove(e){if(le(e))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const r=i.remove(Le(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Oe(null):new Oe(this.value,o)}else return this}}get(e){if(le(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(Le(e)):null}}setTree(e,n){if(le(e))return n;{const i=de(e),o=(this.children.get(i)||new Oe(null)).setTree(Le(e),n);let s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new Oe(this.value,s)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(It(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(le(e))return null;{const o=de(e),s=this.children.get(o);return s?s.findOnPath_(Le(e),It(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,i){if(le(e))return this;{this.value&&i(n,this.value);const r=de(e),o=this.children.get(r);return o?o.foreachOnPath_(Le(e),It(n,r),i):new Oe(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(It(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.writeTree_=e}static empty(){return new _i(new Oe(null))}}function Vc(t,e,n){if(le(e))return new _i(new Oe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const s=Yn(r,e);return o=o.updateChild(s,n),new _i(t.writeTree_.set(r,o))}else{const r=new Oe(n),o=t.writeTree_.setTree(e,r);return new _i(o)}}}function bS(t,e,n){let i=t;return ni(n,(r,o)=>{i=Vc(i,It(e,r),o)}),i}function wS(t,e){if(le(e))return _i.empty();{const n=t.writeTree_.setTree(e,new Oe(null));return new _i(n)}}function Vb(t,e){return Fs(t,e)!=null}function Fs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yn(n.path,e)):null}function _S(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Jt,(i,r)=>{e.push(new fe(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new fe(i,r.value))}),e}function no(t,e){if(le(e))return t;{const n=Fs(t,e);return n!=null?new _i(new Oe(n)):new _i(t.writeTree_.subtree(e))}}function jb(t){return t.writeTree_.isEmpty()}function hl(t,e){return qO(Te(),t.writeTree_,e)}function qO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(B(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=qO(It(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(It(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e){return XO(e,t)}function FQ(t,e,n,i,r){B(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Vc(t.visibleWrites,e,n)),t.lastWriteId=i}function BQ(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function UQ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&zQ(a,i.path)?r=!1:mi(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return VQ(t),!0;if(i.snap)t.visibleWrites=wS(t.visibleWrites,i.path);else{const a=i.children;ni(a,l=>{t.visibleWrites=wS(t.visibleWrites,It(i.path,l))})}return!0}else return!1}function zQ(t,e){if(t.snap)return mi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&mi(It(t.path,n),e))return!0;return!1}function VQ(t){t.visibleWrites=GO(t.allWrites,jQ,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jQ(t){return t.visible}function GO(t,e,n){let i=_i.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const s=o.path;let a;if(o.snap)mi(n,s)?(a=Yn(n,s),i=Vc(i,a,o.snap)):mi(s,n)&&(a=Yn(s,n),i=Vc(i,Te(),o.snap.getChild(a)));else if(o.children){if(mi(n,s))a=Yn(n,s),i=bS(i,a,o.children);else if(mi(s,n))if(a=Yn(s,n),le(a))i=bS(i,Te(),o.children);else{const l=Ya(o.children,de(a));if(l){const c=l.getChild(Le(a));i=Vc(i,Te(),c)}}}else throw yl("WriteRecord should have .snap or .children")}}return i}function KO(t,e,n,i,r){if(!i&&!r){const o=Fs(t.visibleWrites,e);if(o!=null)return o;{const s=no(t.visibleWrites,e);if(jb(s))return n;if(n==null&&!Vb(s,Te()))return null;{const a=n||_e.EMPTY_NODE;return hl(s,a)}}}else{const o=no(t.visibleWrites,e);if(!r&&jb(o))return n;if(!r&&n==null&&!Vb(o,Te()))return null;{const s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(mi(c.path,e)||mi(e,c.path))},a=GO(t.allWrites,s,e),l=n||_e.EMPTY_NODE;return hl(a,l)}}}function HQ(t,e,n){let i=_e.EMPTY_NODE;const r=Fs(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Jt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){const o=no(t.visibleWrites,e);return n.forEachChild(Jt,(s,a)=>{const l=hl(no(o,new Ve(s)),a);i=i.updateImmediateChild(s,l)}),_S(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const o=no(t.visibleWrites,e);return _S(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function qQ(t,e,n,i,r){B(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=It(e,n);if(Vb(t.visibleWrites,o))return null;{const s=no(t.visibleWrites,o);return jb(s)?r.getChild(n):hl(s,r.getChild(n))}}function WQ(t,e,n,i){const r=It(e,n),o=Fs(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const s=no(t.visibleWrites,r);return hl(s,i.getNode().getImmediateChild(n))}else return null}function GQ(t,e){return Fs(t.visibleWrites,e)}function KQ(t,e,n,i,r,o,s){let a;const l=no(t.visibleWrites,e),c=Fs(l,Te());if(c!=null)a=c;else if(n!=null)a=hl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function QQ(){return{visibleWrites:_i.empty(),allWrites:[],lastWriteId:-1}}function Hb(t,e,n,i){return KO(t.writeTree,t.treePath,e,n,i)}function QO(t,e){return HQ(t.writeTree,t.treePath,e)}function xS(t,e,n,i){return qQ(t.writeTree,t.treePath,e,n,i)}function fp(t,e){return GQ(t.writeTree,It(t.treePath,e))}function YQ(t,e,n,i,r,o){return KQ(t.writeTree,t.treePath,e,n,i,r,o)}function d1(t,e,n){return WQ(t.writeTree,t.treePath,e,n)}function YO(t,e){return XO(It(t.treePath,e),t.writeTree)}function XO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,mS(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,SQ(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,IQ(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,mS(i,e.snapshotNode,r.oldSnap));else throw yl("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const JO=new JQ;class h1{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new u1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return d1(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Es(this.viewCache_),o=YQ(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}function ZQ(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function eY(t,e,n,i,r){const o=new XQ;let s,a;if(n.type===Bi.OVERWRITE){const c=n;c.source.fromUser?s=qb(t,e,c.path,c.snap,i,r,o):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!le(c.path),s=pp(t,e,c.path,c.snap,i,r,a,o))}else if(n.type===Bi.MERGE){const c=n;c.source.fromUser?s=nY(t,e,c.path,c.children,i,r,o):(B(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=Wb(t,e,c.path,c.children,i,r,a,o))}else if(n.type===Bi.ACK_USER_WRITE){const c=n;c.revert?s=oY(t,e,c.path,i,r,o):s=iY(t,e,c.path,c.affectedTree,i,r,o)}else if(n.type===Bi.LISTEN_COMPLETE)s=rY(t,e,n.path,i,o);else throw yl("Unknown operation type: "+n.type);const l=o.getChanges();return tY(e,s,l),{viewCache:s,changes:l}}function tY(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=zb(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(EQ(zb(e)))}}function ZO(t,e,n,i,r,o){const s=e.eventCache;if(fp(i,n)!=null)return e;{let a,l;if(le(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Es(e),u=c instanceof _e?c:_e.EMPTY_NODE,d=QO(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=Hb(i,Es(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=de(n);if(c===".priority"){B(vo(n)===1,"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=xS(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{const u=Le(n);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=xS(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=d1(i,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return zc(e,a,s.isFullyInitialized()||le(n),t.filter.filtersNodes())}}function pp(t,e,n,i,r,o,s,a){const l=e.serverCache;let c;const u=s?t.filter:t.filter.getIndexedFilter();if(le(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=de(n);if(!l.isCompleteForPath(n)&&vo(n)>1)return e;const p=Le(n),b=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),b):c=u.updateChild(l.getNode(),f,b,p,JO,null)}const d=HO(e,c,l.isFullyInitialized()||le(n),u.filtersNodes()),h=new h1(r,d,o);return ZO(t,d,n,r,h,a)}function qb(t,e,n,i,r,o,s){const a=e.eventCache;let l,c;const u=new h1(r,e,o);if(le(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=zc(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=zc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Le(n),f=a.getNode().getImmediateChild(d);let p;if(le(h))p=i;else{const m=u.getCompleteChild(d);m!=null?$O(h)===".priority"&&m.getChild(RO(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=_e.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,s);l=zc(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function kS(t,e){return t.eventCache.isCompleteForChild(e)}function nY(t,e,n,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=It(n,l);kS(e,de(u))&&(a=qb(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=It(n,l);kS(e,de(u))||(a=qb(t,a,u,c,r,o,s))}),a}function ES(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Wb(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;le(n)?c=i:c=new Oe(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=ES(t,f,h);l=pp(t,l,new Ve(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=ES(t,p,h);l=pp(t,l,new Ve(d),m,r,o,s,a)}}),l}function iY(t,e,n,i,r,o,s){if(fp(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(le(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return pp(t,e,n,l.getNode().getChild(n),r,o,a,s);if(le(n)){let c=new Oe(null);return l.getNode().forEachChild(Ma,(u,d)=>{c=c.set(new Ve(u),d)}),Wb(t,e,n,c,r,o,a,s)}else return e}else{let c=new Oe(null);return i.foreach((u,d)=>{const h=It(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Wb(t,e,n,c,r,o,a,s)}}function rY(t,e,n,i,r){const o=e.serverCache,s=HO(e,o.getNode(),o.isFullyInitialized()||le(n),o.isFiltered());return ZO(t,s,n,i,JO,r)}function oY(t,e,n,i,r,o){let s;if(fp(i,n)!=null)return e;{const a=new h1(i,e,r),l=e.eventCache.getNode();let c;if(le(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hb(i,Es(e));else{const d=e.serverCache.getNode();B(d instanceof _e,"serverChildren would be complete if leaf node"),u=QO(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=de(n);let d=d1(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Le(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,_e.EMPTY_NODE,Le(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Hb(i,Es(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||fp(i,Te())!=null,zc(e,c,s,t.filter.filtersNodes())}}function sY(t,e){const n=Es(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!le(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function IS(t,e,n,i){e.type===Bi.MERGE&&e.source.queryId!==null&&(B(Es(t.viewCache_),"We should always have a full cache before handling merges"),B(zb(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=eY(t.processor_,r,e,n,i);return ZQ(t.processor_,o.viewCache),B(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aY(t,o.changes,o.viewCache.eventCache.getNode(),null)}function aY(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return NQ(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SS;function lY(t){B(!SS,"__referenceConstructor has already been defined"),SS=t}function f1(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return B(o!=null,"SyncTree gave us an op for an invalid query."),IS(o,e,n,i)}else{let o=[];for(const s of t.views.values())o=o.concat(IS(s,e,n,i));return o}}function p1(t,e){let n=null;for(const i of t.views.values())n=n||sY(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TS;function cY(t){B(!TS,"__referenceConstructor has already been defined"),TS=t}class CS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=QQ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uY(t,e,n,i,r){return FQ(t.pendingWriteTree_,e,n,i,r),r?Lm(t,new ks(UO(),e,n)):[]}function wa(t,e,n=!1){const i=BQ(t.pendingWriteTree_,e);if(UQ(t.pendingWriteTree_,e)){let o=new Oe(null);return i.snap!=null?o=o.set(Te(),!0):ni(i.children,s=>{o=o.set(new Ve(s),!0)}),Lm(t,new hp(i.path,o,n))}else return[]}function Om(t,e,n){return Lm(t,new ks(zO(),e,n))}function dY(t,e,n){const i=Oe.fromObject(n);return Lm(t,new zu(zO(),e,i))}function hY(t,e,n,i){const r=i2(t,i);if(r!=null){const o=r2(r),s=o.path,a=o.queryId,l=Yn(s,e),c=new ks(VO(a),l,n);return o2(t,s,c)}else return[]}function fY(t,e,n,i){const r=i2(t,i);if(r){const o=r2(r),s=o.path,a=o.queryId,l=Yn(s,e),c=Oe.fromObject(n),u=new zu(VO(a),l,c);return o2(t,s,u)}else return[]}function e2(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Yn(s,e),c=p1(a,l);if(c)return c});return KO(r,e,o,n,!0)}function Lm(t,e){return t2(e,t.syncPointTree_,null,WO(t.pendingWriteTree_,Te()))}function t2(t,e,n,i){if(le(t.path))return n2(t,e,n,i);{const r=e.get(Te());n==null&&r!=null&&(n=p1(r,Te()));let o=[];const s=de(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const c=n?n.getImmediateChild(s):null,u=YO(i,s);o=o.concat(t2(a,l,c,u))}return r&&(o=o.concat(f1(r,t,i,n))),o}}function n2(t,e,n,i){const r=e.get(Te());n==null&&r!=null&&(n=p1(r,Te()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,c=YO(i,s),u=t.operationForChild(s);u&&(o=o.concat(n2(u,a,l,c)))}),r&&(o=o.concat(f1(r,t,i,n))),o}function i2(t,e){return t.tagToQueryMap.get(e)}function r2(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ve(t.substr(0,e))}}function o2(t,e,n){const i=t.syncPointTree_.get(e);B(i,"Missing sync point for query tag that we're tracking");const r=WO(t.pendingWriteTree_,e);return f1(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new m1(n)}node(){return this.node_}}class g1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=It(this.path_,e);return new g1(this.syncTree_,n)}node(){return e2(this.syncTree_,this.path_)}}const pY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$S=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return mY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gY(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},mY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},gY=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&B(!1,"Unexpected increment value: "+i);const r=e.node();if(B(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return typeof s!="number"?i:s+i},vY=function(t,e,n,i){return v1(e,new g1(n,t),i)},yY=function(t,e,n){return v1(t,new m1(e),n)};function v1(t,e,n){const i=t.getPriority().val(),r=$S(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=$S(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new wt(a,Xt(r)):t}else{const s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new wt(r))),s.forEachChild(Jt,(a,l)=>{const c=v1(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function b1(t,e){let n=e instanceof Ve?e:new Ve(e),i=t,r=de(n);for(;r!==null;){const o=Ya(i.node.children,r)||{children:{},childCount:0};i=new y1(r,i,o),n=Le(n),r=de(n)}return i}function Ol(t){return t.node.value}function s2(t,e){t.node.value=e,Gb(t)}function a2(t){return t.node.childCount>0}function bY(t){return Ol(t)===void 0&&!a2(t)}function Mm(t,e){ni(t.node.children,(n,i)=>{e(new y1(n,t,i))})}function l2(t,e,n,i){n&&!i&&e(t),Mm(t,r=>{l2(r,e,!0,i)}),n&&i&&e(t)}function wY(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Dd(t){return new Ve(t.parent===null?t.name:Dd(t.parent)+"/"+t.name)}function Gb(t){t.parent!==null&&_Y(t.parent,t.name,t)}function _Y(t,e,n){const i=bY(n),r=Ei(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Gb(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Gb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=/[\[\].#$\/\u0000-\u001F\u007F]/,kY=/[\[\].#$\u0000-\u001F\u007F]/,kv=10*1024*1024,c2=function(t){return typeof t=="string"&&t.length!==0&&!xY.test(t)},EY=function(t){return typeof t=="string"&&t.length!==0&&!kY.test(t)},IY=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EY(t)},u2=function(t,e,n){const i=n instanceof Ve?new rQ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Oo(i));if(typeof e=="function")throw new Error(t+"contains a function "+Oo(i)+" with contents = "+e.toString());if(lO(e))throw new Error(t+"contains "+e.toString()+" "+Oo(i));if(typeof e=="string"&&e.length>kv/3&&qp(e)>kv)throw new Error(t+"contains a string greater than "+kv+" utf8 bytes "+Oo(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ni(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!c2(s)))throw new Error(t+" contains an invalid key ("+s+") "+Oo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oQ(i,s),u2(t,a,i),sQ(i)}),r&&o)throw new Error(t+' contains ".value" child '+Oo(i)+" in addition to actual children.")}},SY=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!c2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IY(n))throw new Error(D5(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CY(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!DO(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function Bs(t,e,n){CY(t,n),$Y(t,i=>mi(i,e)||mi(e,i))}function $Y(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(AY(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AY(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ns&&Yt("event: "+n.toString()),Ad(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY="repo_interrupt",DY=25;class PY{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dp(),this.transactionQueueTree_=new y1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NY(t,e,n){if(t.stats_=o1(t.repoInfo_),t.forceRestClient_||$7())t.server_=new up(t.repoInfo_,(i,r,o,s)=>{AS(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ft(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new dr(t.repoInfo_,e,(i,r,o,s)=>{AS(t,i,r,o,s)},i=>{RS(t,i)},i=>{LY(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=N7(t.repoInfo_,()=>new PQ(t.stats_,t.server_)),t.infoData_=new CQ,t.infoSyncTree_=new CS({startListening:(i,r,o,s)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Om(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),w1(t,"connected",!1),t.serverSyncTree_=new CS({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);Bs(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function OY(t){const n=t.infoData_.getNode(new Ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function d2(t){return pY({timestamp:OY(t)})}function AS(t,e,n,i,r){t.dataUpdateCount++;const o=new Ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){const l=Pf(n,c=>Xt(c));s=fY(t.serverSyncTree_,o,l,r)}else{const l=Xt(n);s=hY(t.serverSyncTree_,o,l,r)}else if(i){const l=Pf(n,c=>Xt(c));s=dY(t.serverSyncTree_,o,l)}else{const l=Xt(n);s=Om(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=x1(t,o)),Bs(t.eventQueue_,a,s)}function RS(t,e){w1(t,"connected",e),e===!1&&FY(t)}function LY(t,e){ni(e,(n,i)=>{w1(t,n,i)})}function w1(t,e,n){const i=new Ve("/.info/"+e),r=Xt(n);t.infoData_.updateSnapshot(i,r);const o=Om(t.infoSyncTree_,i,r);Bs(t.eventQueue_,i,o)}function MY(t){return t.nextWriteId_++}function FY(t){h2(t,"onDisconnectEvents");const e=d2(t),n=dp();Ub(t.onDisconnect_,Te(),(r,o)=>{const s=vY(r,o,t.serverSyncTree_,e);BO(n,r,s)});let i=[];Ub(n,Te(),(r,o)=>{i=i.concat(Om(t.serverSyncTree_,r,o));const s=VY(t,r);x1(t,s)}),t.onDisconnect_=dp(),Bs(t.eventQueue_,Te(),i)}function BY(t){t.persistentConnection_&&t.persistentConnection_.interrupt(RY)}function h2(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yt(n,...e)}function f2(t,e,n){return e2(t.serverSyncTree_,e,n)||_e.EMPTY_NODE}function _1(t,e=t.transactionQueueTree_){if(e||Fm(t,e),Ol(e)){const n=m2(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&UY(t,Dd(e),n)}else a2(e)&&Mm(e,n=>{_1(t,n)})}function UY(t,e,n){const i=n.map(c=>c.currentWriteId),r=f2(t,e,i);let o=r;const s=r.hash();for(let c=0;c<n.length;c++){const u=n[c];B(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Yn(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{h2(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(wa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Fm(t,b1(t.transactionQueueTree_,e)),_1(t,t.transactionQueueTree_),Bs(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Ad(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Rn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}x1(t,e)}},s)}function x1(t,e){const n=p2(t,e),i=Dd(n),r=m2(t,n);return zY(t,r,i),i}function zY(t,e,n){if(e.length===0)return;const i=[];let r=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Yn(n,l.path);let u=!1,d;if(B(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(wa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=DY)u=!0,d="maxretry",r=r.concat(wa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=f2(t,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){u2("transaction failed: Data returned ",f,l.path);let p=Xt(f);typeof f=="object"&&f!=null&&Ei(f,".priority")||(p=p.updatePriority(h.getPriority()));const b=l.currentWriteId,v=d2(t),g=yY(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=MY(t),s.splice(s.indexOf(b),1),r=r.concat(uY(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),r=r.concat(wa(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",r=r.concat(wa(t.serverSyncTree_,l.currentWriteId,!0))}Bs(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fm(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Ad(i[a]);_1(t,t.transactionQueueTree_)}function p2(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&Ol(i)===void 0;)i=b1(i,n),e=Le(e),n=de(e);return i}function m2(t,e){const n=[];return g2(t,e,n),n.sort((i,r)=>i.order-r.order),n}function g2(t,e,n){const i=Ol(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Mm(e,r=>{g2(t,r,n)})}function Fm(t,e){const n=Ol(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,s2(e,n.length>0?n:void 0)}Mm(e,i=>{Fm(t,i)})}function VY(t,e){const n=Dd(p2(t,e)),i=b1(t.transactionQueueTree_,e);return wY(i,r=>{Ev(t,r)}),Ev(t,i),l2(i,r=>{Ev(t,r)}),n}function Ev(t,e){const n=Ol(e);if(n){const i=[];let r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(B(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(B(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(wa(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?s2(e,void 0):n.length=o+1,Bs(t.eventQueue_,Dd(e),r);for(let s=0;s<i.length;s++)Ad(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jY(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}function HY(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Rn(`Invalid query segment '${n}' in query '${t}'`)}return e}const DS=function(t,e){const n=qY(t),i=n.namespace;n.domain==="firebase.com"&&_r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&_r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_7();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wO(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ve(n.pathString)}},qY=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=jY(t.substring(u,d)));const h=HY(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return le(this._path)?null:$O(this._path)}get ref(){return new Ll(this._repo,this._path)}get _queryIdentifier(){const e=vS(this._queryParams),n=i1(e);return n==="{}"?"default":n}get _queryObject(){return vS(this._queryParams)}isEqual(e){if(e=ce(e),!(e instanceof k1))return!1;const n=this._repo===e._repo,i=DO(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+iQ(this._path)}}class Ll extends k1{constructor(e,n){super(e,n,new c1,!1)}get parent(){const e=RO(this._path);return e===null?null:new Ll(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}lY(Ll);cY(Ll);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY="FIREBASE_DATABASE_EMULATOR_HOST",Kb={};let GY=!1;function KY(t,e,n,i){t.repoInfo_=new wO(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function QY(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||_r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=DS(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[WY]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=DS(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new La(La.OWNER):new R7(t.name,t.options,e);SY("Invalid Firebase Database URL",s),le(s.path)||_r("Database URL must point to the root of a Firebase Database (not including a child path).");const d=XY(a,t,u,new A7(t.name,n));return new JY(d,t)}function YY(t,e){const n=Kb[e];(!n||n[t.key]!==t)&&_r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),BY(t),delete n[t.key]}function XY(t,e,n,i){let r=Kb[e.name];r||(r={},Kb[e.name]=r);let o=r[t.toURLString()];return o&&_r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new PY(t,GY,n,i),r[t.toURLString()]=o,o}class JY{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NY(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ll(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YY(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_r("Cannot call "+e+" on a deleted database.")}}function ZY(t=wl(),e){const n=xo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Hp("database");i&&eX(n,...i)}return n}function eX(t,e,n,i={}){t=ce(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&_r("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&_r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new La(La.OWNER);else if(i.mockUserToken){const s=typeof i.mockUserToken=="string"?i.mockUserToken:xw(i.mockUserToken,t.app.options.projectId);o=new La(s)}KY(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){g7(Yi),Ii(new ti("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return QY(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),zt(ZI,eS,t),zt(ZI,eS,"esm2017")}dr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebasestorage.googleapis.com",nX="storageBucket",iX=2*60*1e3,rX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ri{constructor(e,n,i=0){super(Iv(e),`Firebase Storage: ${n} (${Iv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Iv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ki;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ki||(Ki={}));function Iv(t){return"storage/"+t}function oX(){const t="An unknown error occurred, please check the error payload for server response.";return new Xi(Ki.UNKNOWN,t)}function sX(){return new Xi(Ki.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aX(){return new Xi(Ki.CANCELED,"User canceled the upload/download.")}function lX(t){return new Xi(Ki.INVALID_URL,"Invalid URL '"+t+"'.")}function cX(t){return new Xi(Ki.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PS(t){return new Xi(Ki.INVALID_ARGUMENT,t)}function y2(){return new Xi(Ki.APP_DELETED,"The Firebase app was deleted.")}function uX(t){return new Xi(Ki.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=gi.makeFromUrl(e,n)}catch(r){return new gi(e,"")}if(i.path==="")return i;throw cX(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${r}/o${h}`,"i"),p={bucket:1,path:3},m=n===v2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${m}/${r}/${b}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:f,indices:p,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<y.length;w++){const C=y[w],S=C.regex.exec(e);if(S){const E=S[C.indices.bucket];let T=S[C.indices.path];T||(T=""),i=new gi(E,T),C.postModify(i);break}}if(i==null)throw lX(e);return i}}class dX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t,e,n){let i=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){r=setTimeout(()=>{r=null,t(f,l())},b)}function h(){o&&clearTimeout(o)}function f(b,...v){if(c){h();return}if(b){h(),u.call(null,b,...v);return}if(l()||s){h(),u.call(null,b,...v);return}i<64&&(i*=2);let y;a===1?(a=2,y=0):y=(i+Math.random())*1e3,d(y)}let p=!1;function m(b){p||(p=!0,h(),!c&&(r!==null?(b||(a=2),clearTimeout(r),d(0)):b||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function fX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t){return t!==void 0}function NS(t,e,n,i){if(i<e)throw PS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw PS(`Invalid value for '${t}'. Expected ${n} or less.`)}function mX(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mp||(mp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e,n,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new _h(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===mp.NO_ERROR,l=o.getStatus();if(!a||gX(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===mp.ABORT;i(!1,new _h(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new _h(c,o))})},n=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());pX(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=oX();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){const l=this.appDelete_?y2():aX();s(l)}else{const l=sX();s(l)}};this.canceled_?n(!1,new _h(!1,null,!0)):this.backoffId_=hX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function yX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function wX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _X(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xX(t,e,n,i,r,o,s=!0){const a=mX(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return wX(c,e),yX(c,n),bX(c,o),_X(c,i),new vX(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EX(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this._service=e,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gp(e,n)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EX(this._location.path)}get storage(){return this._service}get parent(){const e=kX(this._location.path);if(e===null)return null;const n=new gi(this._location.bucket,e);return new gp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uX(e)}}function OS(t,e){const n=e==null?void 0:e[nX];return n==null?null:gi.makeFromBucketSpec(n,t)}function IX(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:xw(r,t.app.options.projectId))}class SX{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=v2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iX,this._maxUploadRetryTime=rX,this._requests=new Set,r!=null?this._bucket=gi.makeFromBucketSpec(r,this._host):this._bucket=OS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=OS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new dX(y2());{const s=xX(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const LS="@firebase/storage",MS="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="storage";function TX(t=wl(),e){t=ce(t);const i=xo(t,b2).getImmediate({identifier:e}),r=Hp("storage");return r&&CX(i,...r),i}function CX(t,e,n,i={}){IX(t,e,n,i)}function $X(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new SX(n,i,r,e,Yi)}function AX(){Ii(new ti(b2,$X,"PUBLIC").setMultipleInstances(!0)),zt(LS,MS,""),zt(LS,MS,"esm2017")}AX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX="type.googleapis.com/google.protobuf.Int64Value",DX="type.googleapis.com/google.protobuf.UInt64Value";function w2(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Qb(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Qb(e));if(typeof t=="function"||typeof t=="object")return w2(t,e=>Qb(e));throw new Error("Data cannot be encoded in JSON: "+t)}function vp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case RX:case DX:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>vp(e)):typeof t=="function"||typeof t=="object"?w2(t,e=>vp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fa extends ri{constructor(e,n,i){super(`${E1}/${e}`,n||""),this.details=i}}function PX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function NX(t,e){let n=PX(t),i=n,r;try{const o=e&&e.error;if(o){const s=o.status;if(typeof s=="string"){if(!FS[s])return new Fa("internal","internal");n=FS[s],i=s}const a=o.message;typeof a=="string"&&(i=a),r=o.details,r!==void 0&&(r=vp(r))}}catch(o){}return n==="ok"?null:new Fa(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="us-central1";function LX(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Fa("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class MX{constructor(e,n,i,r,o=Yb,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new OX(n,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=Yb}catch(a){this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function FX(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function BX(t,e,n){return i=>zX(t,e,i,n||{})}async function UX(t,e,n,i){n["Content-Type"]="application/json";let r;try{r=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch(s){return{status:0,json:null}}let o=null;try{o=await r.json()}catch(s){}return{status:r.status,json:o}}function zX(t,e,n,i){const r=t._url(e);return VX(t,r,n,i)}async function VX(t,e,n,i){n=Qb(n);const r={data:n},o={},s=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);s.authToken&&(o.Authorization="Bearer "+s.authToken),s.messagingToken&&(o["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=s.appCheckToken);const a=i.timeout||7e4,l=LX(a),c=await Promise.race([UX(e,r,o,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new Fa("cancelled","Firebase Functions instance was deleted.");const u=NX(c.status,c.json);if(u)throw u;if(!c.json)throw new Fa("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new Fa("internal","Response is missing data field.");return{data:vp(d)}}const BS="@firebase/functions",US="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="auth-internal",HX="app-check-internal",qX="messaging-internal";function WX(t,e){const n=(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider(jX),a=i.getProvider(qX),l=i.getProvider(HX);return new MX(o,s,a,l,r,t)};Ii(new ti(E1,n,"PUBLIC").setMultipleInstances(!0)),zt(BS,US,e),zt(BS,US,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t=wl(),e=Yb){const i=xo(ce(t),E1).getImmediate({identifier:e}),r=Hp("functions");return r&&KX(i,...r),i}function KX(t,e,n){FX(ce(t),e,n)}function $i(t,e,n){return BX(ce(t),e,n)}WX(fetch.bind(self));var QX="firebase",YX="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt(QX,YX,"app");var _2={exports:{}};(function(t){var e=function(){var n="https://api.spotify.com/v1",i=null,r=null,o=function(h,f){return h.abort=f,h},s=function(h,f){var p;if(r!==null){var m=r.defer();h(function(b){m.resolve(b)},function(b){m.reject(b)}),p=m.promise}else window.Promise&&(p=new window.Promise(h));return p?new o(p,f):null},a=function(){var h=Array.prototype.slice.call(arguments),f=h[0],p=h.slice(1);return f=f||{},p.forEach(function(m){for(var b in m)m.hasOwnProperty(b)&&(f[b]=m[b])}),f},l=function(h,f){var p="";for(var m in f)if(f.hasOwnProperty(m)){var b=f[m];p+=encodeURIComponent(m)+"="+encodeURIComponent(b)+"&"}return p.length>0&&(p=p.substring(0,p.length-1),h=h+"?"+p),h},c=function(h,f){var p=new XMLHttpRequest,m=function(b,v){function g(S){b&&b(S),f&&f(null,S)}function y(){v&&v(p),f&&f(p,null)}var w=h.type||"GET";if(p.open(w,l(h.url,h.params)),i&&p.setRequestHeader("Authorization","Bearer "+i),p.onreadystatechange=function(){if(p.readyState===4){var S=null;try{S=p.responseText?JSON.parse(p.responseText):""}catch(E){console.error(E)}p.status>=200&&p.status<300?g(S):y()}},w==="GET")p.send(null);else{var C=null;h.postData&&(h.contentType==="image/jpeg"?(C=h.postData,p.setRequestHeader("Content-Type",h.contentType)):(C=JSON.stringify(h.postData),p.setRequestHeader("Content-Type","application/json"))),p.send(C)}};return f?(m(),null):s(m,function(){p.abort()})},u=function(h,f,p,m){var b={},v=null;typeof f=="object"?(b=f,v=p):typeof f=="function"&&(v=f);var g=h.type||"GET";return g!=="GET"&&h.postData&&!m?h.postData=a(h.postData,b):h.params=a(h.params,b),c(h,v)},d=function(){};return d.prototype={constructor:e},d.prototype.getGeneric=function(h,f){var p={url:h};return u(p,f)},d.prototype.getMe=function(h,f){var p={url:n+"/me"};return u(p,h,f)},d.prototype.getMySavedTracks=function(h,f){var p={url:n+"/me/tracks"};return u(p,h,f)},d.prototype.addToMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedTracks=function(h,f,p){var m={url:n+"/me/tracks/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMySavedAlbums=function(h,f){var p={url:n+"/me/albums"};return u(p,h,f)},d.prototype.addToMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedAlbums=function(h,f,p){var m={url:n+"/me/albums/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMyTopArtists=function(h,f){var p={url:n+"/me/top/artists"};return u(p,h,f)},d.prototype.getMyTopTracks=function(h,f){var p={url:n+"/me/top/tracks"};return u(p,h,f)},d.prototype.getMyRecentlyPlayedTracks=function(h,f){var p={url:n+"/me/player/recently-played"};return u(p,h,f)},d.prototype.followUsers=function(h,f){var p={url:n+"/me/following/",type:"PUT",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.followArtists=function(h,f){var p={url:n+"/me/following/",type:"PUT",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.followPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/followers",type:"PUT",postData:{}};return u(m,f,p)},d.prototype.unfollowUsers=function(h,f){var p={url:n+"/me/following/",type:"DELETE",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.unfollowArtists=function(h,f){var p={url:n+"/me/following/",type:"DELETE",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.unfollowPlaylist=function(h,f){var p={url:n+"/playlists/"+h+"/followers",type:"DELETE"};return u(p,f)},d.prototype.isFollowingUsers=function(h,f){var p={url:n+"/me/following/contains",type:"GET",params:{ids:h.join(","),type:"user"}};return u(p,f)},d.prototype.isFollowingArtists=function(h,f){var p={url:n+"/me/following/contains",type:"GET",params:{ids:h.join(","),type:"artist"}};return u(p,f)},d.prototype.areFollowingPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/followers/contains",type:"GET",params:{ids:f.join(",")}};return u(m,p)},d.prototype.getFollowedArtists=function(h,f){var p={url:n+"/me/following",type:"GET",params:{type:"artist"}};return u(p,h,f)},d.prototype.getUser=function(h,f,p){var m={url:n+"/users/"+encodeURIComponent(h)};return u(m,f,p)},d.prototype.getUserPlaylists=function(h,f,p){var m;return typeof h=="string"?m={url:n+"/users/"+encodeURIComponent(h)+"/playlists"}:(m={url:n+"/me/playlists"},p=f,f=h),u(m,f,p)},d.prototype.getPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h};return u(m,f,p)},d.prototype.getPlaylistTracks=function(h,f,p){var m={url:n+"/playlists/"+h+"/tracks"};return u(m,f,p)},d.prototype.getPlaylistCoverImage=function(h,f){var p={url:n+"/playlists/"+h+"/images"};return u(p,f)},d.prototype.createPlaylist=function(h,f,p){var m={url:n+"/users/"+encodeURIComponent(h)+"/playlists",type:"POST",postData:f};return u(m,f,p)},d.prototype.changePlaylistDetails=function(h,f,p){var m={url:n+"/playlists/"+h,type:"PUT",postData:f};return u(m,f,p)},d.prototype.addTracksToPlaylist=function(h,f,p,m){var b={url:n+"/playlists/"+h+"/tracks",type:"POST",postData:{uris:f}};return u(b,p,m,!0)},d.prototype.replaceTracksInPlaylist=function(h,f,p){var m={url:n+"/playlists/"+h+"/tracks",type:"PUT",postData:{uris:f}};return u(m,{},p)},d.prototype.reorderTracksInPlaylist=function(h,f,p,m,b){var v={url:n+"/playlists/"+h+"/tracks",type:"PUT",postData:{range_start:f,insert_before:p}};return u(v,m,b)},d.prototype.removeTracksFromPlaylist=function(h,f,p){var m=f.map(function(v){return typeof v=="string"?{uri:v}:v}),b={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{tracks:m}};return u(b,{},p)},d.prototype.removeTracksFromPlaylistWithSnapshotId=function(h,f,p,m){var b=f.map(function(g){return typeof g=="string"?{uri:g}:g}),v={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{tracks:b,snapshot_id:p}};return u(v,{},m)},d.prototype.removeTracksFromPlaylistInPositions=function(h,f,p,m){var b={url:n+"/playlists/"+h+"/tracks",type:"DELETE",postData:{positions:f,snapshot_id:p}};return u(b,{},m)},d.prototype.uploadCustomPlaylistCoverImage=function(h,f,p){var m={url:n+"/playlists/"+h+"/images",type:"PUT",postData:f.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(m,{},p)},d.prototype.getAlbum=function(h,f,p){var m={url:n+"/albums/"+h};return u(m,f,p)},d.prototype.getAlbumTracks=function(h,f,p){var m={url:n+"/albums/"+h+"/tracks"};return u(m,f,p)},d.prototype.getAlbums=function(h,f,p){var m={url:n+"/albums/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getTrack=function(h,f,p){var m={};return m.url=n+"/tracks/"+h,u(m,f,p)},d.prototype.getTracks=function(h,f,p){var m={url:n+"/tracks/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getArtist=function(h,f,p){var m={url:n+"/artists/"+h};return u(m,f,p)},d.prototype.getArtists=function(h,f,p){var m={url:n+"/artists/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getArtistAlbums=function(h,f,p){var m={url:n+"/artists/"+h+"/albums"};return u(m,f,p)},d.prototype.getArtistTopTracks=function(h,f,p,m){var b={url:n+"/artists/"+h+"/top-tracks",params:{country:f}};return u(b,p,m)},d.prototype.getArtistRelatedArtists=function(h,f,p){var m={url:n+"/artists/"+h+"/related-artists"};return u(m,f,p)},d.prototype.getFeaturedPlaylists=function(h,f){var p={url:n+"/browse/featured-playlists"};return u(p,h,f)},d.prototype.getNewReleases=function(h,f){var p={url:n+"/browse/new-releases"};return u(p,h,f)},d.prototype.getCategories=function(h,f){var p={url:n+"/browse/categories"};return u(p,h,f)},d.prototype.getCategory=function(h,f,p){var m={url:n+"/browse/categories/"+h};return u(m,f,p)},d.prototype.getCategoryPlaylists=function(h,f,p){var m={url:n+"/browse/categories/"+h+"/playlists"};return u(m,f,p)},d.prototype.search=function(h,f,p,m){var b={url:n+"/search/",params:{q:h,type:f.join(",")}};return u(b,p,m)},d.prototype.searchAlbums=function(h,f,p){return this.search(h,["album"],f,p)},d.prototype.searchArtists=function(h,f,p){return this.search(h,["artist"],f,p)},d.prototype.searchTracks=function(h,f,p){return this.search(h,["track"],f,p)},d.prototype.searchPlaylists=function(h,f,p){return this.search(h,["playlist"],f,p)},d.prototype.searchShows=function(h,f,p){return this.search(h,["show"],f,p)},d.prototype.searchEpisodes=function(h,f,p){return this.search(h,["episode"],f,p)},d.prototype.getAudioFeaturesForTrack=function(h,f){var p={};return p.url=n+"/audio-features/"+h,u(p,{},f)},d.prototype.getAudioFeaturesForTracks=function(h,f){var p={url:n+"/audio-features",params:{ids:h}};return u(p,{},f)},d.prototype.getAudioAnalysisForTrack=function(h,f){var p={};return p.url=n+"/audio-analysis/"+h,u(p,{},f)},d.prototype.getRecommendations=function(h,f){var p={url:n+"/recommendations"};return u(p,h,f)},d.prototype.getAvailableGenreSeeds=function(h){var f={url:n+"/recommendations/available-genre-seeds"};return u(f,{},h)},d.prototype.getMyDevices=function(h){var f={url:n+"/me/player/devices"};return u(f,{},h)},d.prototype.getMyCurrentPlaybackState=function(h,f){var p={url:n+"/me/player"};return u(p,h,f)},d.prototype.getMyCurrentPlayingTrack=function(h,f){var p={url:n+"/me/player/currently-playing"};return u(p,h,f)},d.prototype.transferMyPlayback=function(h,f,p){var m=f||{};m.device_ids=h;var b={type:"PUT",url:n+"/me/player",postData:m};return u(b,f,p)},d.prototype.play=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={};["context_uri","uris","offset","position_ms"].forEach(function(g){g in h&&(m[g]=h[g])});var b={type:"PUT",url:n+"/me/player/play",params:p,postData:m},v=typeof h=="function"?h:{};return u(b,v,f)},d.prototype.queue=function(h,f,p){f=f||{};var m="device_id"in f?{uri:h,device_id:f.device_id}:{uri:h},b={type:"POST",url:n+"/me/player/queue",params:m};return u(b,f,p)},d.prototype.pause=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"PUT",url:n+"/me/player/pause",params:p};return u(m,h,f)},d.prototype.skipToNext=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"POST",url:n+"/me/player/next",params:p};return u(m,h,f)},d.prototype.skipToPrevious=function(h,f){h=h||{};var p="device_id"in h?{device_id:h.device_id}:null,m={type:"POST",url:n+"/me/player/previous",params:p};return u(m,h,f)},d.prototype.seek=function(h,f,p){f=f||{};var m={position_ms:h};"device_id"in f&&(m.device_id=f.device_id);var b={type:"PUT",url:n+"/me/player/seek",params:m};return u(b,f,p)},d.prototype.setRepeat=function(h,f,p){f=f||{};var m={state:h};"device_id"in f&&(m.device_id=f.device_id);var b={type:"PUT",url:n+"/me/player/repeat",params:m};return u(b,f,p)},d.prototype.setVolume=function(h,f,p){f=f||{};var m={volume_percent:h};"device_id"in f&&(m.device_id=f.device_id);var b={type:"PUT",url:n+"/me/player/volume",params:m};return u(b,f,p)},d.prototype.setShuffle=function(h,f,p){f=f||{};var m={state:h};"device_id"in f&&(m.device_id=f.device_id);var b={type:"PUT",url:n+"/me/player/shuffle",params:m};return u(b,f,p)},d.prototype.getShow=function(h,f,p){var m={};return m.url=n+"/shows/"+h,u(m,f,p)},d.prototype.getShows=function(h,f,p){var m={url:n+"/shows/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getMySavedShows=function(h,f){var p={url:n+"/me/shows"};return u(p,h,f)},d.prototype.addToMySavedShows=function(h,f,p){var m={url:n+"/me/shows",type:"PUT",postData:h};return u(m,f,p)},d.prototype.removeFromMySavedShows=function(h,f,p){var m={url:n+"/me/shows",type:"DELETE",postData:h};return u(m,f,p)},d.prototype.containsMySavedShows=function(h,f,p){var m={url:n+"/me/shows/contains",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getShowEpisodes=function(h,f,p){var m={url:n+"/shows/"+h+"/episodes"};return u(m,f,p)},d.prototype.getEpisode=function(h,f,p){var m={};return m.url=n+"/episodes/"+h,u(m,f,p)},d.prototype.getEpisodes=function(h,f,p){var m={url:n+"/episodes/",params:{ids:h.join(",")}};return u(m,f,p)},d.prototype.getAccessToken=function(){return i},d.prototype.setAccessToken=function(h){i=h},d.prototype.setPromiseImplementation=function(h){var f=!1;try{var p=new h(function(m){m()});typeof p.then=="function"&&typeof p.catch=="function"&&(f=!0)}catch(m){console.error(m)}if(f)r=h;else throw new Error("Unsupported implementation of Promises/A+")},d}();t.exports=e})(_2);var XX=_2.exports;const JX=fl(XX);new JX;const ZX={apiKey:"AIzaSyAHV2ukGyxwx_8wADQSd4QXV1rRiU93L44",databaseURL:"https://quantum-61b84-default-rtdb.firebaseio.com",authDomain:"quantum-61b84.firebaseapp.com",projectId:"quantum-61b84",storageBucket:"quantum-61b84.appspot.com",messagingSenderId:"461090594003",appId:"1:461090594003:web:5cb1cac4a16e9031140826",measurementId:"G-JRZ1RJ4P89"},I1=Wp(ZX),x2=uu.isNativePlatform()?VN(I1,{persistence:nO}):m7(),Ai=GX(I1),zS=dW(I1);TX();ZY();$i(Ai,"deletePoll");$i(Ai,"deleteImage");$i(Ai,"deleteLikesDocFromRtdb");$i(Ai,"deleteCommentsFromDeletedPost");$i(Ai,"sendEmailOnReport");$i(Ai,"sendCommentsNotification");$i(Ai,"sendDmNotification");$i(Ai,"getHumboldtUpdates");$i(Ai,"getUcDavisUpdates");$i(Ai,"getUcBerkeleyUpdates");$i(Ai,"askAI");const eJ=async(t,e)=>{try{const n=await tK(x2,t,e);if(!n||!n.user)return console.error("Could not sign in!"),"Something went wrong with this username/password combination";const i=n.user;if(!t||!e)return console.error("Email or password missing"),"Email or password missing";const r=Ms.credential(t,e);try{await ZG(i,r);const o=tG(zS),s=Du(zS,"userData",i.uid);return o.delete(s),await rK(i).catch(a=>(console.log(a),"Unable to delete from database, try again...")),await o.commit().catch(a=>{console.log(a)}),!0}catch(o){return console.error(o),"Password is incorrect"}}catch(n){return console.log(n),"Something went wrong"}},tJ=async t=>{try{return await eK(x2,t),!0}catch(e){console.error(e)}},Xb=nd("Dialog",{web:()=>qn(()=>import("./web-f95ab4ef.js"),[]).then(t=>new t.DialogWeb)}),nJ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M250.26 166.05L256 288l5.73-121.95a5.74 5.74 0 00-5.79-6h0a5.74 5.74 0 00-5.68 6z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 367.91a20 20 0 1120-20 20 20 0 01-20 20z'/></svg>",iJ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.49 380c1.19-4.38-1.44-10.47-3.95-14.86a44.86 44.86 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.65 139.09 140.73 48 255.83 48 356.21 48 440 117.54 459.58 209.85a199 199 0 014.42 41.64c0 112.41-89.49 204.93-204.59 204.93-18.3 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.09 31.09 0 00-11.12-2.07 30.71 30.71 0 00-12.09 2.43l-67.83 24.48a16 16 0 01-4.67 1.22 9.6 9.6 0 01-9.57-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",rJ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",oJ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='128' cy='256' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='112' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='384' cy='400' r='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M169.83 279.53l172.34 96.94M342.17 135.53l-172.34 96.94' class='ionicon-fill-none ionicon-stroke-width'/></svg>";function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Jb(t,e)}function yo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jb(t,e)}var k2={exports:{}},sJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aJ=sJ,lJ=aJ;function E2(){}function I2(){}I2.resetWarningCache=E2;var cJ=function(){function t(i,r,o,s,a,l){if(l!==lJ){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I2,resetWarningCache:E2};return n.PropTypes=n,n};k2.exports=cJ();var uJ=k2.exports;const VS=fl(uJ);function ii(){return ii=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ii.apply(this,arguments)}function xh(t){return t.charAt(0)==="/"}function Sv(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}function dJ(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],i=e&&e.split("/")||[],r=t&&xh(t),o=e&&xh(e),s=r||o;if(t&&xh(t)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?Sv(i,u):d===".."?(Sv(i,u),c++):c&&(Sv(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");s&&i[0]!==""&&(!i[0]||!xh(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}var hJ=!0,Tv="Invariant failed";function Ml(t,e){if(!t){if(hJ)throw new Error(Tv);var n=typeof e=="function"?e():e,i=n?"".concat(Tv,": ").concat(n):Tv;throw new Error(i)}}function jc(t){return t.charAt(0)==="/"?t:"/"+t}function jS(t){return t.charAt(0)==="/"?t.substr(1):t}function fJ(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function S2(t,e){return fJ(t,e)?t.substr(e.length):t}function T2(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function pJ(t){var e=t||"/",n="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:i==="#"?"":i}}function zn(t){var e=t.pathname,n=t.search,i=t.hash,r=e||"/";return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Xn(t,e,n,i){var r;typeof t=="string"?(r=pJ(t),r.state=e):(r=ii({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(r.key=n),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=dJ(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function S1(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function n(s,a,l,c){if(t!=null){var u=typeof t=="function"?t(s,a):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:o}}var C2=!!(typeof window<"u"&&window.document&&window.document.createElement);function $2(t,e){e(window.confirm(t))}function mJ(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function gJ(){return window.navigator.userAgent.indexOf("Trident")===-1}function vJ(){return window.navigator.userAgent.indexOf("Firefox")===-1}function yJ(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var HS="popstate",qS="hashchange";function WS(){try{return window.history.state||{}}catch(t){return{}}}function A2(t){t===void 0&&(t={}),C2||Ml(!1);var e=window.history,n=mJ(),i=!gJ(),r=t,o=r.forceRefresh,s=o===void 0?!1:o,a=r.getUserConfirmation,l=a===void 0?$2:a,c=r.keyLength,u=c===void 0?6:c,d=t.basename?T2(jc(t.basename)):"";function h(N){var A=N||{},V=A.key,j=A.state,Z=window.location,se=Z.pathname,ie=Z.search,Ae=Z.hash,Pe=se+ie+Ae;return d&&(Pe=S2(Pe,d)),Xn(Pe,j,V)}function f(){return Math.random().toString(36).substr(2,u)}var p=S1();function m(N){ii(O,N),O.length=e.length,p.notifyListeners(O.location,O.action)}function b(N){yJ(N)||y(h(N.state))}function v(){y(h(WS()))}var g=!1;function y(N){if(g)g=!1,m();else{var A="POP";p.confirmTransitionTo(N,A,l,function(V){V?m({action:A,location:N}):w(N)})}}function w(N){var A=O.location,V=S.indexOf(A.key);V===-1&&(V=0);var j=S.indexOf(N.key);j===-1&&(j=0);var Z=V-j;Z&&(g=!0,q(Z))}var C=h(WS()),S=[C.key];function E(N){return d+zn(N)}function T(N,A){var V="PUSH",j=Xn(N,A,f(),O.location);p.confirmTransitionTo(j,V,l,function(Z){if(Z){var se=E(j),ie=j.key,Ae=j.state;if(n)if(e.pushState({key:ie,state:Ae},null,se),s)window.location.href=se;else{var Pe=S.indexOf(O.location.key),Ji=S.slice(0,Pe+1);Ji.push(j.key),S=Ji,m({action:V,location:j})}else window.location.href=se}})}function X(N,A){var V="REPLACE",j=Xn(N,A,f(),O.location);p.confirmTransitionTo(j,V,l,function(Z){if(Z){var se=E(j),ie=j.key,Ae=j.state;if(n)if(e.replaceState({key:ie,state:Ae},null,se),s)window.location.replace(se);else{var Pe=S.indexOf(O.location.key);Pe!==-1&&(S[Pe]=j.key),m({action:V,location:j})}else window.location.replace(se)}})}function q(N){e.go(N)}function M(){q(-1)}function be(){q(1)}var bt=0;function Ze(N){bt+=N,bt===1&&N===1?(window.addEventListener(HS,b),i&&window.addEventListener(qS,v)):bt===0&&(window.removeEventListener(HS,b),i&&window.removeEventListener(qS,v))}var $e=!1;function ge(N){N===void 0&&(N=!1);var A=p.setPrompt(N);return $e||(Ze(1),$e=!0),function(){return $e&&($e=!1,Ze(-1)),A()}}function je(N){var A=p.appendListener(N);return Ze(1),function(){Ze(-1),A()}}var O={length:e.length,action:"POP",location:C,createHref:E,push:T,replace:X,go:q,goBack:M,goForward:be,block:ge,listen:je};return O}var GS="hashchange",bJ={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+jS(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:jS,decodePath:jc},slash:{encodePath:jc,decodePath:jc}};function R2(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function cc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function wJ(t){window.location.hash=t}function Cv(t){window.location.replace(R2(window.location.href)+"#"+t)}function _J(t){t===void 0&&(t={}),C2||Ml(!1);var e=window.history;vJ();var n=t,i=n.getUserConfirmation,r=i===void 0?$2:i,o=n.hashType,s=o===void 0?"slash":o,a=t.basename?T2(jc(t.basename)):"",l=bJ[s],c=l.encodePath,u=l.decodePath;function d(){var A=u(cc());return a&&(A=S2(A,a)),Xn(A)}var h=S1();function f(A){ii(N,A),N.length=e.length,h.notifyListeners(N.location,N.action)}var p=!1,m=null;function b(A,V){return A.pathname===V.pathname&&A.search===V.search&&A.hash===V.hash}function v(){var A=cc(),V=c(A);if(A!==V)Cv(V);else{var j=d(),Z=N.location;if(!p&&b(Z,j)||m===zn(j))return;m=null,g(j)}}function g(A){if(p)p=!1,f();else{var V="POP";h.confirmTransitionTo(A,V,r,function(j){j?f({action:V,location:A}):y(A)})}}function y(A){var V=N.location,j=E.lastIndexOf(zn(V));j===-1&&(j=0);var Z=E.lastIndexOf(zn(A));Z===-1&&(Z=0);var se=j-Z;se&&(p=!0,M(se))}var w=cc(),C=c(w);w!==C&&Cv(C);var S=d(),E=[zn(S)];function T(A){var V=document.querySelector("base"),j="";return V&&V.getAttribute("href")&&(j=R2(window.location.href)),j+"#"+c(a+zn(A))}function X(A,V){var j="PUSH",Z=Xn(A,void 0,void 0,N.location);h.confirmTransitionTo(Z,j,r,function(se){if(se){var ie=zn(Z),Ae=c(a+ie),Pe=cc()!==Ae;if(Pe){m=ie,wJ(Ae);var Ji=E.lastIndexOf(zn(N.location)),Nd=E.slice(0,Ji+1);Nd.push(ie),E=Nd,f({action:j,location:Z})}else f()}})}function q(A,V){var j="REPLACE",Z=Xn(A,void 0,void 0,N.location);h.confirmTransitionTo(Z,j,r,function(se){if(se){var ie=zn(Z),Ae=c(a+ie),Pe=cc()!==Ae;Pe&&(m=ie,Cv(Ae));var Ji=E.indexOf(zn(N.location));Ji!==-1&&(E[Ji]=ie),f({action:j,location:Z})}})}function M(A){e.go(A)}function be(){M(-1)}function bt(){M(1)}var Ze=0;function $e(A){Ze+=A,Ze===1&&A===1?window.addEventListener(GS,v):Ze===0&&window.removeEventListener(GS,v)}var ge=!1;function je(A){A===void 0&&(A=!1);var V=h.setPrompt(A);return ge||($e(1),ge=!0),function(){return ge&&(ge=!1,$e(-1)),V()}}function O(A){var V=h.appendListener(A);return $e(1),function(){$e(-1),V()}}var N={length:e.length,action:"POP",location:S,createHref:T,push:X,replace:q,go:M,goBack:be,goForward:bt,block:je,listen:O};return N}function KS(t,e,n){return Math.min(Math.max(t,e),n)}function xJ(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,c=S1();function u(T){ii(E,T),E.length=E.entries.length,c.notifyListeners(E.location,E.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=KS(s,0,r.length-1),f=r.map(function(T){return typeof T=="string"?Xn(T,void 0,d()):Xn(T,void 0,T.key||d())}),p=zn;function m(T,X){var q="PUSH",M=Xn(T,X,d(),E.location);c.confirmTransitionTo(M,q,n,function(be){if(be){var bt=E.index,Ze=bt+1,$e=E.entries.slice(0);$e.length>Ze?$e.splice(Ze,$e.length-Ze,M):$e.push(M),u({action:q,location:M,index:Ze,entries:$e})}})}function b(T,X){var q="REPLACE",M=Xn(T,X,d(),E.location);c.confirmTransitionTo(M,q,n,function(be){be&&(E.entries[E.index]=M,u({action:q,location:M}))})}function v(T){var X=KS(E.index+T,0,E.entries.length-1),q="POP",M=E.entries[X];c.confirmTransitionTo(M,q,n,function(be){be?u({action:q,location:M,index:X}):u()})}function g(){v(-1)}function y(){v(1)}function w(T){var X=E.index+T;return X>=0&&X<E.entries.length}function C(T){return T===void 0&&(T=!1),c.setPrompt(T)}function S(T){return c.appendListener(T)}var E={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:m,replace:b,go:v,goBack:g,goForward:y,canGo:w,block:C,listen:S};return E}var Fl={exports:{}},kJ=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},yp=kJ;Fl.exports=N2;Fl.exports.parse=T1;Fl.exports.compile=IJ;Fl.exports.tokensToFunction=D2;Fl.exports.tokensToRegExp=P2;var EJ=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function T1(t,e){for(var n=[],i=0,r=0,o="",s=e&&e.delimiter||"/",a;(a=EJ.exec(t))!=null;){var l=a[0],c=a[1],u=a.index;if(o+=t.slice(r,u),r=u+l.length,c){o+=c[1];continue}var d=t[r],h=a[2],f=a[3],p=a[4],m=a[5],b=a[6],v=a[7];o&&(n.push(o),o="");var g=h!=null&&d!=null&&d!==h,y=b==="+"||b==="*",w=b==="?"||b==="*",C=a[2]||s,S=p||m;n.push({name:f||i++,prefix:h||"",delimiter:C,optional:w,repeat:y,partial:g,asterisk:!!v,pattern:S?CJ(S):v?".*":"[^"+Wh(C)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&n.push(o),n}function IJ(t,e){return D2(T1(t,e),e)}function SJ(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function TJ(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function D2(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",$1(e)));return function(r,o){for(var s="",a=r||{},l=o||{},c=l.pretty?SJ:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){s+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(s+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(yp(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(f=c(h[p]),!n[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");s+=(p===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?TJ(h):c(h),!n[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');s+=d.prefix+f}return s}}function Wh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function CJ(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function C1(t,e){return t.keys=e,t}function $1(t){return t&&t.sensitive?"":"i"}function $J(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return C1(t,e)}function AJ(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(N2(t[r],e,n).source);var o=new RegExp("(?:"+i.join("|")+")",$1(n));return C1(o,e)}function RJ(t,e,n){return P2(T1(t,n),e,n)}function P2(t,e,n){yp(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=n.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=Wh(a);else{var l=Wh(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Wh(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),r?o+="$":o+=i&&d?"":"(?="+u+"|$)",C1(new RegExp("^"+o,$1(n)),e)}function N2(t,e,n){return yp(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?$J(t,e):yp(t)?AJ(t,e,n):RJ(t,e,n)}var DJ=Fl.exports;const PJ=fl(DJ);var Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=typeof Symbol=="function"&&Symbol.for,A1=Dt?Symbol.for("react.element"):60103,R1=Dt?Symbol.for("react.portal"):60106,Bm=Dt?Symbol.for("react.fragment"):60107,Um=Dt?Symbol.for("react.strict_mode"):60108,zm=Dt?Symbol.for("react.profiler"):60114,Vm=Dt?Symbol.for("react.provider"):60109,jm=Dt?Symbol.for("react.context"):60110,D1=Dt?Symbol.for("react.async_mode"):60111,Hm=Dt?Symbol.for("react.concurrent_mode"):60111,qm=Dt?Symbol.for("react.forward_ref"):60112,Wm=Dt?Symbol.for("react.suspense"):60113,NJ=Dt?Symbol.for("react.suspense_list"):60120,Gm=Dt?Symbol.for("react.memo"):60115,Km=Dt?Symbol.for("react.lazy"):60116,OJ=Dt?Symbol.for("react.block"):60121,LJ=Dt?Symbol.for("react.fundamental"):60117,MJ=Dt?Symbol.for("react.responder"):60118,FJ=Dt?Symbol.for("react.scope"):60119;function Mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case A1:switch(t=t.type,t){case D1:case Hm:case Bm:case zm:case Um:case Wm:return t;default:switch(t=t&&t.$$typeof,t){case jm:case qm:case Km:case Gm:case Vm:return t;default:return e}}case R1:return e}}}function O2(t){return Mn(t)===Hm}Ce.AsyncMode=D1;Ce.ConcurrentMode=Hm;Ce.ContextConsumer=jm;Ce.ContextProvider=Vm;Ce.Element=A1;Ce.ForwardRef=qm;Ce.Fragment=Bm;Ce.Lazy=Km;Ce.Memo=Gm;Ce.Portal=R1;Ce.Profiler=zm;Ce.StrictMode=Um;Ce.Suspense=Wm;Ce.isAsyncMode=function(t){return O2(t)||Mn(t)===D1};Ce.isConcurrentMode=O2;Ce.isContextConsumer=function(t){return Mn(t)===jm};Ce.isContextProvider=function(t){return Mn(t)===Vm};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===A1};Ce.isForwardRef=function(t){return Mn(t)===qm};Ce.isFragment=function(t){return Mn(t)===Bm};Ce.isLazy=function(t){return Mn(t)===Km};Ce.isMemo=function(t){return Mn(t)===Gm};Ce.isPortal=function(t){return Mn(t)===R1};Ce.isProfiler=function(t){return Mn(t)===zm};Ce.isStrictMode=function(t){return Mn(t)===Um};Ce.isSuspense=function(t){return Mn(t)===Wm};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bm||t===Hm||t===zm||t===Um||t===Wm||t===NJ||typeof t=="object"&&t!==null&&(t.$$typeof===Km||t.$$typeof===Gm||t.$$typeof===Vm||t.$$typeof===jm||t.$$typeof===qm||t.$$typeof===LJ||t.$$typeof===MJ||t.$$typeof===FJ||t.$$typeof===OJ)};Ce.typeOf=Mn;function L2(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var M2={exports:{}},Se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt=typeof Symbol=="function"&&Symbol.for,P1=Pt?Symbol.for("react.element"):60103,N1=Pt?Symbol.for("react.portal"):60106,Qm=Pt?Symbol.for("react.fragment"):60107,Ym=Pt?Symbol.for("react.strict_mode"):60108,Xm=Pt?Symbol.for("react.profiler"):60114,Jm=Pt?Symbol.for("react.provider"):60109,Zm=Pt?Symbol.for("react.context"):60110,O1=Pt?Symbol.for("react.async_mode"):60111,eg=Pt?Symbol.for("react.concurrent_mode"):60111,tg=Pt?Symbol.for("react.forward_ref"):60112,ng=Pt?Symbol.for("react.suspense"):60113,BJ=Pt?Symbol.for("react.suspense_list"):60120,ig=Pt?Symbol.for("react.memo"):60115,rg=Pt?Symbol.for("react.lazy"):60116,UJ=Pt?Symbol.for("react.block"):60121,zJ=Pt?Symbol.for("react.fundamental"):60117,VJ=Pt?Symbol.for("react.responder"):60118,jJ=Pt?Symbol.for("react.scope"):60119;function Fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P1:switch(t=t.type,t){case O1:case eg:case Qm:case Xm:case Ym:case ng:return t;default:switch(t=t&&t.$$typeof,t){case Zm:case tg:case rg:case ig:case Jm:return t;default:return e}}case N1:return e}}}function F2(t){return Fn(t)===eg}Se.AsyncMode=O1;Se.ConcurrentMode=eg;Se.ContextConsumer=Zm;Se.ContextProvider=Jm;Se.Element=P1;Se.ForwardRef=tg;Se.Fragment=Qm;Se.Lazy=rg;Se.Memo=ig;Se.Portal=N1;Se.Profiler=Xm;Se.StrictMode=Ym;Se.Suspense=ng;Se.isAsyncMode=function(t){return F2(t)||Fn(t)===O1};Se.isConcurrentMode=F2;Se.isContextConsumer=function(t){return Fn(t)===Zm};Se.isContextProvider=function(t){return Fn(t)===Jm};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P1};Se.isForwardRef=function(t){return Fn(t)===tg};Se.isFragment=function(t){return Fn(t)===Qm};Se.isLazy=function(t){return Fn(t)===rg};Se.isMemo=function(t){return Fn(t)===ig};Se.isPortal=function(t){return Fn(t)===N1};Se.isProfiler=function(t){return Fn(t)===Xm};Se.isStrictMode=function(t){return Fn(t)===Ym};Se.isSuspense=function(t){return Fn(t)===ng};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qm||t===eg||t===Xm||t===Ym||t===ng||t===BJ||typeof t=="object"&&t!==null&&(t.$$typeof===rg||t.$$typeof===ig||t.$$typeof===Jm||t.$$typeof===Zm||t.$$typeof===tg||t.$$typeof===zJ||t.$$typeof===VJ||t.$$typeof===jJ||t.$$typeof===UJ)};Se.typeOf=Fn;M2.exports=Se;var HJ=M2.exports,L1=HJ,qJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M1={};M1[L1.ForwardRef]=GJ;M1[L1.Memo]=B2;function QS(t){return L1.isMemo(t)?B2:M1[t.$$typeof]||qJ}var KJ=Object.defineProperty,QJ=Object.getOwnPropertyNames,YS=Object.getOwnPropertySymbols,YJ=Object.getOwnPropertyDescriptor,XJ=Object.getPrototypeOf,XS=Object.prototype;function U2(t,e,n){if(typeof e!="string"){if(XS){var i=XJ(e);i&&i!==XS&&U2(t,i,n)}var r=QJ(e);YS&&(r=r.concat(YS(e)));for(var o=QS(t),s=QS(e),a=0;a<r.length;++a){var l=r[a];if(!WJ[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var c=YJ(e,l);try{KJ(t,l,c)}catch(u){}}}}return t}var JJ=U2;const ZJ=fl(JJ);var $v=1073741823,JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function eZ(){var t="__global_unique_id__";return JS[t]=(JS[t]||0)+1}function tZ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nZ(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return t},set:function(i,r){t=i,e.forEach(function(o){return o(t,r)})}}}function iZ(t){return Array.isArray(t)?t[0]:t}function rZ(t,e){var n,i,r="__create-react-context-"+eZ()+"__",o=function(a){yo(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=nZ(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,p;tZ(h,f)?p=0:(p=typeof e=="function"?e(h,f):$v,p|=0,p!==0&&this.emitter.set(d.value,p))}},c.render=function(){return this.props.children},l}(I.Component);o.childContextTypes=(n={},n[r]=VS.object.isRequired,n);var s=function(a){yo(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var b=u.observedBits|0;b&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?$v:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?$v:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return iZ(this.props.children)(this.state.value)},l}(I.Component);return s.contextTypes=(i={},i[r]=VS.object,i),{Provider:o,Consumer:s}}var oZ=I.createContext||rZ,z2=function(e){var n=oZ();return n.displayName=e,n},V2=z2("Router-History"),Vu=z2("Router"),Pd=function(t){yo(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=t.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(o){r._pendingLocation=o})),r}var n=e.prototype;return n.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){r._isMounted&&r.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return I.createElement(Vu.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},I.createElement(V2.Provider,{children:this.props.children||null,value:this.props.history}))},e}(I.Component);I.Component;I.Component;var ZS={},sZ=1e4,eT=0;function aZ(t,e){var n=""+e.end+e.strict+e.sensitive,i=ZS[n]||(ZS[n]={});if(i[t])return i[t];var r=[],o=PJ(t,r,e),s={regexp:o,keys:r};return eT<sZ&&(i[t]=s,eT++),s}function Is(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,i=n.path,r=n.exact,o=r===void 0?!1:r,s=n.strict,a=s===void 0?!1:s,l=n.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=aZ(h,{end:o,strict:a,sensitive:c}),p=f.regexp,m=f.keys,b=p.exec(t);if(!b)return null;var v=b[0],g=b.slice(1),y=t===v;return o&&!y?null:{path:h,url:h==="/"&&v===""?"/":v,isExact:y,params:m.reduce(function(w,C,S){return w[C.name]=g[S],w},{})}},null)}function lZ(t){return I.Children.count(t)===0}var ra=function(t){yo(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var r=this;return I.createElement(Vu.Consumer,null,function(o){o||Ml(!1);var s=r.props.location||o.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?Is(s.pathname,r.props):o.match,l=ii({},o,{location:s,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&lZ(u)&&(u=null),I.createElement(Vu.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?I.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(I.Component);function F1(t){return t.charAt(0)==="/"?t:"/"+t}function cZ(t,e){return t?ii({},e,{pathname:F1(t)+e.pathname}):e}function uZ(t,e){if(!t)return e;var n=F1(t);return e.pathname.indexOf(n)!==0?e:ii({},e,{pathname:e.pathname.substr(n.length)})}function tT(t){return typeof t=="string"?t:zn(t)}function Av(t){return function(){Ml(!1)}}function nT(){}I.Component;I.Component;function dZ(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(r){var o=r.wrappedComponentRef,s=L2(r,["wrappedComponentRef"]);return I.createElement(Vu.Consumer,null,function(a){return a||Ml(!1),I.createElement(t,ii({},s,a,{ref:o}))})};return n.displayName=e,n.WrappedComponent=t,ZJ(n,t)}var hZ=I.useContext;function fZ(){return hZ(V2)}const j2=t=>{const e=t.title,n=t.schoolName,i=t.text,r=t.color,o=t.setShowReportModal,s=t.deleteButton,a=t.deleteAccount,l=t.dm,c=t.user,u=t.uid,d=t.share,h=t.handleShare,f=bw(),p=fZ();td();const m=async()=>{const{value:b}=await Xb.confirm({title:"Report Post",message:"Are you sure you want to report this post?",okButtonTitle:"Report"});b&&o(!0)};return H(XL,{children:H(ed,{className:"ion-no-border",mode:"ios",children:mn(u6,{mode:"ios",children:[e&&e.length>0&&H(c6,{children:e}),H(Yl,{style:{marginLeft:"-2.5%"},children:H(N6,{defaultHref:"/home",className:"back-button",icon:rJ,text:i||"Back",color:r||"primary",style:{fontSize:"1em",marginLeft:"5px"}})}),d&&H(Yl,{slot:"end",children:H(qr,{color:"primary",slot:"end",onClick:()=>{h()},children:H(qg,{icon:oJ})})}),n&&o&&H(Yl,{slot:"end",children:H(qr,{color:"primary",slot:"end",onClick:()=>{m()},children:H(qg,{icon:nJ,size:"small"})})}),l&&c&&c.uid!==u&&H(Yl,{slot:"end",children:H(qr,{color:"primary",slot:"end",mode:"md",onClick:()=>{let b=[];c&&c.uid&&u?(c.uid<u?(b.push(u),b.push(c.uid)):(b.push(c.uid),b.push(u)),p.push("/chatroom/"+n+"/"+b[0]+"_"+b[1],"forward")):(console.log(c.uid),console.log(c),console.log(u),f.create({message:"Unable to open DMs",duration:2e3,color:"toast-error"}).present())},children:H(qg,{icon:iJ})})}),s&&H(Yl,{slot:"end",children:H(qr,{onClick:()=>a(),color:"toast-error",mode:"md",fill:"clear",id:"deleteAccount",children:"Delete Account"})})]})})})};function pZ(t){return new Promise(e=>setTimeout(e,t))}const mZ={mode:qy.Body},gZ=()=>{const t=bw(),e=td(),[n,i]=we.useState(""),[r,o]=we.useState(!1),s=()=>{if(o(!0),typeof n!="string"){t.create({message:"Enter an email",duration:2e3,color:"toast-error"}).present(),o(!1);return}if(n.trim().length<=0){t.create({message:"Enter an email",duration:2e3,color:"toast-error"}).present(),o(!1);return}tJ(n).then(a=>{if(a){const l=t.create({message:"Email sent! (Check your spam folder)",duration:2e3,color:"toast-success"});l.present(),l.dismiss(),i(""),pZ(1500).then(()=>{o(!1)})}else t.create({message:"Email not found, try again",duration:2e3,color:"toast-error"}).present(),o(!1)})};return we.useEffect(()=>(Kg.addListener("keyboardWillShow",a=>{Kg.setResizeMode(mZ)}),()=>{Kg.removeAllListeners()}),[]),mn(gw,{children:[H(j2,{color:"primary",text:"Back"}),mn(fw,{children:[mn(ed,{className:"ion-no-border",style:{padding:"5vh"},children:[H(yw,{darkMode:e.darkMode,schoolName:"",zoom:1.2}),H("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"sans-serif"},children:"Forgot Password"})]}),H(Vy,{color:"primary",className:"login-label",children:"Email"}),H(jy,{className:"login-input",children:H(zy,{type:"email",value:n,placeholder:"Email",onIonChange:a=>{i(a.detail.value)}})}),H("br",{}),H(qr,{className:"login-button",disabled:r,onClick:()=>{s()},fill:"clear",expand:"block",id:"signInButton",children:"Send Password Reset"})]})]})};class vZ extends I.PureComponent{render(){return I.createElement(ra,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}class yZ extends z6{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,i,r){const o={id:Af("viewItem"),outletId:e,ionPageElement:r,reactElement:n,mount:!0,ionRoute:!1},s={exact:n.props.exact,path:n.props.path||n.props.from,component:n.props.component},a=Is(i.pathname,s);return n.type===vw&&(o.ionRoute=!0,o.disableIonPageManagement=n.props.disableIonPageManagement),o.routeData={match:a,childProps:n.props},o}getChildrenToRender(e,n,i){const r=this.getViewItemsForOutlet(e);return I.Children.forEach(n.props.children,s=>{const a=r.find(l=>iT(s,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=s)}),r.map(s=>{let a;if(s.ionRoute&&!s.disableIonPageManagement)a=I.createElement(Zk,{key:`view-${s.id}`,mount:s.mount,removeView:()=>this.remove(s)},I.cloneElement(s.reactElement,{computedMatch:s.routeData.match}));else{const l=iT(s.reactElement,i.pathname);a=I.createElement(Zk,{key:`view-${s.id}`,mount:s.mount,removeView:()=>this.remove(s)},I.cloneElement(s.reactElement,{computedMatch:s.routeData.match})),!l&&s.routeData.match&&(s.routeData.match=void 0,s.mount=!1)}return a})}findViewItemByRouteInfo(e,n,i){const{viewItem:r,match:o}=this.findViewItemByPath(e.pathname,n);return(i===void 0||i===!0)&&r&&o&&(r.routeData.match=o),r}findLeavingViewItemByRouteInfo(e,n,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,n,!1,i);return r}findViewItemByPathname(e,n){const{viewItem:i}=this.findViewItemByPath(e,n);return i}findViewItemByPath(e,n,i,r){let o,s,a;if(n)a=this.getViewItemsForOutlet(n),a.some(l),o||a.some(c);else{const u=this.getAllViewItems();u.some(l),o||u.some(c)}return{viewItem:o,match:s};function l(u){if(r&&!u.ionRoute)return!1;const d={exact:i?!0:u.routeData.childProps.exact,path:u.routeData.childProps.path||u.routeData.childProps.from,component:u.routeData.childProps.component},h=Is(e,d);return h?(o=u,s=h,!0):!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},o=u,!0):!1}}}function iT(t,e,n){const i={exact:n?!0:t.props.exact,path:t.props.path||t.props.from,component:t.props.component};return Is(e,i)}function bZ(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const rT=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class wZ extends I.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Af("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:i}=e.routeInfo;n!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),o=this.context.findLeavingViewItemByRouteInfo(e,this.id);!o&&e.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),o&&(e.routeAction==="replace"?o.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(o.mount=!1):e.routeDirection!=="none"&&r!==o&&(o.mount=!1));const s=_Z((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=s:s&&(r=this.context.createViewItem(this.id,s,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===o&&r.routeData.match.url!==e.pathname||(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),rT(r.ionPageElement)&&o!==void 0&&!rT(o.ionPageElement)))return;this.transitionPage(e,r,o)}else o&&!s&&!r&&o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const o=pw();if(!(o&&o.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:o}=this.props,s=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(s,this.id,!1),l=this.context.findViewItemByRouteInfo(o,this.id,!1);return a&&l&&await this.transitionPage(o,a,l,"back",!0),Promise.resolve()},r=o=>{if(o)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:s}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:i,onEnd:r}}async transitionPage(e,n,i,r,o=!1){const s=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:o,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(xZ(i.reactElement,e.pathname,!0)){const d=bZ(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await s(n.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await s(n.ionPageElement,void 0);else await s(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!o&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=I.Children.only(e);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return I.createElement(mw.Provider,{value:this.stackContextValue},I.cloneElement(n,{ref:r=>{n.props.setRef&&n.props.setRef(r),n.props.forwardedRef&&(n.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:o}=n;typeof o=="function"&&o(r)}},i))}static get contextType(){return DA}}function _Z(t,e){let n;return I.Children.forEach(t,i=>{const r={exact:i.props.exact,path:i.props.path||i.props.from,component:i.props.component};Is(e.pathname,r)&&(n=i)}),n||(I.Children.forEach(t,i=>{i.props.path||i.props.from||(n=i)}),n)}function xZ(t,e,n){const i={exact:n?!0:t.props.exact,path:t.props.path||t.props.from,component:t.props.component};return Is(e,i)}class kZ extends I.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new B6,this.viewStack=new yZ,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Af("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,i){if(!n)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[o,s]=n.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===o?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=o,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(o+(s?"?"+s:"")))):this.handleNavigate(o,"push","none",void 0,i,e)}handleHistoryChange(e,n){var i,r,o;let s;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?s=this.locationHistory.previous():s=this.locationHistory.current():s=this.locationHistory.current(),s.pathname+s.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((o=this.incomingRouteParams)===null||o===void 0)&&o.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:s.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:Af("routeInfo")},this.incomingRouteParams),{lastPathname:s.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:s.lastPathname}),c)l.tab=s.tab,l.pushedByRoute=s.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==s.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=(u==null?void 0:u.routeDirection)||l.routeDirection,l.routeAnimation=(u==null?void 0:u.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,i,r,o,s){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:o,routeAnimation:r,tab:s}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const i=pw();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const o=this.locationHistory.findLastLocation(r);if(o)if(this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back",routeAnimation:n||r.routeAnimation}),r.lastPathname===r.pushedByRoute||o.pathname===r.pushedByRoute&&r.tab===""&&o.tab===""){const s=this.props.history;(s.goBack||s.back)()}else this.handleNavigate(o.pathname+(o.search||""),"pop","back");else this.handleNavigate(e,"pop","back")}else this.handleNavigate(e,"pop","back")}handleResetTab(e,n,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const o=Object.assign({},r);o.pathname=n,o.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},o),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(o.pathname+(o.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return I.createElement(DA.Provider,{value:this.routeMangerContextState},I.createElement(U6,{ionRoute:vZ,ionRedirect:{},stackManager:wZ,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const og=dZ(kZ);og.displayName="IonRouter";class EZ extends I.Component{constructor(e){super(e);const{history:n}=e,i=mt(e,["history"]);this.history=n||A2(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return I.createElement(Pd,Object.assign({history:this.history},i),I.createElement(og,{registerHistoryListener:this.registerHistoryListener},n))}}class uee extends I.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return I.createElement(Pd,Object.assign({},i),I.createElement(og,{registerHistoryListener:this.registerHistoryListener},n))}}class dee extends I.Component{constructor(e){super(e);const{history:n}=e,i=mt(e,["history"]);this.history=n||_J(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const i=e.location||e,r=e.action||n;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,i=mt(e,["children"]);return I.createElement(Pd,Object.assign({history:this.history},i),I.createElement(og,{registerHistoryListener:this.registerHistoryListener},n))}}const IZ=()=>{const t=bw(),e=td(),[n,i]=we.useState(""),[r,o]=we.useState(""),[s,a]=we.useState(!1),l=async()=>{if(!n){t.create({message:"Email not found, try again",duration:2e3,color:"toast-error"}).present();return}if(!r){t.create({message:"Enter a password",duration:2e3,color:"toast-error"}).present();return}const{value:c}=await Xb.confirm({title:"Delete Account",message:"Are you sure you want to delete your account?",okButtonTitle:"Delete my account"});if(!c||!(await Xb.confirm({title:"Delete Account",message:"Are you REALLY sure you want to delete your account?",okButtonTitle:"Delete my account"})).value)return;a(!0);const d=await eJ(n.toString(),r);typeof d=="string"?t.create({message:d,duration:2e3,color:"toast-error"}).present():t.success("Account deleted! Sorry you had to go :("),a(!1)};return mn(gw,{children:[H(j2,{color:"primary",text:"Back"}),mn(fw,{children:[mn(ed,{className:"ion-no-border",style:{padding:"5vh"},children:[H(yw,{darkMode:e.darkMode,schoolName:"",zoom:1.2}),H("p",{style:{textAlign:"center",fontSize:"1.5em",fontFamily:"sans-serif"},children:"Delete Account"})]}),H("p",{className:"ion-text-center",style:{paddingLeft:"15%",paddingRight:"15%"},children:"Enter your email and password to delete your tellU account. All user posts will be deleted. No emails/passwords are saved. There is no account recovery once deleted. You can also delete your account within the tellU app."}),H(Vy,{color:"primary",className:"login-label",children:"Email"}),H(jy,{className:"login-input",children:H(zy,{type:"email",value:n,placeholder:"Email",onIonChange:c=>{i(c.detail.value)}})}),H("br",{}),H(Vy,{color:"primary",className:"login-label",children:"Password"}),H(jy,{className:"login-input",children:H(zy,{type:"password",value:r,placeholder:"Password",onIonChange:c=>{o(c.detail.value)}})}),H("br",{}),H(qr,{className:"delete-account-button",disabled:s,onClick:()=>{l()},fill:"clear",expand:"block",id:"signInButton",children:"Delete Account"}),H("br",{})," ",H("br",{}),H("br",{})," ",H("br",{})]})]})};F6({mode:"md"});const SZ=A2(),TZ=()=>{const t=td();return I.useEffect(()=>{t.setDarkMode(!0),window.open("https://apps.apple.com/us/app/tellu/id6443764288?ign-itscg=30200&ign-itsct=apps_box_link","_blank")},[]),H(c5,{value:{duration:2e3},children:mn(A6,{children:[H(ra,{path:"/",exact:!0,component:Gg}),H(ra,{path:"/landing-page",exact:!0,component:Gg}),H(ra,{path:"/forgot-password",exact:!0,component:gZ}),H(ra,{path:"/delete-account",exact:!0,component:IZ}),H(ra,{component:Gg})]})})},CZ=()=>H(x6,{children:H(EZ,{history:SZ,children:H(TZ,{})})}),$Z=document.getElementById("root"),AZ=y$($Z);AZ.render(H(V6,{children:H(CZ,{})}));export{xz as K,OA as W,PZ as __vite_legacy_guard,Ka as a,Y4 as b,Z0 as c,X4 as d,My as e,qZ as f,Vn as g,Ny as h,iz as i,GZ as j,vr as k,LZ as l,NZ as n,OZ as p,Ga as r,WZ as s,gr as w};
